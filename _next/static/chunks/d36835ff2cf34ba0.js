(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,12298,e=>{"use strict";var t=class{_providers=new Set;getModelContext(){return Array.from(this._providers).map(e=>e.getModelContext()).sort((e,t)=>(t.priority??0)-(e.priority??0)).reduce((e,t)=>{if(t.system&&(e.system?e.system+=`

${t.system}`:e.system=t.system),t.tools)for(let[r,i]of Object.entries(t.tools)){let t=e.tools?.[r];if(t&&t!==i)throw Error(`You tried to define a tool with the name ${r}, but it already exists.`);e.tools||(e.tools={}),e.tools[r]=i}return t.config&&(e.config={...e.config,...t.config}),t.callSettings&&(e.callSettings={...e.callSettings,...t.callSettings}),e},{})}registerModelContextProvider(e){this._providers.add(e);let t=e.subscribe?.(()=>{this.notifySubscribers()});return this.notifySubscribers(),()=>{this._providers.delete(e),t?.(),this.notifySubscribers()}}_subscribers=new Set;notifySubscribers(){for(let e of this._subscribers)e()}subscribe(e){return this._subscribers.add(e),()=>this._subscribers.delete(e)}};e.s(["CompositeContextProvider",()=>t],12298)},32704,26177,67586,13414,32264,27758,46602,85114,43254,22833,81089,83220,19189,54096,5347,23129,28703,17435,21918,e=>{"use strict";e.s(["AssistantProvider",()=>ef,"createAssistantApiField",()=>ea,"extendApi",()=>ep,"useAssistantApi",()=>ed,"useAssistantApiImpl",()=>eu,"useExtendedAssistantApi",()=>eh],32704);var t,r=e.i(41295);function i(e){let t=e[s];if(!t)throw Error("ResourceElement.type is not a valid Resource");return t}var s=Symbol("fnSymbol"),n=null;function o(){if(!n)throw Error("No resource fiber available");return n}function a(e,t){return{resourceFn:e,scheduleRerender:t,cells:[],currentIndex:0,renderContext:void 0,isFirstRender:!0,isMounted:!1,isNeverMounted:!0}}function l(e){e.isMounted=!1;let t=null;for(let r=e.cells.length-1;r>=0;r--){let i=e.cells[r];if(i?.type==="effect"&&i.mounted&&i.cleanup)try{i.cleanup()}catch(e){null==t&&(t=e)}finally{i.mounted=!1}}if(null!=t)throw t}function c(e,t){let r={commitTasks:[],props:t,state:void 0};e.currentIndex=0;let i=n;n=e;try{if((()=>{e.renderContext=r;try{r.state=e.resourceFn(t)}finally{e.renderContext=void 0}})(),e.isFirstRender=!1,e.cells.length!==e.currentIndex)throw Error(`Rendered ${e.currentIndex} hooks but expected ${e.cells.length}. Hooks must be called in the exact same order in every render.`)}finally{n=i}return r}function u(e,t){e.isMounted=!0,e.isNeverMounted=!1,t.commitTasks.forEach(t=>{let r=t.cellIndex,i=e.cells[r];if("effect"!==i.type)throw Error("Cannot find effect cell");let s=!0;if(void 0!==i.deps&&void 0!==t.deps&&(s=i.deps.length!==t.deps.length||i.deps.some((e,r)=>!Object.is(e,t.deps[r]))),s){if(i.mounted){if(typeof i.deps!=typeof t.deps)throw Error("tapEffect called with and without dependencies across re-renders");try{i.mounted&&i.cleanup&&i.cleanup()}finally{i.mounted=!1}}try{let e=t.effect();if(void 0!==e&&"function"!=typeof e)throw Error(`An effect function must either return a cleanup function or nothing. Received: ${typeof e}`);i.mounted=!0,i.cleanup="function"==typeof e?e:void 0,i.deps=t.deps}catch(e){throw e}}})}var h=!0===globalThis.__ASSISTANT_UI_DISABLE_LAYOUT_EFFECT__?r.useEffect:r.useLayoutEffect;function d(e){let[,t]=(0,r.useState)({}),s=(0,r.useMemo)(()=>a(i(e.type),()=>t({})),[e.type,t]),n=c(s,e.props);return h(()=>()=>l(s),[]),h(()=>{u(s,n)}),n.state}e.s(["useResource",()=>d],26177);var p=e=>"string"==typeof e?{scope:e.split(".")[0],event:e}:{scope:e.scope,event:e.event},f=(e,t,r)=>t===e;e.s(["checkEventScope",()=>f,"normalizeEventSelector",()=>p],67586);let g=e=>{let t,r=new Set,i=(e,i)=>{let s="function"==typeof e?e(t):e;if(!Object.is(s,t)){let e=t;t=(null!=i?i:"object"!=typeof s||null===s)?s:Object.assign({},t,s),r.forEach(r=>r(t,e))}},s=()=>t,n={setState:i,getState:s,getInitialState:()=>o,subscribe:e=>(r.add(e),()=>r.delete(e))},o=t=e(i,s,n);return n},m=e=>{let t=e?g(e):g,i=e=>(function(e,t=e=>e){let i=r.default.useSyncExternalStore(e.subscribe,r.default.useCallback(()=>t(e.getState()),[e,t]),r.default.useCallback(()=>t(e.getInitialState()),[e,t]));return r.default.useDebugValue(i),i})(t,e);return Object.assign(i,t),i},b=e=>e?m(e):m;function y(e,t){function r(r){let i=e(r);return i?i[t]:null}return{[t]:function(e){let t,i=!1;"function"==typeof e?t=e:e&&"object"==typeof e&&(i=!!e.optional,t=e.selector);let s=r({optional:i});return s?t?s(t):s():null},[`${t}Store`]:r}}e.s(["create",()=>b],13414),e.s(["createContextStoreHook",()=>y],32264);var _=(0,r.createContext)(null),{useThreadViewport:S,useThreadViewportStore:v}=y(function(e){let t=(0,r.useContext)(_);if(!e?.optional&&!t)throw Error("This component must be used within ThreadPrimitive.Viewport.");return t},"useThreadViewport");e.s(["ThreadViewportContext",()=>_,"useThreadViewport",()=>S,"useThreadViewportStore",()=>v],27758);var w=e=>e;e.s(["writableStore",()=>w],46602);var x=e.i(20299),E=({children:e})=>{let t=(()=>{let e=v({optional:!0}),[t]=(0,r.useState)(()=>{let e;return e=new Set,b(()=>({isAtBottom:!0,scrollToBottom:()=>{for(let t of e)t()},onScrollToBottom:t=>(e.add(t),()=>{e.delete(t)})}))});return(0,r.useEffect)(()=>e?.getState().onScrollToBottom(()=>{t.getState().scrollToBottom()}),[e,t]),(0,r.useEffect)(()=>{if(e)return t.subscribe(t=>{e.getState().isAtBottom!==t.isAtBottom&&w(e).setState({isAtBottom:t.isAtBottom})})},[t,e]),t})(),[i]=(0,r.useState)(()=>({useThreadViewport:t}));return(0,x.jsx)(_.Provider,{value:i,children:e})};e.s(["ThreadViewportProvider",()=>E],85114);var T=()=>{if(t)return t;let e=()=>({apis:new Map,nextId:0,listeners:new Set});if("undefined"==typeof window)return t=e();let r=window.__ASSISTANT_UI_DEVTOOLS_HOOK__;if(r)return t=r,r;let i=e();return window.__ASSISTANT_UI_DEVTOOLS_HOOK__=i,t=i,i},I=class e{static MAX_EVENT_LOGS_PER_API=200;static register(t){let r=T();for(let e of r.apis.values())if(e.api===t)return()=>{};let i=r.nextId++,s=t.on?.("*",t=>{let s=r.apis.get(i);s&&(s.logs.push({time:new Date,event:t.event,data:t.payload}),s.logs.length>e.MAX_EVENT_LOGS_PER_API&&(s.logs=s.logs.slice(-e.MAX_EVENT_LOGS_PER_API)),e.notifyListeners(i))}),n=t.subscribe?.(()=>{e.notifyListeners(i)});return r.apis.set(i,{api:t,logs:[]}),e.notifyListeners(i),()=>{let t=T();t.apis.get(i)&&(s?.(),n?.(),t.apis.delete(i),e.notifyListeners(i))}}static notifyListeners(e){T().listeners.forEach(t=>t(e))}};function A(e){let t=function(e){let t=o(),r=t.currentIndex++;if(!t.isFirstRender&&r>=t.cells.length)throw Error("Rendered more hooks than during the previous render. Hooks must be called in the exact same order in every render.");if(!t.cells[r]){let i={type:"state",value:"function"==typeof e?e():e,set:e=>{let r=i.value,s="function"==typeof e?e(r):e;if(!Object.is(r,s)){i.value=s;if(t.renderContext)throw Error("Resource updated during render");if(t.isNeverMounted)throw Error("Resource updated before mount");t.isMounted&&t.scheduleRerender()}}};t.cells[r]=i}let i=t.cells[r];if("state"!==i.type)throw Error("Hook order changed between renders");return i}(e);return[t.value,t.set]}function C(e){let[t]=A(()=>({current:e}));return t}e.s(["tapState",()=>A],43254);var R=(e,t)=>{let r=C();return r.current||(r.current={value:e(),deps:t}),((e,t)=>{if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!Object.is(e[r],t[r]))return!1;return!0})(r.current.deps,t)||(r.current.value=e(),r.current.deps=t),r.current.value};function M(e){let t=(e,r)=>({type:t,props:e,...r?.key!==void 0&&{key:r.key}});return t[s]=e,t}function P(e){return i(e.type)(e.props)}function k(e,t){let r=o(),i=function(){let e=o(),t=e.currentIndex++;if(!e.isFirstRender&&t>=e.cells.length)throw Error("Rendered more hooks than during the previous render. Hooks must be called in the exact same order in every render.");if(e.cells[t]||(e.cells[t]={type:"effect",mounted:!1}),"effect"!==e.cells[t].type)throw Error("Hook order changed between renders");return t}();r.renderContext.commitTasks.push({effect:e,deps:t,cellIndex:i})}function O(e,t){let[r,s]=A({}),n=R(()=>a(i(e.type),()=>s({})),[e.type]),o=t?R(()=>e.props,t):e.props,h=R(()=>c(n,o),[n,o,r]);return k(()=>()=>l(n),[n]),k(()=>{u(n,h)},[n,h]),h.state}e.s(["tapMemo",()=>R],22833),e.s(["resource",()=>M],81089),e.s(["tapInlineResource",()=>P],83220),e.s(["tapEffect",()=>k],19189);var B=class{constructor(e){this.getApi=e}get(e,t){return this.getApi()[t]}ownKeys(){return Object.keys(this.getApi())}has(e,t){return t in this.getApi()}getOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(this.getApi(),t)}set(){return!1}defineProperty(){return!1}deleteProperty(){return!1}},j=(e,t)=>{let r=C(e);k(()=>{r.current=e});let i=R(()=>new Proxy({},new B(()=>r.current)),[]),s=t?.key,n=e.getState();return R(()=>({key:s,state:n,api:i}),[n,s])};e.s(["tapApi",()=>j],54096);var L=Symbol("tap.Context"),N=e=>({[L]:e}),D=(e,t,r)=>{let i=e[L];e[L]=t;try{return r()}finally{e[L]=i}},F=e=>e[L],$=N(null),U=(e,t)=>D($,e,t),z=()=>{let e=F($);if(!e)throw Error("Model context is not available in this context");return e};e.s(["tapModelContext",()=>z,"withModelContextProvider",()=>U],5347);var H=M(({toolkit:e})=>{let[t,r]=A(()=>({tools:{}})),i=z();k(()=>{if(!e)return;let t=[];for(let[r,i]of Object.entries(e))i.render&&t.push(s(r,i.render));let r=Object.entries(e).reduce((e,[t,r])=>{let{render:i,...s}=r;return e[t]=s,e},{});return t.push(i.register({getModelContext:()=>({tools:r})})),()=>{t.forEach(e=>e())}},[e,i]);let s=(e,t)=>(r(r=>({...r,tools:{...r.tools,[e]:[...r.tools[e]??[],t]}})),()=>{r(r=>({...r,tools:{...r.tools,[e]:r.tools[e]?.filter(e=>e!==t)??[]}}))});return j({getState:()=>t,setToolUI:s})}),V=[],J=!1;function q(){J=!1;let e=V;for(let t of(V=[],e))try{t()}catch(e){console.error("Error in scheduled task:",e)}}var Y=class e{constructor(e){this._task=e}_isDirty=!1;_hasScheduledTask=!1;_isFlushing=!1;static MAX_FLUSH_DEPTH=50;get isDirty(){return this._isDirty}markDirty(){if(this._isDirty=!0,!this._hasScheduledTask&&!this._isFlushing){var e;this._hasScheduledTask=!0,e=()=>{this._hasScheduledTask=!1,this.flushSync()},V.push(e),J||(J=!0,queueMicrotask(q))}}flushSync(){if(this._isFlushing)return;this._isFlushing=!0;let t=0;try{for(;this._isDirty;){if(++t>e.MAX_FLUSH_DEPTH)throw Error("Maximum update depth exceeded. This can happen when a resource repeatedly calls setState inside tapEffect.");this._isDirty=!1,this._task()}}finally{this._isFlushing=!1}}},K=({element:e,onUpdateInput:t,onFlushSync:r,onDispose:i})=>{let[s,n]=A(e.props),o=P({type:e.type,props:s}),a=C(new Set).current,l=C(o);return k(()=>{o!==l.current&&(l.current=o,a.forEach(e=>e()))}),R(()=>({getState:()=>l.current,subscribe:e=>(a.add(e),()=>a.delete(e)),updateInput:e=>{t(),n(()=>e)},flushSync:r,dispose:i}),[])},W=M(e=>{let t=R(()=>((e,t=!1)=>{let r=!t,i={element:e,onUpdateInput:()=>{r||(r=!0,u(n,o))},onFlushSync:()=>{s.flushSync()},onDispose:()=>l(n)},s=new Y(()=>{o=c(n,i),r&&u(n,o)}),n=a(K,()=>s.markDirty()),o=c(n,i);return r&&u(n,o),o.state})(e,!0),[e.type]);return k(()=>{t.updateInput(e.props)}),t});e.s(["asStore",()=>W],23129);var X=M(()=>R(()=>{let e=new Map;return{on:(t,r)=>{e.has(t)||e.set(t,new Set);let i=e.get(t);return i.add(r),()=>{i.delete(r),0===i.size&&e.delete(t)}},emit:(t,r)=>{let i=e.get(t),s=e.get("*");(i||s)&&queueMicrotask(()=>{if(i)for(let e of i)e(r);if(s)for(let e of s)e({event:t,payload:r})})}}},[])),G=N(null),Q=(e,t)=>D(G,e,t),Z=()=>{let e=F(G);if(!e)throw Error("Events context is not available");return e};e.s(["tapEvents",()=>Z,"withEventsProvider",()=>Q],28703);var ee=e.i(12298),et=M(()=>{let[e]=A(()=>({})),t=new ee.CompositeContextProvider;return j({getState:()=>e,getModelContext:()=>t.getModelContext(),subscribe:e=>t.subscribe(e),register:e=>t.registerModelContextProvider(e)})}),er=M(({threads:e,modelContext:t,tools:r})=>{let i=P(X()),{threads:s,tools:n,modelContext:o}=Q(i,()=>{let i=O(t??et(),[t]);return U(i.api,()=>({modelContext:i,tools:O(r??H({}),[r]),threads:O(e,[e])}))}),a=R(()=>({threads:s.state,tools:n.state,modelContext:o.state}),[s.state,n.state,o.state]);return j({getState:()=>a,threads:s.api,tools:n.api,modelContext:o.api,on:i.on})});function ei(e){let t=new Set;e.forEach((e,r)=>{if(void 0===e.key)throw Error(`tapResources: All resource elements must have a key. Element at index ${r} is missing a key.`);if(t.has(e.key))throw Error(`tapResources: Duplicate key "${e.key}" found. All keys must be unique.`);t.add(e.key)});let[r,s]=A({}),n=R(()=>new Map(e.map(e=>[e.key,e])),[e]),[o]=A(()=>new Map),h=R(()=>{let e=new Map,t=new Set;return n.forEach((r,n)=>{t.add(n);let u=o.get(n);u&&u.resourceFn===i(r.type)||(u&&l(u),u=a(i(r.type),()=>s({})),o.set(n,u));let h=c(u,r.props);e.set(n,h)}),o.forEach((e,r)=>{t.has(r)||(l(e),o.delete(r))}),e},[n,r]);return k(()=>{h.forEach((e,t)=>{let r=o.get(t);r&&u(r,e)})},[h,o]),k(()=>()=>{o.forEach(e=>{l(e)}),o.clear()},[o]),R(()=>e.map(e=>h.get(e.key)?.state),[e,h])}e.s(["DerivedScope",()=>es,"DerivedScopes",()=>eo],21918),e.s(["tapResources",()=>ei],17435);var es=M(e=>{let t=C(e.get);return k(()=>{t.current=e.get}),R(()=>ea({source:e.source,query:e.query,get:()=>t.current()}),[e.source,JSON.stringify(e.query)])}),en=M(e=>{let t=O(e.scopeElement);return R(()=>[e.fieldName,t],[e.fieldName,t])}),eo=M(e=>{let{on:t,subscribe:r,flushSync:i,...s}=e,n=C({on:t,subscribe:r,flushSync:i});k(()=>{n.current={on:t,subscribe:r,flushSync:i}});let o=ei(Object.entries(s).map(([e,t])=>en({fieldName:e,scopeElement:t},{key:e})));return R(()=>{let e=Object.fromEntries(o),{on:t,subscribe:r,flushSync:i}=n.current;return t&&(e.on=(e,r)=>t(e,r)),r&&(e.subscribe=e=>r(e)),i&&(e.flushSync=()=>i()),e},[...o])}),ea=e=>{let t=e.get;return t.source=e.source,t.query=e.query,t},el=()=>()=>{},ec=(0,r.createContext)({threads:ea({source:null,query:{},get:()=>{throw Error("Threads is only available inside <AssistantProvider />")}}),tools:ea({source:null,query:{},get:()=>{throw Error("Tools is only available inside <AssistantProvider />")}}),modelContext:ea({source:null,query:{},get:()=>{throw Error("ModelContext is only available inside <AssistantProvider />")}}),threadListItem:ea({source:null,query:{},get:()=>{throw Error("ThreadListItem is only available inside <AssistantProvider />")}}),thread:ea({source:null,query:{},get:()=>{throw Error("Thread is only available inside <AssistantProvider />")}}),composer:ea({source:null,query:{},get:()=>{throw Error("Composer is only available inside <AssistantProvider />")}}),message:ea({source:null,query:{},get:()=>{throw Error("Message is only available inside <ThreadPrimitive.Messages />")}}),part:ea({source:null,query:{},get:()=>{throw Error("Part is only available inside <MessagePrimitive.Parts />")}}),attachment:ea({source:null,query:{},get:()=>{throw Error("Attachment is only available inside <MessagePrimitive.Attachments /> or <ComposerPrimitive.Attachments />")}}),subscribe:el,flushSync:el,on:e=>{let{scope:t}=p(e);throw Error(`Event scope is not available in this component: ${t}`)}}),eu=()=>(0,r.useContext)(ec),eh=e=>{let t=eu(),i=d(eo(e));return(0,r.useMemo)(()=>ep(t,i),[t,i])};function ed(e){let t,i,s;if(!e)return eu();return t=eu(),i=d(W(er(e))),s=(0,r.useMemo)(()=>{let e;return e=()=>i.getState().api.threads.item("main"),{threads:ea({source:"root",query:{},get:()=>i.getState().api.threads}),tools:ea({source:"root",query:{},get:()=>i.getState().api.tools}),modelContext:ea({source:"root",query:{},get:()=>i.getState().api.modelContext}),thread:ea({source:"threads",query:{type:"main"},get:()=>i.getState().api.threads.thread("main")}),threadListItem:ea({source:"threads",query:{type:"main"},get:()=>e()}),composer:ea({source:"thread",query:{},get:()=>i.getState().api.threads.thread("main").composer}),on(t,r){let{event:s,scope:n}=p(t);if("*"===n)return i.getState().api.on(s,r);if(f("thread",n,s)||f("thread-list-item",n,s)||f("composer",n,s))return i.getState().api.on(s,t=>{t.threadId===e().getState().id&&r(t)});throw Error(`Event scope is not available in this component: ${n}`)},subscribe:i.subscribe,flushSync:i.flushSync}},[i]),(0,r.useMemo)(()=>ep(t,s),[t,s])}var ep=(e,t)=>{var r,i,s,n;let o=t.subscribe,a=t.flushSync;return{...e,...t,subscribe:(r=e.subscribe,i=o??el,r===el?i:i===el?r:(...e)=>{let t=r(...e),s=i(...e);return()=>{t(),s()}}),flushSync:(s=e.flushSync,n=a??el,s===el?n:n===el?s:(...e)=>{s(...e),n(...e)})}},ef=({api:e,children:t,devToolsVisible:i=!0})=>((0,r.useEffect)(()=>{if(i&&e.subscribe)return I.register(e)},[e,i]),(0,x.jsx)(ec.Provider,{value:e,children:(0,x.jsx)(E,{children:t})}))},79166,e=>{"use strict";var t=Symbol("innerMessage"),r=Symbol("innerMessages"),i=e=>e[t],s=[],n=e=>{let i="messages"in e?e.messages:e,n=i[r]||i[t];return n?Array.isArray(n)?n:(i[r]=[n],i[r]):s};e.s(["getExternalStoreMessage",()=>i,"getExternalStoreMessages",()=>n,"symbolInnerMessage",()=>t])},89293,(e,t,r)=>{"use strict";var i=e.i(14370);let s=void 0!==i.Buffer,n=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,o=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function a(e,t,r){null==r&&null!==t&&"object"==typeof t&&(r=t,t=void 0),s&&i.Buffer.isBuffer(e)&&(e=e.toString()),e&&65279===e.charCodeAt(0)&&(e=e.slice(1));let a=JSON.parse(e,t);if(null===a||"object"!=typeof a)return a;let c=r&&r.protoAction||"error",u=r&&r.constructorAction||"error";if("ignore"===c&&"ignore"===u)return a;if("ignore"!==c&&"ignore"!==u){if(!1===n.test(e)&&!1===o.test(e))return a}else if("ignore"!==c&&"ignore"===u){if(!1===n.test(e))return a}else if(!1===o.test(e))return a;return l(a,{protoAction:c,constructorAction:u,safe:r&&r.safe})}function l(e,{protoAction:t="error",constructorAction:r="error",safe:i}={}){let s=[e];for(;s.length;){let e=s;for(let n of(s=[],e)){if("ignore"!==t&&Object.prototype.hasOwnProperty.call(n,"__proto__")){if(!0===i)return null;if("error"===t)throw SyntaxError("Object contains forbidden prototype property");delete n.__proto__}if("ignore"!==r&&Object.prototype.hasOwnProperty.call(n,"constructor")&&null!==n.constructor&&"object"==typeof n.constructor&&Object.prototype.hasOwnProperty.call(n.constructor,"prototype")){if(!0===i)return null;if("error"===r)throw SyntaxError("Object contains forbidden prototype property");delete n.constructor}for(let e in n){let t=n[e];t&&"object"==typeof t&&s.push(t)}}}return e}function c(e,t,r){let{stackTraceLimit:i}=Error;Error.stackTraceLimit=0;try{return a(e,t,r)}finally{Error.stackTraceLimit=i}}t.exports=c,t.exports.default=c,t.exports.parse=c,t.exports.safeParse=function(e,t){let{stackTraceLimit:r}=Error;Error.stackTraceLimit=0;try{return a(e,t,{safe:!0})}catch{return}finally{Error.stackTraceLimit=r}},t.exports.scan=l},82166,e=>{"use strict";var t=e.i(89293),r=Symbol("aui.parse-partial-json-object.meta"),i=e=>{if(0===e.length)return{[r]:{state:"partial",partialPath:[]}};try{let i=t.default.parse(e);if("object"!=typeof i||null===i)throw Error("argsText is expected to be an object");return i[r]={state:"complete",partialPath:[]},i}catch{try{let[i,s]=function(e){let t,r=["ROOT"],i=-1,s=null,n=[];function o(){void 0!==t&&(n.push(JSON.parse('"'+t+'"')),t=void 0)}function a(e,t,n){switch(e){case'"':i=t,r.pop(),r.push(n),r.push("INSIDE_STRING"),o();break;case"f":case"t":case"n":i=t,s=t,r.pop(),r.push(n),r.push("INSIDE_LITERAL");break;case"-":r.pop(),r.push(n),r.push("INSIDE_NUMBER"),o();break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":i=t,r.pop(),r.push(n),r.push("INSIDE_NUMBER"),o();break;case"{":i=t,r.pop(),r.push(n),r.push("INSIDE_OBJECT_START"),o();break;case"[":i=t,r.pop(),r.push(n),r.push("INSIDE_ARRAY_START"),o()}}function l(e,s){switch(e){case",":r.pop(),r.push("INSIDE_OBJECT_AFTER_COMMA");break;case"}":i=s,r.pop(),t=n.pop()}}function c(e,s){switch(e){case",":r.pop(),r.push("INSIDE_ARRAY_AFTER_COMMA"),t=(Number(t)+1).toString();break;case"]":i=s,r.pop(),t=n.pop()}}for(let o=0;o<e.length;o++){let u=e[o];switch(r[r.length-1]){case"ROOT":a(u,o,"FINISH");break;case"INSIDE_OBJECT_START":switch(u){case'"':r.pop(),r.push("INSIDE_OBJECT_KEY"),t="";break;case"}":i=o,r.pop(),t=n.pop()}break;case"INSIDE_OBJECT_AFTER_COMMA":'"'===u&&(r.pop(),r.push("INSIDE_OBJECT_KEY"),t="");break;case"INSIDE_OBJECT_KEY":switch(u){case'"':r.pop(),r.push("INSIDE_OBJECT_AFTER_KEY");break;case"\\":r.push("INSIDE_STRING_ESCAPE"),t+=u;break;default:t+=u}break;case"INSIDE_OBJECT_AFTER_KEY":":"===u&&(r.pop(),r.push("INSIDE_OBJECT_BEFORE_VALUE"));break;case"INSIDE_OBJECT_BEFORE_VALUE":a(u,o,"INSIDE_OBJECT_AFTER_VALUE");break;case"INSIDE_OBJECT_AFTER_VALUE":l(u,o);break;case"INSIDE_STRING":switch(u){case'"':r.pop(),i=o,t=n.pop();break;case"\\":r.push("INSIDE_STRING_ESCAPE");break;default:i=o}break;case"INSIDE_ARRAY_START":"]"===u?(i=o,r.pop(),t=n.pop()):(i=o,t="0",a(u,o,"INSIDE_ARRAY_AFTER_VALUE"));break;case"INSIDE_ARRAY_AFTER_VALUE":switch(u){case",":r.pop(),r.push("INSIDE_ARRAY_AFTER_COMMA"),t=(Number(t)+1).toString();break;case"]":i=o,r.pop(),t=n.pop();break;default:i=o}break;case"INSIDE_ARRAY_AFTER_COMMA":a(u,o,"INSIDE_ARRAY_AFTER_VALUE");break;case"INSIDE_STRING_ESCAPE":r.pop(),"INSIDE_STRING"===r[r.length-1]?i=o:"INSIDE_OBJECT_KEY"===r[r.length-1]&&(t+=u);break;case"INSIDE_NUMBER":switch(u){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":i=o;break;case"e":case"E":case"-":case".":break;case",":r.pop(),t=n.pop(),"INSIDE_ARRAY_AFTER_VALUE"===r[r.length-1]&&c(u,o),"INSIDE_OBJECT_AFTER_VALUE"===r[r.length-1]&&l(u,o);break;case"}":r.pop(),t=n.pop(),"INSIDE_OBJECT_AFTER_VALUE"===r[r.length-1]&&l(u,o);break;case"]":r.pop(),t=n.pop(),"INSIDE_ARRAY_AFTER_VALUE"===r[r.length-1]&&c(u,o);break;default:r.pop(),t=n.pop()}break;case"INSIDE_LITERAL":{let t=e.substring(s,o+1);"false".startsWith(t)||"true".startsWith(t)||"null".startsWith(t)?i=o:(r.pop(),"INSIDE_OBJECT_AFTER_VALUE"===r[r.length-1]?l(u,o):"INSIDE_ARRAY_AFTER_VALUE"===r[r.length-1]&&c(u,o))}}}let u=e.slice(0,i+1);for(let t=r.length-1;t>=0;t--)switch(r[t]){case"INSIDE_STRING":u+='"';break;case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":u+="}";break;case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":u+="]";break;case"INSIDE_LITERAL":{let t=e.substring(s,e.length);"true".startsWith(t)?u+="true".slice(t.length):"false".startsWith(t)?u+="false".slice(t.length):"null".startsWith(t)&&(u+="null".slice(t.length))}}return[u,n]}(e),n=t.default.parse(i);if("object"!=typeof n||null===n)throw Error("argsText is expected to be an object");return n[r]={state:"partial",partialPath:s},n}catch{return}}},s=(e,t,r)=>{if("object"!=typeof e||null===e)return t.state;if("complete"===t.state)return"complete";if(0===r.length)return t.state;let[i,...n]=r;if(!Object.prototype.hasOwnProperty.call(e,i))return"partial";let[o,...a]=t.partialPath;return i!==o?"complete":s(e[i],{state:"partial",partialPath:a},n)},n=(e,t)=>{let i=e?.[r];if(!i)throw Error("unable to determine object state");return s(e,i,t.map(String))};e.s(["getPartialJsonObjectFieldState",()=>n,"parsePartialJsonObject",()=>i],82166)},97167,97395,e=>{"use strict";let t=(e,t=21)=>(r=t)=>{let i="",s=0|r;for(;s--;)i+=e[Math.random()*e.length|0];return i};e.s(["customAlphabet",()=>t],97395);var r=t("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",7),i=()=>`__optimistic__${r()}`;e.s(["generateId",()=>r,"generateOptimisticId",()=>i],97167)},23789,e=>{"use strict";var t=e.i(82166),r=e.i(97167),i=(e,i,s)=>{let{role:n,id:o,createdAt:a,attachments:l,status:c,metadata:u}=e,h={id:o??i,createdAt:a??new Date},d="string"==typeof e.content?[{type:"text",text:e.content}]:e.content;if("user"!==n&&l?.length)throw Error("attachments are only supported for user messages");if("assistant"!==n&&c)throw Error("status is only supported for assistant messages");if("assistant"!==n&&u?.steps)throw Error("metadata.steps is only supported for assistant messages");switch(n){case"assistant":return{...h,role:n,content:d.map(e=>{let i=e.type;switch(i){case"text":case"reasoning":if(0===e.text.trim().length)return null;return e;case"file":case"source":case"data":return e;case"image":return(({image:e,...t})=>e.match(/^data:image\/(png|jpeg|jpg|gif|webp);base64,(.*)$/)?{...t,image:e}:(console.warn("Invalid image data format detected"),null))(e);case"tool-call":{let{parentId:i,messages:s,...n}=e,o={...n,toolCallId:e.toolCallId??"tool-"+(0,r.generateId)(),...void 0!==i&&{parentId:i},...void 0!==s&&{messages:s}};if(e.args)return{...o,args:e.args,argsText:e.argsText??JSON.stringify(e.args)};return{...o,args:(0,t.parsePartialJsonObject)(e.argsText??"")??{},argsText:e.argsText??""}}default:throw Error(`Unsupported assistant message part type: ${i}`)}}).filter(e=>!!e),status:c??s,metadata:{unstable_state:u?.unstable_state??null,unstable_annotations:u?.unstable_annotations??[],unstable_data:u?.unstable_data??[],custom:u?.custom??{},steps:u?.steps??[],...u?.submittedFeedback&&{submittedFeedback:u.submittedFeedback}}};case"user":return{...h,role:n,content:d.map(e=>{let t=e.type;switch(t){case"text":case"image":case"audio":case"file":return e;default:throw Error(`Unsupported user message part type: ${t}`)}}),attachments:l??[],metadata:{custom:u?.custom??{}}};case"system":if(1!==d.length||"text"!==d[0].type)throw Error("System messages must have exactly one text message part.");return{...h,role:n,content:d,metadata:{custom:u?.custom??{}}};default:throw Error(`Unknown message role: ${n}`)}};e.s(["fromThreadMessageLike",()=>i])},35498,e=>{"use strict";var t=Symbol("autoStatus"),r=Object.freeze(Object.assign({type:"running"},{[t]:!0})),i=Object.freeze(Object.assign({type:"complete",reason:"unknown"},{[t]:!0})),s=Object.freeze(Object.assign({type:"requires-action",reason:"tool-calls"},{[t]:!0})),n=Object.freeze(Object.assign({type:"requires-action",reason:"interrupt"},{[t]:!0})),o=e=>!0===e[t],a=(e,o,a,l,c)=>e&&c?Object.assign({type:"incomplete",reason:"error",error:c},{[t]:!0}):e&&o?r:a?n:l?s:i;e.s(["getAutoStatus",()=>a,"isAutoStatus",()=>o])},38201,e=>{"use strict";var t=e.i(12298),r=class{_contextProvider=new t.CompositeContextProvider;registerModelContextProvider(e){return this._contextProvider.registerModelContextProvider(e)}getModelContextProvider(){return this._contextProvider}};e.s(["BaseAssistantRuntimeCore",()=>r])},2631,e=>{"use strict";var t=e=>e.content.filter(e=>"text"===e.type).map(e=>e.text).join("\n\n");e.s(["getThreadMessageText",()=>t])},12164,e=>{"use strict";var t=e.i(97167),r=e.i(35498),i=e.i(23789),s={fromArray:e=>{let s=e.map(e=>(0,i.fromThreadMessageLike)(e,(0,t.generateId)(),(0,r.getAutoStatus)(!1,!1,!1,!1,void 0)));return{messages:s.map((e,t)=>({parentId:t>0?s[t-1].id:null,message:e}))}}},n=e=>e.next?n(e.next):"current"in e?e:null,o=class{constructor(e){this.func=e}_value=null;get value(){return null===this._value&&(this._value=this.func()),this._value}dirty(){this._value=null}},a=class{messages=new Map;head=null;root={children:[],next:null};updateLevels(e,t){for(let r of(e.level=t,e.children)){let e=this.messages.get(r);e&&this.updateLevels(e,t+1)}}performOp(e,t,r){let i=t.prev??this.root,s=e??this.root;if("relink"!==r||i!==s){if("link"!==r&&(i.children=i.children.filter(e=>e!==t.current.id),i.next===t)){let e=i.children.at(-1),t=e?this.messages.get(e):null;if(void 0===t)throw Error("MessageRepository(performOp/cut): Fallback sibling message not found. This is likely an internal bug in assistant-ui.");i.next=t}if("cut"!==r){for(let r=e;r;r=r.prev)if(r.current.id===t.current.id)throw Error("MessageRepository(performOp/link): A message with the same id already exists in the parent tree. This error occurs if the same message id is found multiple times. This is likely an internal bug in assistant-ui.");s.children=[...s.children,t.current.id],(n(t)===this.head||null===s.next)&&(s.next=t),t.prev=e;let r=e?e.level+1:0;this.updateLevels(t,r)}}}_messages=new o(()=>{let e=Array((this.head?.level??-1)+1);for(let t=this.head;t;t=t.prev)e[t.level]=t.current;return e});get headId(){return this.head?.current.id??null}getMessages(e){if(void 0===e||e===this.head?.current.id)return this._messages.value;let t=this.messages.get(e);if(!t)throw Error("MessageRepository(getMessages): Head message not found. This is likely an internal bug in assistant-ui.");let r=Array(t.level+1);for(let e=t;e;e=e.prev)r[e.level]=e.current;return r}addOrUpdateMessage(e,t){let r=this.messages.get(t.id),i=e?this.messages.get(e):null;if(void 0===i)throw Error("MessageRepository(addOrUpdateMessage): Parent message not found. This is likely an internal bug in assistant-ui.");if(r){r.current=t,this.performOp(i,r,"relink"),this._messages.dirty();return}let s={prev:i,current:t,next:null,children:[],level:i?i.level+1:0};this.messages.set(t.id,s),this.performOp(i,s,"link"),this.head===i&&(this.head=s),this._messages.dirty()}getMessage(e){let t=this.messages.get(e);if(!t)throw Error("MessageRepository(updateMessage): Message not found. This is likely an internal bug in assistant-ui.");return{parentId:t.prev?.current.id??null,message:t.current}}appendOptimisticMessage(e,r){let s;do s=(0,t.generateOptimisticId)();while(this.messages.has(s))return this.addOrUpdateMessage(e,(0,i.fromThreadMessageLike)(r,s,{type:"running"})),s}deleteMessage(e,t){let r=this.messages.get(e);if(!r)throw Error("MessageRepository(deleteMessage): Message not found. This is likely an internal bug in assistant-ui.");let i=void 0===t?r.prev:null===t?null:this.messages.get(t);if(void 0===i)throw Error("MessageRepository(deleteMessage): Replacement not found. This is likely an internal bug in assistant-ui.");for(let e of r.children){let t=this.messages.get(e);if(!t)throw Error("MessageRepository(deleteMessage): Child message not found. This is likely an internal bug in assistant-ui.");this.performOp(i,t,"relink")}this.performOp(null,r,"cut"),this.messages.delete(e),this.head===r&&(this.head=n(i??this.root)),this._messages.dirty()}getBranches(e){let t=this.messages.get(e);if(!t)throw Error("MessageRepository(getBranches): Message not found. This is likely an internal bug in assistant-ui.");let{children:r}=t.prev??this.root;return r}switchToBranch(e){let t=this.messages.get(e);if(!t)throw Error("MessageRepository(switchToBranch): Branch not found. This is likely an internal bug in assistant-ui.");(t.prev??this.root).next=t,this.head=n(t),this._messages.dirty()}resetHead(e){if(null===e)return void this.clear();let t=this.messages.get(e);if(!t)throw Error("MessageRepository(resetHead): Branch not found. This is likely an internal bug in assistant-ui.");if(t.children.length>0){let e=t=>{for(let r of t.children){let t=this.messages.get(r);t&&(e(t),this.messages.delete(r))}};e(t),t.children=[],t.next=null}this.head=t;for(let e=t;e;e=e.prev)e.prev&&(e.prev.next=e);this._messages.dirty()}clear(){this.messages.clear(),this.head=null,this.root={children:[],next:null},this._messages.dirty()}export(){let e=[];for(let[,t]of this.messages)e.push({message:t.current,parentId:t.prev?.current.id??null});return{headId:this.head?.current.id??null,messages:e}}import({headId:e,messages:t}){for(let{message:e,parentId:r}of t)this.addOrUpdateMessage(r,e);this.resetHead(e??t.at(-1)?.message.id??null)}};e.s(["ExportedMessageRepository",()=>s,"MessageRepository",()=>a])},31609,13931,e=>{"use strict";var t=class{_subscribers=new Set;subscribe(e){return this._subscribers.add(e),()=>this._subscribers.delete(e)}waitForUpdate(){return new Promise(e=>{let t=this.subscribe(()=>{t(),e()})})}_notifySubscribers(){let e=[];for(let t of this._subscribers)try{t()}catch(t){e.push(t)}if(e.length>0)if(1===e.length)throw e[0];else throw AggregateError(e)}},r=class extends t{isEditing=!0;get attachmentAccept(){return this.getAttachmentAdapter()?.accept??"*"}_attachments=[];get attachments(){return this._attachments}setAttachments(e){this._attachments=e,this._notifySubscribers()}get isEmpty(){return!this.text.trim()&&!this.attachments.length}_text="";get text(){return this._text}_role="user";get role(){return this._role}_runConfig={};get runConfig(){return this._runConfig}setText(e){this._text!==e&&(this._text=e,this._notifySubscribers())}setRole(e){this._role!==e&&(this._role=e,this._notifySubscribers())}setRunConfig(e){this._runConfig!==e&&(this._runConfig=e,this._notifySubscribers())}_emptyTextAndAttachments(){this._attachments=[],this._text="",this._notifySubscribers()}async _onClearAttachments(){let e=this.getAttachmentAdapter();e&&await Promise.all(this._attachments.map(t=>e.remove(t)))}async reset(){if(0===this._attachments.length&&""===this._text&&"user"===this._role&&0===Object.keys(this._runConfig).length)return;this._role="user",this._runConfig={};let e=this._onClearAttachments();this._emptyTextAndAttachments(),await e}async clearAttachments(){let e=this._onClearAttachments();this.setAttachments([]),await e}async send(){let e=this.getAttachmentAdapter(),t=e&&this.attachments.length>0?Promise.all(this.attachments.map(async t=>"complete"===t.status.type?t:await e.send(t))):[],r=this.text;this._emptyTextAndAttachments();let i={createdAt:new Date,role:this.role,content:r?[{type:"text",text:r}]:[],attachments:await t,runConfig:this.runConfig,metadata:{custom:{}}};this.handleSend(i),this._notifyEventSubscribers("send")}cancel(){this.handleCancel()}async addAttachment(e){let t=this.getAttachmentAdapter();if(!t)throw Error("Attachments are not supported");let r=e=>{let t=this._attachments.findIndex(t=>t.id===e.id);-1!==t?this._attachments=[...this._attachments.slice(0,t),e,...this._attachments.slice(t+1)]:this._attachments=[...this._attachments,e],this._notifySubscribers()},i=t.add({file:e});if(Symbol.asyncIterator in i)for await(let e of i)r(e);else r(await i);this._notifyEventSubscribers("attachment-add"),this._notifySubscribers()}async removeAttachment(e){let t=this.getAttachmentAdapter();if(!t)throw Error("Attachments are not supported");let r=this._attachments.findIndex(t=>t.id===e);if(-1===r)throw Error("Attachment not found");let i=this._attachments[r];await t.remove(i),this._attachments=[...this._attachments.slice(0,r),...this._attachments.slice(r+1)],this._notifySubscribers()}_eventSubscribers=new Map;_notifyEventSubscribers(e){let t=this._eventSubscribers.get(e);if(t)for(let e of t)e()}unstable_on(e,t){let r=this._eventSubscribers.get(e);return r?r.add(t):this._eventSubscribers.set(e,new Set([t])),()=>{let r=this._eventSubscribers.get(e);r&&r.delete(t)}}};e.s(["BaseComposerRuntimeCore",()=>r],13931);var i=class extends r{constructor(e){super(),this.runtime=e,this.connect()}_canCancel=!1;get canCancel(){return this._canCancel}get attachments(){return super.attachments}getAttachmentAdapter(){return this.runtime.adapters?.attachments}connect(){return this.runtime.subscribe(()=>{this.canCancel!==this.runtime.capabilities.cancel&&(this._canCancel=this.runtime.capabilities.cancel,this._notifySubscribers())})}async handleSend(e){this.runtime.append({...e,parentId:this.runtime.messages.at(-1)?.id??null,sourceId:null})}async handleCancel(){this.runtime.cancelRun()}};e.s(["DefaultThreadComposerRuntimeCore",()=>i],31609)},18482,45070,48471,79729,35321,e=>{"use strict";var t=class{_subscriptions=new Set;_connection;get isConnected(){return!!this._connection}notifySubscribers(){for(let e of this._subscriptions)e()}_updateConnection(){this._subscriptions.size>0?this._connection||(this._connection=this._connect()):(this._connection?.(),this._connection=void 0)}subscribe(e){return this._subscriptions.add(e),this._updateConnection(),()=>{this._subscriptions.delete(e),this._updateConnection()}}};e.s(["BaseSubject",()=>t],45070);var r=Symbol("skip-update");e.s(["SKIP_UPDATE",()=>r],48471);var i=class extends t{constructor(e){super(),this.binding=e}get path(){return this.binding.path}_previousStateDirty=!0;_previousState;getState=()=>{if(!this.isConnected||this._previousStateDirty){let e=this.binding.getState();e!==r&&(this._previousState=e),this._previousStateDirty=!1}if(void 0===this._previousState)throw Error("Entry not available in the store");return this._previousState};_connect(){let e=()=>{this._previousStateDirty=!0,this.notifySubscribers()};return this.binding.subscribe(e)}};e.s(["LazyMemoizeSubject",()=>i],18482);var s=class{constructor(e,t){this._core=e,this._threadListBinding=t,this.__internal_bindMethods()}get path(){return this._core.path}__internal_bindMethods(){this.switchTo=this.switchTo.bind(this),this.rename=this.rename.bind(this),this.archive=this.archive.bind(this),this.unarchive=this.unarchive.bind(this),this.delete=this.delete.bind(this),this.initialize=this.initialize.bind(this),this.generateTitle=this.generateTitle.bind(this),this.subscribe=this.subscribe.bind(this),this.unstable_on=this.unstable_on.bind(this),this.getState=this.getState.bind(this),this.detach=this.detach.bind(this)}getState(){return this._core.getState()}switchTo(){let e=this._core.getState();return this._threadListBinding.switchToThread(e.id)}rename(e){let t=this._core.getState();return this._threadListBinding.rename(t.id,e)}archive(){let e=this._core.getState();return this._threadListBinding.archive(e.id)}unarchive(){let e=this._core.getState();return this._threadListBinding.unarchive(e.id)}delete(){let e=this._core.getState();return this._threadListBinding.delete(e.id)}initialize(){let e=this._core.getState();return this._threadListBinding.initialize(e.id)}generateTitle(){let e=this._core.getState();return this._threadListBinding.generateTitle(e.id)}unstable_on(e,t){let r=this._core.getState().isMain,i=this._core.getState().id;return this.subscribe(()=>{let s=this._core.getState(),n=s.isMain,o=s.id;r===n&&i===o||(r=n,i=o,"switched-to"===e&&!n||"switched-away"===e&&n||t())})}subscribe(e){return this._core.subscribe(e)}detach(){let e=this._core.getState();this._threadListBinding.detach(e.id)}__internal_getRuntime(){return this}};e.s(["ThreadListItemRuntimeImpl",()=>s],79729);var n=class extends t{constructor(e){super(),this.binding=e;const t=e.getState();if(t===r)throw Error("Entry not available in the store");this._previousState=t}get path(){return this.binding.path}_previousState;getState=()=>(this.isConnected||this._syncState(),this._previousState);_syncState(){let e=this.binding.getState();return!(e===r||function(e,t){if(void 0===e&&void 0===t)return!0;if(void 0===e||void 0===t)return!1;for(let r of Object.keys(e))if(!Object.is(e[r],t[r]))return!1;return!0}(e,this._previousState))&&(this._previousState=e,!0)}_connect(){let e=()=>{this._syncState()&&this.notifySubscribers()};return this.binding.subscribe(e)}};e.s(["ShallowMemoizeSubject",()=>n],35321)},75704,15801,70382,e=>{"use strict";var t=e.i(18482),r=e.i(79729),i=e.i(48471),s=e.i(35321),n=e.i(79166),o=e.i(2631),a=class{constructor(e){this._core=e,this.__internal_bindMethods()}get path(){return this._core.path}__internal_bindMethods(){this.getState=this.getState.bind(this),this.remove=this.remove.bind(this),this.subscribe=this.subscribe.bind(this)}getState(){return this._core.getState()}subscribe(e){return this._core.subscribe(e)}},l=class extends a{constructor(e,t){super(e),this._composerApi=t}remove(){let e=this._composerApi.getState();if(!e)throw Error("Composer is not available");return e.removeAttachment(this.getState().id)}},c=class extends l{get source(){return"thread-composer"}},u=class extends l{get source(){return"edit-composer"}},h=class extends a{get source(){return"message"}constructor(e){super(e)}remove(){throw Error("Message attachments cannot be removed")}},d=e.i(45070),p=class extends d.BaseSubject{constructor(e){super(),this.config=e}getState(){return this.config.binding.getState()}outerSubscribe(e){return this.config.binding.subscribe(e)}_connect(){let e=()=>{this.notifySubscribers()},t=this.config.binding.getState(),r=t?.unstable_on(this.config.event,e),i=()=>{let i=this.config.binding.getState();i!==t&&(t=i,r?.(),r=this.config.binding.getState()?.unstable_on(this.config.event,e))},s=this.outerSubscribe(i);return()=>{s?.(),r?.()}}},f=Object.freeze([]),g=Object.freeze({}),m=class{constructor(e){this._core=e}get path(){return this._core.path}__internal_bindMethods(){this.setText=this.setText.bind(this),this.setRunConfig=this.setRunConfig.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this),this.addAttachment=this.addAttachment.bind(this),this.reset=this.reset.bind(this),this.clearAttachments=this.clearAttachments.bind(this),this.send=this.send.bind(this),this.cancel=this.cancel.bind(this),this.setRole=this.setRole.bind(this),this.getAttachmentByIndex=this.getAttachmentByIndex.bind(this),this.unstable_on=this.unstable_on.bind(this)}setText(e){let t=this._core.getState();if(!t)throw Error("Composer is not available");t.setText(e)}setRunConfig(e){let t=this._core.getState();if(!t)throw Error("Composer is not available");t.setRunConfig(e)}addAttachment(e){let t=this._core.getState();if(!t)throw Error("Composer is not available");return t.addAttachment(e)}reset(){let e=this._core.getState();if(!e)throw Error("Composer is not available");return e.reset()}clearAttachments(){let e=this._core.getState();if(!e)throw Error("Composer is not available");return e.clearAttachments()}send(){let e=this._core.getState();if(!e)throw Error("Composer is not available");e.send()}cancel(){let e=this._core.getState();if(!e)throw Error("Composer is not available");e.cancel()}setRole(e){let t=this._core.getState();if(!t)throw Error("Composer is not available");t.setRole(e)}subscribe(e){return this._core.subscribe(e)}_eventSubscriptionSubjects=new Map;unstable_on(e,t){let r=this._eventSubscriptionSubjects.get(e);return r||(r=new p({event:e,binding:this._core}),this._eventSubscriptionSubjects.set(e,r)),r.subscribe(t)}},b=class extends m{get path(){return this._core.path}get type(){return"thread"}_getState;constructor(e){const r=new t.LazyMemoizeSubject({path:e.path,getState:()=>{let t;return t=e.getState(),Object.freeze({type:"thread",isEditing:t?.isEditing??!1,canCancel:t?.canCancel??!1,isEmpty:t?.isEmpty??!0,attachments:t?.attachments??f,text:t?.text??"",role:t?.role??"user",runConfig:t?.runConfig??g,attachmentAccept:t?.attachmentAccept??"",value:t?.text??""})},subscribe:t=>e.subscribe(t)});super({path:e.path,getState:()=>e.getState(),subscribe:e=>r.subscribe(e)}),this._getState=r.getState.bind(r),this.__internal_bindMethods()}getState(){return this._getState()}getAttachmentByIndex(e){return new c(new s.ShallowMemoizeSubject({path:{...this.path,attachmentSource:"thread-composer",attachmentSelector:{type:"index",index:e},ref:this.path.ref+`${this.path.ref}.attachments[${e}]`},getState:()=>{let t=this.getState().attachments[e];return t?{...t,source:"thread-composer"}:i.SKIP_UPDATE},subscribe:e=>this._core.subscribe(e)}),this._core)}},y=class extends m{constructor(e,r){const i=new t.LazyMemoizeSubject({path:e.path,getState:()=>{let t;return t=e.getState(),Object.freeze({type:"edit",isEditing:t?.isEditing??!1,canCancel:t?.canCancel??!1,isEmpty:t?.isEmpty??!0,text:t?.text??"",role:t?.role??"user",attachments:t?.attachments??f,runConfig:t?.runConfig??g,attachmentAccept:t?.attachmentAccept??"",value:t?.text??""})},subscribe:t=>e.subscribe(t)});super({path:e.path,getState:()=>e.getState(),subscribe:e=>i.subscribe(e)}),this._beginEdit=r,this._getState=i.getState.bind(i),this.__internal_bindMethods()}get path(){return this._core.path}get type(){return"edit"}_getState;__internal_bindMethods(){super.__internal_bindMethods(),this.beginEdit=this.beginEdit.bind(this)}getState(){return this._getState()}beginEdit(){this._beginEdit()}getAttachmentByIndex(e){return new u(new s.ShallowMemoizeSubject({path:{...this.path,attachmentSource:"edit-composer",attachmentSelector:{type:"index",index:e},ref:this.path.ref+`${this.path.ref}.attachments[${e}]`},getState:()=>{let t=this.getState().attachments[e];return t?{...t,source:"edit-composer"}:i.SKIP_UPDATE},subscribe:e=>this._core.subscribe(e)}),this._core)}},_=Symbol.for("aui.tool-response"),S=class e{get[_](){return!0}artifact;result;isError;constructor(e){void 0!==e.artifact&&(this.artifact=e.artifact),this.result=e.result,this.isError=e.isError??!1}static[Symbol.hasInstance](e){return"object"==typeof e&&null!==e&&_ in e}static toResponse(t){return t instanceof e?t:new e({result:void 0===t?"<no result>":t})}};e.s(["ToolResponse",()=>S],15801);var v=class{constructor(e,t,r){this.contentBinding=e,this.messageApi=t,this.threadApi=r,this.__internal_bindMethods()}get path(){return this.contentBinding.path}__internal_bindMethods(){this.addToolResult=this.addToolResult.bind(this),this.resumeToolCall=this.resumeToolCall.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this)}getState(){return this.contentBinding.getState()}addToolResult(e){let t=this.contentBinding.getState();if(!t)throw Error("Message part is not available");if("tool-call"!==t.type)throw Error("Tried to add tool result to non-tool message part");if(!this.messageApi)throw Error("Message API is not available. This is likely a bug in assistant-ui.");if(!this.threadApi)throw Error("Thread API is not available");let r=this.messageApi.getState();if(!r)throw Error("Message is not available");let i=t.toolName,s=t.toolCallId,n=S.toResponse(e);this.threadApi.getState().addToolResult({messageId:r.id,toolName:i,toolCallId:s,result:n.result,artifact:n.artifact,isError:n.isError})}resumeToolCall(e){let t=this.contentBinding.getState();if(!t)throw Error("Message part is not available");if("tool-call"!==t.type)throw Error("Tried to resume tool call on non-tool message part");if(!this.threadApi)throw Error("Thread API is not available");let r=t.toolCallId;this.threadApi.getState().resumeToolCall({toolCallId:r,payload:e})}subscribe(e){return this.contentBinding.subscribe(e)}},w=d,x=class extends w.BaseSubject{constructor(e){super(),this.binding=e}get path(){return this.binding.path}getState(){return this.binding.getState()}outerSubscribe(e){return this.binding.subscribe(e)}_connect(){let e=()=>{this.notifySubscribers()},t=this.binding.getState(),r=t?.subscribe(e),i=()=>{let i=this.binding.getState();i!==t&&(t=i,r?.(),r=this.binding.getState()?.subscribe(e),e())},s=this.outerSubscribe(i);return()=>{s?.(),r?.()}}},E=Object.freeze({type:"complete"}),T=(e,t)=>{let r=e.content[t];if(!r)return i.SKIP_UPDATE;let s=((e,t,r)=>{if("assistant"!==e.role)return E;if("tool-call"===r.type)if(!r.result)return e.status;else return E;let i=t===Math.max(0,e.content.length-1);return"requires-action"===e.status.type?E:i?e.status:E})(e,t,r);return Object.freeze({...r,...{[n.symbolInnerMessage]:r[n.symbolInnerMessage]},status:s})},I=class{constructor(e,t){this._core=e,this._threadBinding=t,this.composer=new y(new x({path:{...this.path,ref:this.path.ref+`${this.path.ref}.composer`,composerSource:"edit"},getState:this._getEditComposerRuntimeCore,subscribe:e=>this._threadBinding.subscribe(e)}),()=>this._threadBinding.getState().beginEdit(this._core.getState().id)),this.__internal_bindMethods()}get path(){return this._core.path}__internal_bindMethods(){this.reload=this.reload.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this),this.getMessagePartByIndex=this.getMessagePartByIndex.bind(this),this.getMessagePartByToolCallId=this.getMessagePartByToolCallId.bind(this),this.getAttachmentByIndex=this.getAttachmentByIndex.bind(this),this.unstable_getCopyText=this.unstable_getCopyText.bind(this),this.speak=this.speak.bind(this),this.stopSpeaking=this.stopSpeaking.bind(this),this.submitFeedback=this.submitFeedback.bind(this),this.switchToBranch=this.switchToBranch.bind(this)}composer;_getEditComposerRuntimeCore=()=>this._threadBinding.getState().getEditComposer(this._core.getState().id);getState(){return this._core.getState()}reload(e={}){let t=this._getEditComposerRuntimeCore(),r=t??this._threadBinding.getState().composer,{runConfig:i=(t??r).runConfig}=e,s=this._core.getState();if("assistant"!==s.role)throw Error("Can only reload assistant messages");this._threadBinding.getState().startRun({parentId:s.parentId,sourceId:s.id,runConfig:i})}speak(){let e=this._core.getState();return this._threadBinding.getState().speak(e.id)}stopSpeaking(){let e=this._core.getState(),t=this._threadBinding.getState();if(t.speech?.messageId===e.id)this._threadBinding.getState().stopSpeaking();else throw Error("Message is not being spoken")}submitFeedback({type:e}){let t=this._core.getState();this._threadBinding.getState().submitFeedback({messageId:t.id,type:e})}switchToBranch({position:e,branchId:t}){let r=this._core.getState();if(t&&e)throw Error("May not specify both branchId and position");if(!t&&!e)throw Error("Must specify either branchId or position");let i=this._threadBinding.getState().getBranches(r.id),s=t;if("previous"===e?s=i[r.branchNumber-2]:"next"===e&&(s=i[r.branchNumber]),!s)throw Error("Branch not found");this._threadBinding.getState().switchToBranch(s)}unstable_getCopyText(){return(0,o.getThreadMessageText)(this.getState())}subscribe(e){return this._core.subscribe(e)}getMessagePartByIndex(e){if(e<0)throw Error("Message part index must be >= 0");return new v(new s.ShallowMemoizeSubject({path:{...this.path,ref:this.path.ref+`${this.path.ref}.content[${e}]`,messagePartSelector:{type:"index",index:e}},getState:()=>T(this.getState(),e),subscribe:e=>this._core.subscribe(e)}),this._core,this._threadBinding)}getMessagePartByToolCallId(e){return new v(new s.ShallowMemoizeSubject({path:{...this.path,ref:this.path.ref+`${this.path.ref}.content[toolCallId=${JSON.stringify(e)}]`,messagePartSelector:{type:"toolCallId",toolCallId:e}},getState:()=>{let t=this._core.getState(),r=t.content.findIndex(t=>"tool-call"===t.type&&t.toolCallId===e);return -1===r?i.SKIP_UPDATE:T(t,r)},subscribe:e=>this._core.subscribe(e)}),this._core,this._threadBinding)}getAttachmentByIndex(e){return new h(new s.ShallowMemoizeSubject({path:{...this.path,ref:this.path.ref+`${this.path.ref}.attachments[${e}]`,attachmentSource:"message",attachmentSelector:{type:"index",index:e}},getState:()=>{let t=this.getState().attachments,r=t?.[e];return r?{...r,source:"message"}:i.SKIP_UPDATE},subscribe:e=>this._core.subscribe(e)}))}},A=class{get path(){return this._threadBinding.path}get __internal_threadBinding(){return this._threadBinding}_threadBinding;constructor(e,t){const r=new s.ShallowMemoizeSubject({path:e.path,getState:()=>{var r,i;let s;return r=e.getState(),i=t.getState(),s=r.messages.at(-1),Object.freeze({threadId:i.id,metadata:i,capabilities:r.capabilities,isDisabled:r.isDisabled,isLoading:r.isLoading,isRunning:s?.role==="assistant"&&"running"===s.status.type,messages:r.messages,state:r.state,suggestions:r.suggestions,extras:r.extras,speech:r.speech})},subscribe:r=>{let i=e.subscribe(r),s=t.subscribe(r);return()=>{i(),s()}}});this._threadBinding={path:e.path,getState:()=>e.getState(),getStateState:()=>r.getState(),outerSubscribe:t=>e.outerSubscribe(t),subscribe:t=>e.subscribe(t)},this.composer=new b(new x({path:{...this.path,ref:this.path.ref+`${this.path.ref}.composer`,composerSource:"thread"},getState:()=>this._threadBinding.getState().composer,subscribe:e=>this._threadBinding.subscribe(e)})),this.__internal_bindMethods()}__internal_bindMethods(){this.append=this.append.bind(this),this.unstable_resumeRun=this.unstable_resumeRun.bind(this),this.unstable_loadExternalState=this.unstable_loadExternalState.bind(this),this.startRun=this.startRun.bind(this),this.cancelRun=this.cancelRun.bind(this),this.stopSpeaking=this.stopSpeaking.bind(this),this.export=this.export.bind(this),this.import=this.import.bind(this),this.reset=this.reset.bind(this),this.getMessageByIndex=this.getMessageByIndex.bind(this),this.getMessageById=this.getMessageById.bind(this),this.subscribe=this.subscribe.bind(this),this.unstable_on=this.unstable_on.bind(this),this.getModelContext=this.getModelContext.bind(this),this.getModelConfig=this.getModelConfig.bind(this),this.getState=this.getState.bind(this)}composer;getState(){return this._threadBinding.getStateState()}append(e){var t;this._threadBinding.getState().append((t=this._threadBinding.getState().messages,"string"==typeof e?{createdAt:new Date,parentId:t.at(-1)?.id??null,sourceId:null,runConfig:{},role:"user",content:[{type:"text",text:e}],attachments:[],metadata:{custom:{}}}:{createdAt:e.createdAt??new Date,parentId:e.parentId??t.at(-1)?.id??null,sourceId:e.sourceId??null,role:e.role??"user",content:e.content,attachments:e.attachments??[],metadata:e.metadata??{custom:{}},runConfig:e.runConfig??{},startRun:e.startRun}))}subscribe(e){return this._threadBinding.subscribe(e)}getModelContext(){return this._threadBinding.getState().getModelContext()}getModelConfig(){return this.getModelContext()}startRun(e){let t;return this._threadBinding.getState().startRun({parentId:(t=null===e||"string"==typeof e?{parentId:e}:e).parentId??null,sourceId:t.sourceId??null,runConfig:t.runConfig??{}})}unstable_resumeRun(e){return this._threadBinding.getState().resumeRun({parentId:e.parentId??null,sourceId:e.sourceId??null,runConfig:e.runConfig??{},...e.stream?{stream:e.stream}:{}})}unstable_loadExternalState(e){this._threadBinding.getState().unstable_loadExternalState(e)}cancelRun(){this._threadBinding.getState().cancelRun()}stopSpeaking(){return this._threadBinding.getState().stopSpeaking()}export(){return this._threadBinding.getState().export()}import(e){this._threadBinding.getState().import(e)}reset(e){this._threadBinding.getState().reset(e)}getMessageByIndex(e){if(e<0)throw Error("Message index must be >= 0");return this._getMessageRuntime({...this.path,ref:this.path.ref+`${this.path.ref}.messages[${e}]`,messageSelector:{type:"index",index:e}},()=>{let t=this._threadBinding.getState().messages,r=t[e];if(r)return{message:r,parentId:t[e-1]?.id??null}})}getMessageById(e){return this._getMessageRuntime({...this.path,ref:this.path.ref+`${this.path.ref}.messages[messageId=${JSON.stringify(e)}]`,messageSelector:{type:"messageId",messageId:e}},()=>this._threadBinding.getState().getMessageById(e))}_getMessageRuntime(e,t){return new I(new s.ShallowMemoizeSubject({path:e,getState:()=>{let{message:e,parentId:r}=t()??{},{messages:s,speech:o}=this._threadBinding.getState();if(!e||void 0===r)return i.SKIP_UPDATE;let a=this._threadBinding.getState().getBranches(e.id),l=e.metadata.submittedFeedback;return{...e,...{[n.symbolInnerMessage]:e[n.symbolInnerMessage]},isLast:s.at(-1)?.id===e.id,parentId:r,branchNumber:a.indexOf(e.id)+1,branchCount:a.length,speech:o?.messageId===e.id?o:void 0,submittedFeedback:l}},subscribe:e=>this._threadBinding.subscribe(e)}),this._threadBinding)}_eventSubscriptionSubjects=new Map;unstable_on(e,t){let r=this._eventSubscriptionSubjects.get(e);return r||(r=new p({event:e,binding:this._threadBinding}),this._eventSubscriptionSubjects.set(e,r)),r.subscribe(t)}};e.s(["ThreadRuntimeImpl",()=>A],70382);var C=(e,t)=>{if(void 0===t)return i.SKIP_UPDATE;let r=e.getItemById(t);return r?{id:r.id,threadId:r.id,remoteId:r.remoteId,externalId:r.externalId,title:r.title,status:r.status,isMain:r.id===e.mainThreadId}:i.SKIP_UPDATE},R=class{constructor(e,i=A){this._core=e,this._runtimeFactory=i;const n=new t.LazyMemoizeSubject({path:{},getState:()=>({mainThreadId:e.mainThreadId,newThread:e.newThreadId,threads:e.threadIds,archivedThreads:e.archivedThreadIds,isLoading:e.isLoading,threadItems:e.threadData}),subscribe:t=>e.subscribe(t)});this._getState=n.getState.bind(n),this._mainThreadListItemRuntime=new r.ThreadListItemRuntimeImpl(new s.ShallowMemoizeSubject({path:{ref:"threadItems[main]",threadSelector:{type:"main"}},getState:()=>C(this._core,this._core.mainThreadId),subscribe:e=>this._core.subscribe(e)}),this._core),this.main=new i(new x({path:{ref:"threads.main",threadSelector:{type:"main"}},getState:()=>e.getMainThreadRuntimeCore(),subscribe:t=>e.subscribe(t)}),this._mainThreadListItemRuntime),this.__internal_bindMethods()}_getState;__internal_bindMethods(){this.switchToThread=this.switchToThread.bind(this),this.switchToNewThread=this.switchToNewThread.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this),this.getById=this.getById.bind(this),this.getItemById=this.getItemById.bind(this),this.getItemByIndex=this.getItemByIndex.bind(this),this.getArchivedItemByIndex=this.getArchivedItemByIndex.bind(this)}switchToThread(e){return this._core.switchToThread(e)}switchToNewThread(){return this._core.switchToNewThread()}getState(){return this._getState()}subscribe(e){return this._core.subscribe(e)}_mainThreadListItemRuntime;main;get mainItem(){return this._mainThreadListItemRuntime}getById(e){return new this._runtimeFactory(new x({path:{ref:"threads[threadId="+JSON.stringify(e)+"]",threadSelector:{type:"threadId",threadId:e}},getState:()=>this._core.getThreadRuntimeCore(e),subscribe:e=>this._core.subscribe(e)}),this.mainItem)}getItemByIndex(e){return new r.ThreadListItemRuntimeImpl(new s.ShallowMemoizeSubject({path:{ref:`threadItems[${e}]`,threadSelector:{type:"index",index:e}},getState:()=>C(this._core,this._core.threadIds[e]),subscribe:e=>this._core.subscribe(e)}),this._core)}getArchivedItemByIndex(e){return new r.ThreadListItemRuntimeImpl(new s.ShallowMemoizeSubject({path:{ref:`archivedThreadItems[${e}]`,threadSelector:{type:"archiveIndex",index:e}},getState:()=>C(this._core,this._core.archivedThreadIds[e]),subscribe:e=>this._core.subscribe(e)}),this._core)}getItemById(e){return new r.ThreadListItemRuntimeImpl(new s.ShallowMemoizeSubject({path:{ref:`threadItems[threadId=${e}]`,threadSelector:{type:"threadId",threadId:e}},getState:()=>C(this._core,e),subscribe:e=>this._core.subscribe(e)}),this._core)}},M=e.i(12164),P=class{constructor(e){this._core=e,this.threads=new R(e.threads),this._thread=this.threads.main,this.__internal_bindMethods()}threads;get threadList(){return this.threads}_thread;__internal_bindMethods(){this.switchToNewThread=this.switchToNewThread.bind(this),this.switchToThread=this.switchToThread.bind(this),this.registerModelContextProvider=this.registerModelContextProvider.bind(this),this.registerModelConfigProvider=this.registerModelConfigProvider.bind(this),this.reset=this.reset.bind(this)}get thread(){return this._thread}switchToNewThread(){return this._core.threads.switchToNewThread()}switchToThread(e){return this._core.threads.switchToThread(e)}registerModelContextProvider(e){return this._core.registerModelContextProvider(e)}registerModelConfigProvider(e){return this.registerModelContextProvider(e)}reset({initialMessages:e}={}){return this._core.threads.getMainThreadRuntimeCore().import(M.ExportedMessageRepository.fromArray(e??[]))}};e.s(["AssistantRuntimeImpl",()=>P],75704)},99433,e=>{"use strict";let t=(0,e.i(71775).default)("brain",[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]]);e.s(["default",()=>t])},74978,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={assign:function(){return l},searchParamsToUrlQuery:function(){return n},urlQueryToSearchParams:function(){return a}};for(var s in i)Object.defineProperty(r,s,{enumerable:!0,get:i[s]});function n(e){let t={};for(let[r,i]of e.entries()){let e=t[r];void 0===e?t[r]=i:Array.isArray(e)?e.push(i):t[r]=[e,i]}return t}function o(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function a(e){let t=new URLSearchParams;for(let[r,i]of Object.entries(e))if(Array.isArray(i))for(let e of i)t.append(r,o(e));else t.set(r,o(i));return t}function l(e,...t){for(let r of t){for(let t of r.keys())e.delete(t);for(let[t,i]of r.entries())e.append(t,i)}return e}},85915,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={formatUrl:function(){return a},formatWithValidation:function(){return c},urlObjectKeys:function(){return l}};for(var s in i)Object.defineProperty(r,s,{enumerable:!0,get:i[s]});let n=e.r(26543)._(e.r(74978)),o=/https?|ftp|gopher|file/;function a(e){let{auth:t,hostname:r}=e,i=e.protocol||"",s=e.pathname||"",a=e.hash||"",l=e.query||"",c=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?c=t+e.host:r&&(c=t+(~r.indexOf(":")?`[${r}]`:r),e.port&&(c+=":"+e.port)),l&&"object"==typeof l&&(l=String(n.urlQueryToSearchParams(l)));let u=e.search||l&&`?${l}`||"";return i&&!i.endsWith(":")&&(i+=":"),e.slashes||(!i||o.test(i))&&!1!==c?(c="//"+(c||""),s&&"/"!==s[0]&&(s="/"+s)):c||(c=""),a&&"#"!==a[0]&&(a="#"+a),u&&"?"!==u[0]&&(u="?"+u),s=s.replace(/[?#]/g,encodeURIComponent),u=u.replace("#","%23"),`${i}${c}${s}${u}${a}`}let l=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function c(e){return a(e)}},53671,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={DecodeError:function(){return b},MiddlewareNotFoundError:function(){return v},MissingStaticPage:function(){return S},NormalizeError:function(){return y},PageNotFoundError:function(){return _},SP:function(){return g},ST:function(){return m},WEB_VITALS:function(){return n},execOnce:function(){return o},getDisplayName:function(){return h},getLocationOrigin:function(){return c},getURL:function(){return u},isAbsoluteUrl:function(){return l},isResSent:function(){return d},loadGetInitialProps:function(){return f},normalizeRepeatedSlashes:function(){return p},stringifyError:function(){return w}};for(var s in i)Object.defineProperty(r,s,{enumerable:!0,get:i[s]});let n=["CLS","FCP","FID","INP","LCP","TTFB"];function o(e){let t,r=!1;return(...i)=>(r||(r=!0,t=e(...i)),t)}let a=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,l=e=>a.test(e);function c(){let{protocol:e,hostname:t,port:r}=window.location;return`${e}//${t}${r?":"+r:""}`}function u(){let{href:e}=window.location,t=c();return e.substring(t.length)}function h(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function d(e){return e.finished||e.headersSent}function p(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function f(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await f(t.Component,t.ctx)}:{};let i=await e.getInitialProps(t);if(r&&d(r))return i;if(!i)throw Object.defineProperty(Error(`"${h(e)}.getInitialProps()" should resolve to an object. But found "${i}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return i}let g="undefined"!=typeof performance,m=g&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class b extends Error{}class y extends Error{}class _ extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class S extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class v extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function w(e){return JSON.stringify({message:e.message,stack:e.stack})}},6636,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isLocalURL",{enumerable:!0,get:function(){return n}});let i=e.r(53671),s=e.r(56270);function n(e){if(!(0,i.isAbsoluteUrl)(e))return!0;try{let t=(0,i.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,s.hasBasePath)(r.pathname)}catch(e){return!1}}},98790,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return i}});let i=e=>{}},94772,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={default:function(){return b},useLinkStatus:function(){return _}};for(var s in i)Object.defineProperty(r,s,{enumerable:!0,get:i[s]});let n=e.r(26543),o=e.r(20299),a=n._(e.r(41295)),l=e.r(85915),c=e.r(52391),u=e.r(74464),h=e.r(53671),d=e.r(9959);e.r(33041);let p=e.r(44529),f=e.r(6636),g=e.r(68400);function m(e){return"string"==typeof e?e:(0,l.formatUrl)(e)}function b(t){var r;let i,s,n,[l,b]=(0,a.useOptimistic)(p.IDLE_LINK_STATUS),_=(0,a.useRef)(null),{href:S,as:v,children:w,prefetch:x=null,passHref:E,replace:T,shallow:I,scroll:A,onClick:C,onMouseEnter:R,onTouchStart:M,legacyBehavior:P=!1,onNavigate:k,ref:O,unstable_dynamicOnHover:B,...j}=t;i=w,P&&("string"==typeof i||"number"==typeof i)&&(i=(0,o.jsx)("a",{children:i}));let L=a.default.useContext(c.AppRouterContext),N=!1!==x,D=!1!==x?null===(r=x)||"auto"===r?g.FetchStrategy.PPR:g.FetchStrategy.Full:g.FetchStrategy.PPR,{href:F,as:$}=a.default.useMemo(()=>{let e=m(S);return{href:e,as:v?m(v):e}},[S,v]);if(P){if(i?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});s=a.default.Children.only(i)}let U=P?s&&"object"==typeof s&&s.ref:O,z=a.default.useCallback(e=>(null!==L&&(_.current=(0,p.mountLinkInstance)(e,F,L,D,N,b)),()=>{_.current&&((0,p.unmountLinkForCurrentNavigation)(_.current),_.current=null),(0,p.unmountPrefetchableInstance)(e)}),[N,F,L,D,b]),H={ref:(0,u.useMergedRef)(z,U),onClick(t){P||"function"!=typeof C||C(t),P&&s.props&&"function"==typeof s.props.onClick&&s.props.onClick(t),!L||t.defaultPrevented||function(t,r,i,s,n,o,l){if("undefined"!=typeof window){let c,{nodeName:u}=t.currentTarget;if("A"===u.toUpperCase()&&((c=t.currentTarget.getAttribute("target"))&&"_self"!==c||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which)||t.currentTarget.hasAttribute("download"))return;if(!(0,f.isLocalURL)(r)){n&&(t.preventDefault(),location.replace(r));return}if(t.preventDefault(),l){let e=!1;if(l({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:h}=e.r(6556);a.default.startTransition(()=>{h(i||r,n?"replace":"push",o??!0,s.current)})}}(t,F,$,_,T,A,k)},onMouseEnter(e){P||"function"!=typeof R||R(e),P&&s.props&&"function"==typeof s.props.onMouseEnter&&s.props.onMouseEnter(e),L&&N&&(0,p.onNavigationIntent)(e.currentTarget,!0===B)},onTouchStart:function(e){P||"function"!=typeof M||M(e),P&&s.props&&"function"==typeof s.props.onTouchStart&&s.props.onTouchStart(e),L&&N&&(0,p.onNavigationIntent)(e.currentTarget,!0===B)}};return(0,h.isAbsoluteUrl)($)?H.href=$:P&&!E&&("a"!==s.type||"href"in s.props)||(H.href=(0,d.addBasePath)($)),n=P?a.default.cloneElement(s,H):(0,o.jsx)("a",{...j,...H,children:i}),(0,o.jsx)(y.Provider,{value:l,children:n})}e.r(98790);let y=(0,a.createContext)(p.IDLE_LINK_STATUS),_=()=>(0,a.useContext)(y);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},32307,e=>{"use strict";var t=e.i(41295),r=e.i(32704),i=class{#e;constructor(e){this.#e=e}get threads(){return this.#e.threads().getState()}get tools(){return this.#e.tools().getState()}get threadListItem(){return this.#e.threadListItem().getState()}get thread(){return this.#e.thread().getState()}get composer(){return this.#e.composer().getState()}get message(){return this.#e.message().getState()}get part(){return this.#e.part().getState()}get attachment(){return this.#e.attachment().getState()}},s=e=>{let s=(0,r.useAssistantApi)(),n=(0,t.useMemo)(()=>new i(s),[s]),o=(0,t.useSyncExternalStore)(s.subscribe,()=>e(n),()=>e(n));if((0,t.useDebugValue)(o),o instanceof i)throw Error("You tried to return the entire AssistantState. This is not supported due to technical limitations.");return o};e.s(["useAssistantState",()=>s])},64270,e=>{"use strict";var t=e.i(41295),r=e.i(95980),i=e.i(64150),s=e.i(20299),n=(e,n,o=[])=>{let a=(0,t.forwardRef)((e,t)=>{let a={},l={};Object.keys(e).forEach(t=>{o.includes(t)?a[t]=e[t]:l[t]=e[t]});let c=n(a)??void 0;return(0,s.jsx)(r.Primitive.button,{type:"button",...l,ref:t,disabled:l.disabled||!c,onClick:(0,i.composeEventHandlers)(l.onClick,c)})});return a.displayName=e,a};e.s(["createActionButton",()=>n])},43831,e=>{"use strict";var t=e.i(61572);e.s(["PlusIcon",()=>t.default])},32312,e=>{"use strict";var t=e.i(41295);let r=["top","right","bottom","left"],i=Math.min,s=Math.max,n=Math.round,o=Math.floor,a=e=>({x:e,y:e}),l={left:"right",right:"left",bottom:"top",top:"bottom"},c={start:"end",end:"start"};function u(e,t){return"function"==typeof e?e(t):e}function h(e){return e.split("-")[0]}function d(e){return e.split("-")[1]}function p(e){return"x"===e?"y":"x"}function f(e){return"y"===e?"height":"width"}let g=new Set(["top","bottom"]);function m(e){return g.has(h(e))?"y":"x"}function b(e){return e.replace(/start|end/g,e=>c[e])}let y=["left","right"],_=["right","left"],S=["top","bottom"],v=["bottom","top"];function w(e){return e.replace(/left|right|bottom|top/g,e=>l[e])}function x(e){return"number"!=typeof e?{top:0,right:0,bottom:0,left:0,...e}:{top:e,right:e,bottom:e,left:e}}function E(e){let{x:t,y:r,width:i,height:s}=e;return{width:i,height:s,top:r,left:t,right:t+i,bottom:r+s,x:t,y:r}}function T(e,t,r){let i,{reference:s,floating:n}=e,o=m(t),a=p(m(t)),l=f(a),c=h(t),u="y"===o,g=s.x+s.width/2-n.width/2,b=s.y+s.height/2-n.height/2,y=s[l]/2-n[l]/2;switch(c){case"top":i={x:g,y:s.y-n.height};break;case"bottom":i={x:g,y:s.y+s.height};break;case"right":i={x:s.x+s.width,y:b};break;case"left":i={x:s.x-n.width,y:b};break;default:i={x:s.x,y:s.y}}switch(d(t)){case"start":i[a]-=y*(r&&u?-1:1);break;case"end":i[a]+=y*(r&&u?-1:1)}return i}let I=async(e,t,r)=>{let{placement:i="bottom",strategy:s="absolute",middleware:n=[],platform:o}=r,a=n.filter(Boolean),l=await (null==o.isRTL?void 0:o.isRTL(t)),c=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:u,y:h}=T(c,i,l),d=i,p={},f=0;for(let r=0;r<a.length;r++){let{name:n,fn:g}=a[r],{x:m,y:b,data:y,reset:_}=await g({x:u,y:h,initialPlacement:i,placement:d,strategy:s,middlewareData:p,rects:c,platform:o,elements:{reference:e,floating:t}});u=null!=m?m:u,h=null!=b?b:h,p={...p,[n]:{...p[n],...y}},_&&f<=50&&(f++,"object"==typeof _&&(_.placement&&(d=_.placement),_.rects&&(c=!0===_.rects?await o.getElementRects({reference:e,floating:t,strategy:s}):_.rects),{x:u,y:h}=T(c,d,l)),r=-1)}return{x:u,y:h,placement:d,strategy:s,middlewareData:p}};async function A(e,t){var r;void 0===t&&(t={});let{x:i,y:s,platform:n,rects:o,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:d="floating",altBoundary:p=!1,padding:f=0}=u(t,e),g=x(f),m=a[p?"floating"===d?"reference":"floating":d],b=E(await n.getClippingRect({element:null==(r=await (null==n.isElement?void 0:n.isElement(m)))||r?m:m.contextElement||await (null==n.getDocumentElement?void 0:n.getDocumentElement(a.floating)),boundary:c,rootBoundary:h,strategy:l})),y="floating"===d?{x:i,y:s,width:o.floating.width,height:o.floating.height}:o.reference,_=await (null==n.getOffsetParent?void 0:n.getOffsetParent(a.floating)),S=await (null==n.isElement?void 0:n.isElement(_))&&await (null==n.getScale?void 0:n.getScale(_))||{x:1,y:1},v=E(n.convertOffsetParentRelativeRectToViewportRelativeRect?await n.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:_,strategy:l}):y);return{top:(b.top-v.top+g.top)/S.y,bottom:(v.bottom-b.bottom+g.bottom)/S.y,left:(b.left-v.left+g.left)/S.x,right:(v.right-b.right+g.right)/S.x}}function C(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function R(e){return r.some(t=>e[t]>=0)}let M=new Set(["left","top"]);async function P(e,t){let{placement:r,platform:i,elements:s}=e,n=await (null==i.isRTL?void 0:i.isRTL(s.floating)),o=h(r),a=d(r),l="y"===m(r),c=M.has(o)?-1:1,p=n&&l?-1:1,f=u(t,e),{mainAxis:g,crossAxis:b,alignmentAxis:y}="number"==typeof f?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&"number"==typeof y&&(b="end"===a?-1*y:y),l?{x:b*p,y:g*c}:{x:g*c,y:b*p}}function k(){return"undefined"!=typeof window}function O(e){return L(e)?(e.nodeName||"").toLowerCase():"#document"}function B(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function j(e){var t;return null==(t=(L(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function L(e){return!!k()&&(e instanceof Node||e instanceof B(e).Node)}function N(e){return!!k()&&(e instanceof Element||e instanceof B(e).Element)}function D(e){return!!k()&&(e instanceof HTMLElement||e instanceof B(e).HTMLElement)}function F(e){return!!k()&&"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof B(e).ShadowRoot)}let $=new Set(["inline","contents"]);function U(e){let{overflow:t,overflowX:r,overflowY:i,display:s}=Q(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+r)&&!$.has(s)}let z=new Set(["table","td","th"]),H=[":popover-open",":modal"];function V(e){return H.some(t=>{try{return e.matches(t)}catch(e){return!1}})}let J=["transform","translate","scale","rotate","perspective"],q=["transform","translate","scale","rotate","perspective","filter"],Y=["paint","layout","strict","content"];function K(e){let t=W(),r=N(e)?Q(e):e;return J.some(e=>!!r[e]&&"none"!==r[e])||!!r.containerType&&"normal"!==r.containerType||!t&&!!r.backdropFilter&&"none"!==r.backdropFilter||!t&&!!r.filter&&"none"!==r.filter||q.some(e=>(r.willChange||"").includes(e))||Y.some(e=>(r.contain||"").includes(e))}function W(){return"undefined"!=typeof CSS&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}let X=new Set(["html","body","#document"]);function G(e){return X.has(O(e))}function Q(e){return B(e).getComputedStyle(e)}function Z(e){return N(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ee(e){if("html"===O(e))return e;let t=e.assignedSlot||e.parentNode||F(e)&&e.host||j(e);return F(t)?t.host:t}function et(e,t,r){var i;void 0===t&&(t=[]),void 0===r&&(r=!0);let s=function e(t){let r=ee(t);return G(r)?t.ownerDocument?t.ownerDocument.body:t.body:D(r)&&U(r)?r:e(r)}(e),n=s===(null==(i=e.ownerDocument)?void 0:i.body),o=B(s);if(n){let e=er(o);return t.concat(o,o.visualViewport||[],U(s)?s:[],e&&r?et(e):[])}return t.concat(s,et(s,[],r))}function er(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function ei(e){let t=Q(e),r=parseFloat(t.width)||0,i=parseFloat(t.height)||0,s=D(e),o=s?e.offsetWidth:r,a=s?e.offsetHeight:i,l=n(r)!==o||n(i)!==a;return l&&(r=o,i=a),{width:r,height:i,$:l}}function es(e){return N(e)?e:e.contextElement}function en(e){let t=es(e);if(!D(t))return a(1);let r=t.getBoundingClientRect(),{width:i,height:s,$:o}=ei(t),l=(o?n(r.width):r.width)/i,c=(o?n(r.height):r.height)/s;return l&&Number.isFinite(l)||(l=1),c&&Number.isFinite(c)||(c=1),{x:l,y:c}}let eo=a(0);function ea(e){let t=B(e);return W()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:eo}function el(e,t,r,i){var s;void 0===t&&(t=!1),void 0===r&&(r=!1);let n=e.getBoundingClientRect(),o=es(e),l=a(1);t&&(i?N(i)&&(l=en(i)):l=en(e));let c=(void 0===(s=r)&&(s=!1),i&&(!s||i===B(o))&&s)?ea(o):a(0),u=(n.left+c.x)/l.x,h=(n.top+c.y)/l.y,d=n.width/l.x,p=n.height/l.y;if(o){let e=B(o),t=i&&N(i)?B(i):i,r=e,s=er(r);for(;s&&i&&t!==r;){let e=en(s),t=s.getBoundingClientRect(),i=Q(s),n=t.left+(s.clientLeft+parseFloat(i.paddingLeft))*e.x,o=t.top+(s.clientTop+parseFloat(i.paddingTop))*e.y;u*=e.x,h*=e.y,d*=e.x,p*=e.y,u+=n,h+=o,s=er(r=B(s))}}return E({width:d,height:p,x:u,y:h})}function ec(e,t){let r=Z(e).scrollLeft;return t?t.left+r:el(j(e)).left+r}function eu(e,t,r){void 0===r&&(r=!1);let i=e.getBoundingClientRect();return{x:i.left+t.scrollLeft-(r?0:ec(e,i)),y:i.top+t.scrollTop}}let eh=new Set(["absolute","fixed"]);function ed(e,t,r){var i;let n;if("viewport"===t)n=function(e,t){let r=B(e),i=j(e),s=r.visualViewport,n=i.clientWidth,o=i.clientHeight,a=0,l=0;if(s){n=s.width,o=s.height;let e=W();(!e||e&&"fixed"===t)&&(a=s.offsetLeft,l=s.offsetTop)}return{width:n,height:o,x:a,y:l}}(e,r);else if("document"===t){let t,r,o,a,l,c,u;i=j(e),t=j(i),r=Z(i),o=i.ownerDocument.body,a=s(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),l=s(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight),c=-r.scrollLeft+ec(i),u=-r.scrollTop,"rtl"===Q(o).direction&&(c+=s(t.clientWidth,o.clientWidth)-a),n={width:a,height:l,x:c,y:u}}else if(N(t)){let e,i,s,o,l,c;i=(e=el(t,!0,"fixed"===r)).top+t.clientTop,s=e.left+t.clientLeft,o=D(t)?en(t):a(1),l=t.clientWidth*o.x,c=t.clientHeight*o.y,n={width:l,height:c,x:s*o.x,y:i*o.y}}else{let r=ea(e);n={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return E(n)}function ep(e){return"static"===Q(e).position}function ef(e,t){if(!D(e)||"fixed"===Q(e).position)return null;if(t)return t(e);let r=e.offsetParent;return j(e)===r&&(r=r.ownerDocument.body),r}function eg(e,t){var r;let i=B(e);if(V(e))return i;if(!D(e)){let t=ee(e);for(;t&&!G(t);){if(N(t)&&!ep(t))return t;t=ee(t)}return i}let s=ef(e,t);for(;s&&(r=s,z.has(O(r)))&&ep(s);)s=ef(s,t);return s&&G(s)&&ep(s)&&!K(s)?i:s||function(e){let t=ee(e);for(;D(t)&&!G(t);){if(K(t))return t;if(V(t))break;t=ee(t)}return null}(e)||i}let em=async function(e){let t=this.getOffsetParent||eg,r=this.getDimensions,i=await r(e.floating);return{reference:function(e,t,r){let i=D(t),s=j(t),n="fixed"===r,o=el(e,!0,n,t),l={scrollLeft:0,scrollTop:0},c=a(0);if(i||!i&&!n)if(("body"!==O(t)||U(s))&&(l=Z(t)),i){let e=el(t,!0,n,t);c.x=e.x+t.clientLeft,c.y=e.y+t.clientTop}else s&&(c.x=ec(s));n&&!i&&s&&(c.x=ec(s));let u=!s||i||n?a(0):eu(s,l);return{x:o.left+l.scrollLeft-c.x-u.x,y:o.top+l.scrollTop-c.y-u.y,width:o.width,height:o.height}}(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}},eb={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:r,offsetParent:i,strategy:s}=e,n="fixed"===s,o=j(i),l=!!t&&V(t.floating);if(i===o||l&&n)return r;let c={scrollLeft:0,scrollTop:0},u=a(1),h=a(0),d=D(i);if((d||!d&&!n)&&(("body"!==O(i)||U(o))&&(c=Z(i)),D(i))){let e=el(i);u=en(i),h.x=e.x+i.clientLeft,h.y=e.y+i.clientTop}let p=!o||d||n?a(0):eu(o,c,!0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+h.x+p.x,y:r.y*u.y-c.scrollTop*u.y+h.y+p.y}},getDocumentElement:j,getClippingRect:function(e){let{element:t,boundary:r,rootBoundary:n,strategy:o}=e,a=[..."clippingAncestors"===r?V(t)?[]:function(e,t){let r=t.get(e);if(r)return r;let i=et(e,[],!1).filter(e=>N(e)&&"body"!==O(e)),s=null,n="fixed"===Q(e).position,o=n?ee(e):e;for(;N(o)&&!G(o);){let t=Q(o),r=K(o);r||"fixed"!==t.position||(s=null),(n?!r&&!s:!r&&"static"===t.position&&!!s&&eh.has(s.position)||U(o)&&!r&&function e(t,r){let i=ee(t);return!(i===r||!N(i)||G(i))&&("fixed"===Q(i).position||e(i,r))}(e,o))?i=i.filter(e=>e!==o):s=t,o=ee(o)}return t.set(e,i),i}(t,this._c):[].concat(r),n],l=a[0],c=a.reduce((e,r)=>{let n=ed(t,r,o);return e.top=s(n.top,e.top),e.right=i(n.right,e.right),e.bottom=i(n.bottom,e.bottom),e.left=s(n.left,e.left),e},ed(t,l,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},getOffsetParent:eg,getElementRects:em,getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){let{width:t,height:r}=ei(e);return{width:t,height:r}},getScale:en,isElement:N,isRTL:function(e){return"rtl"===Q(e).direction}};function ey(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}let e_=e=>({name:"arrow",options:e,async fn(t){let{x:r,y:n,placement:o,rects:a,platform:l,elements:c,middlewareData:h}=t,{element:g,padding:b=0}=u(e,t)||{};if(null==g)return{};let y=x(b),_={x:r,y:n},S=p(m(o)),v=f(S),w=await l.getDimensions(g),E="y"===S,T=E?"clientHeight":"clientWidth",I=a.reference[v]+a.reference[S]-_[S]-a.floating[v],A=_[S]-a.reference[S],C=await (null==l.getOffsetParent?void 0:l.getOffsetParent(g)),R=C?C[T]:0;R&&await (null==l.isElement?void 0:l.isElement(C))||(R=c.floating[T]||a.floating[v]);let M=R/2-w[v]/2-1,P=i(y[E?"top":"left"],M),k=i(y[E?"bottom":"right"],M),O=R-w[v]-k,B=R/2-w[v]/2+(I/2-A/2),j=s(P,i(B,O)),L=!h.arrow&&null!=d(o)&&B!==j&&a.reference[v]/2-(B<P?P:k)-w[v]/2<0,N=L?B<P?B-P:B-O:0;return{[S]:_[S]+N,data:{[S]:j,centerOffset:B-j-N,...L&&{alignmentOffset:N}},reset:L}}});var eS=e.i(36540),ev="undefined"!=typeof document?t.useLayoutEffect:function(){};function ew(e,t){let r,i,s;if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if((r=e.length)!==t.length)return!1;for(i=r;0!=i--;)if(!ew(e[i],t[i]))return!1;return!0}if((r=(s=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(i=r;0!=i--;)if(!({}).hasOwnProperty.call(t,s[i]))return!1;for(i=r;0!=i--;){let r=s[i];if(("_owner"!==r||!e.$$typeof)&&!ew(e[r],t[r]))return!1}return!0}return e!=e&&t!=t}function ex(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function eE(e,t){let r=ex(e);return Math.round(t*r)/r}function eT(e){let r=t.useRef(e);return ev(()=>{r.current=e}),r}var eI=e.i(47039),eA=e.i(20299),eC=t.forwardRef((e,t)=>{let{children:r,width:i=10,height:s=5,...n}=e;return(0,eA.jsx)(eI.Primitive.svg,{...n,ref:t,width:i,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:(0,eA.jsx)("polygon",{points:"0,0 30,0 15,10"})})});eC.displayName="Arrow";var eR=e.i(47588),eM=e.i(61535),eP=e.i(71861),ek=e.i(99207),eO=e.i(25070),eB="Popper",[ej,eL]=(0,eM.createContextScope)(eB),[eN,eD]=ej(eB),eF=e=>{let{__scopePopper:r,children:i}=e,[s,n]=t.useState(null);return(0,eA.jsx)(eN,{scope:r,anchor:s,onAnchorChange:n,children:i})};eF.displayName=eB;var e$="PopperAnchor",eU=t.forwardRef((e,r)=>{let{__scopePopper:i,virtualRef:s,...n}=e,o=eD(e$,i),a=t.useRef(null),l=(0,eR.useComposedRefs)(r,a),c=t.useRef(null);return t.useEffect(()=>{let e=c.current;c.current=s?.current||a.current,e!==c.current&&o.onAnchorChange(c.current)}),s?null:(0,eA.jsx)(eI.Primitive.div,{...n,ref:l})});eU.displayName=e$;var ez="PopperContent",[eH,eV]=ej(ez),eJ=t.forwardRef((e,r)=>{var n,a,l,c,g,x,E,T,k,O,B,L,N;let{__scopePopper:D,side:F="bottom",sideOffset:$=0,align:U="center",alignOffset:z=0,arrowPadding:H=0,avoidCollisions:V=!0,collisionBoundary:J=[],collisionPadding:q=0,sticky:Y="partial",hideWhenDetached:K=!1,updatePositionStrategy:W="optimized",onPlaced:X,...G}=e,Q=eD(ez,D),[Z,ee]=t.useState(null),er=(0,eR.useComposedRefs)(r,e=>ee(e)),[ei,en]=t.useState(null),eo=(0,eO.useSize)(ei),ea=eo?.width??0,ec=eo?.height??0,eu="number"==typeof q?q:{top:0,right:0,bottom:0,left:0,...q},eh=Array.isArray(J)?J:[J],ed=eh.length>0,ep={padding:eu,boundary:eh.filter(eW),altBoundary:ed},{refs:ef,floatingStyles:eg,placement:em,isPositioned:eC,middlewareData:eM}=function(e){void 0===e&&(e={});let{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:n,elements:{reference:o,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[h,d]=t.useState({x:0,y:0,strategy:i,placement:r,middlewareData:{},isPositioned:!1}),[p,f]=t.useState(s);ew(p,s)||f(s);let[g,m]=t.useState(null),[b,y]=t.useState(null),_=t.useCallback(e=>{e!==x.current&&(x.current=e,m(e))},[]),S=t.useCallback(e=>{e!==E.current&&(E.current=e,y(e))},[]),v=o||g,w=a||b,x=t.useRef(null),E=t.useRef(null),T=t.useRef(h),A=null!=c,C=eT(c),R=eT(n),M=eT(u),P=t.useCallback(()=>{var e,t;let s,n,o;if(!x.current||!E.current)return;let a={placement:r,strategy:i,middleware:p};R.current&&(a.platform=R.current),(e=x.current,t=E.current,s=new Map,o={...(n={platform:eb,...a}).platform,_c:s},I(e,t,{...n,platform:o})).then(e=>{let t={...e,isPositioned:!1!==M.current};k.current&&!ew(T.current,t)&&(T.current=t,eS.flushSync(()=>{d(t)}))})},[p,r,i,R,M]);ev(()=>{!1===u&&T.current.isPositioned&&(T.current.isPositioned=!1,d(e=>({...e,isPositioned:!1})))},[u]);let k=t.useRef(!1);ev(()=>(k.current=!0,()=>{k.current=!1}),[]),ev(()=>{if(v&&(x.current=v),w&&(E.current=w),v&&w){if(C.current)return C.current(v,w,P);P()}},[v,w,P,C,A]);let O=t.useMemo(()=>({reference:x,floating:E,setReference:_,setFloating:S}),[_,S]),B=t.useMemo(()=>({reference:v,floating:w}),[v,w]),j=t.useMemo(()=>{let e={position:i,left:0,top:0};if(!B.floating)return e;let t=eE(B.floating,h.x),r=eE(B.floating,h.y);return l?{...e,transform:"translate("+t+"px, "+r+"px)",...ex(B.floating)>=1.5&&{willChange:"transform"}}:{position:i,left:t,top:r}},[i,l,B.floating,h.x,h.y]);return t.useMemo(()=>({...h,update:P,refs:O,elements:B,floatingStyles:j}),[h,P,O,B,j])}({strategy:"fixed",placement:F+("center"!==U?"-"+U:""),whileElementsMounted:(...e)=>(function(e,t,r,n){let a;void 0===n&&(n={});let{ancestorScroll:l=!0,ancestorResize:c=!0,elementResize:u="function"==typeof ResizeObserver,layoutShift:h="function"==typeof IntersectionObserver,animationFrame:d=!1}=n,p=es(e),f=l||c?[...p?et(p):[],...et(t)]:[];f.forEach(e=>{l&&e.addEventListener("scroll",r,{passive:!0}),c&&e.addEventListener("resize",r)});let g=p&&h?function(e,t){let r,n=null,a=j(e);function l(){var e;clearTimeout(r),null==(e=n)||e.disconnect(),n=null}return!function c(u,h){void 0===u&&(u=!1),void 0===h&&(h=1),l();let d=e.getBoundingClientRect(),{left:p,top:f,width:g,height:m}=d;if(u||t(),!g||!m)return;let b={rootMargin:-o(f)+"px "+-o(a.clientWidth-(p+g))+"px "+-o(a.clientHeight-(f+m))+"px "+-o(p)+"px",threshold:s(0,i(1,h))||1},y=!0;function _(t){let i=t[0].intersectionRatio;if(i!==h){if(!y)return c();i?c(!1,i):r=setTimeout(()=>{c(!1,1e-7)},1e3)}1!==i||ey(d,e.getBoundingClientRect())||c(),y=!1}try{n=new IntersectionObserver(_,{...b,root:a.ownerDocument})}catch(e){n=new IntersectionObserver(_,b)}n.observe(e)}(!0),l}(p,r):null,m=-1,b=null;u&&(b=new ResizeObserver(e=>{let[i]=e;i&&i.target===p&&b&&(b.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var e;null==(e=b)||e.observe(t)})),r()}),p&&!d&&b.observe(p),b.observe(t));let y=d?el(e):null;return d&&function t(){let i=el(e);y&&!ey(y,i)&&r(),y=i,a=requestAnimationFrame(t)}(),r(),()=>{var e;f.forEach(e=>{l&&e.removeEventListener("scroll",r),c&&e.removeEventListener("resize",r)}),null==g||g(),null==(e=b)||e.disconnect(),b=null,d&&cancelAnimationFrame(a)}})(...e,{animationFrame:"always"===W}),elements:{reference:Q.anchor},middleware:[{...{name:"offset",options:a=n={mainAxis:$+ec,alignmentAxis:z},async fn(e){var t,r;let{x:i,y:s,placement:n,middlewareData:o}=e,l=await P(e,a);return n===(null==(t=o.offset)?void 0:t.placement)&&null!=(r=o.arrow)&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:n}}}},options:[n,void 0]},V&&{...{name:"shift",options:g=c={mainAxis:!0,crossAxis:!1,limiter:"partial"===Y?{...(l=void 0,{options:l={},fn(e){let{x:t,y:r,placement:i,rects:s,middlewareData:n}=e,{offset:o=0,mainAxis:a=!0,crossAxis:c=!0}=u(l,e),d={x:t,y:r},f=m(i),g=p(f),b=d[g],y=d[f],_=u(o,e),S="number"==typeof _?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(a){let e="y"===g?"height":"width",t=s.reference[g]-s.floating[e]+S.mainAxis,r=s.reference[g]+s.reference[e]-S.mainAxis;b<t?b=t:b>r&&(b=r)}if(c){var v,w;let e="y"===g?"width":"height",t=M.has(h(i)),r=s.reference[f]-s.floating[e]+(t&&(null==(v=n.offset)?void 0:v[f])||0)+(t?0:S.crossAxis),o=s.reference[f]+s.reference[e]+(t?0:(null==(w=n.offset)?void 0:w[f])||0)-(t?S.crossAxis:0);y<r?y=r:y>o&&(y=o)}return{[g]:b,[f]:y}}}),options:[void 0,void 0]}:void 0,...ep},async fn(e){let{x:t,y:r,placement:n}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:l={fn:e=>{let{x:t,y:r}=e;return{x:t,y:r}}},...c}=u(g,e),d={x:t,y:r},f=await A(e,c),b=m(h(n)),y=p(b),_=d[y],S=d[b];if(o){let e="y"===y?"top":"left",t="y"===y?"bottom":"right",r=_+f[e],n=_-f[t];_=s(r,i(_,n))}if(a){let e="y"===b?"top":"left",t="y"===b?"bottom":"right",r=S+f[e],n=S-f[t];S=s(r,i(S,n))}let v=l.fn({...e,[y]:_,[b]:S});return{...v,data:{x:v.x-t,y:v.y-r,enabled:{[y]:o,[b]:a}}}}},options:[c,void 0]},V&&{...{name:"flip",options:E=x={...ep},async fn(e){var t,r,i,s,n,o,a,l;let c,g,x,{placement:T,middlewareData:I,rects:C,initialPlacement:R,platform:M,elements:P}=e,{mainAxis:k=!0,crossAxis:O=!0,fallbackPlacements:B,fallbackStrategy:j="bestFit",fallbackAxisSideDirection:L="none",flipAlignment:N=!0,...D}=u(E,e);if(null!=(t=I.arrow)&&t.alignmentOffset)return{};let F=h(T),$=m(R),U=h(R)===R,z=await (null==M.isRTL?void 0:M.isRTL(P.floating)),H=B||(U||!N?[w(R)]:(c=w(R),[b(R),c,b(c)])),V="none"!==L;!B&&V&&H.push(...(g=d(R),x=function(e,t,r){switch(e){case"top":case"bottom":if(r)return t?_:y;return t?y:_;case"left":case"right":return t?S:v;default:return[]}}(h(R),"start"===L,z),g&&(x=x.map(e=>e+"-"+g),N&&(x=x.concat(x.map(b)))),x));let J=[R,...H],q=await A(e,D),Y=[],K=(null==(r=I.flip)?void 0:r.overflows)||[];if(k&&Y.push(q[F]),O){let e,t,r,i,s=(o=T,a=C,void 0===(l=z)&&(l=!1),e=d(o),r=f(t=p(m(o))),i="x"===t?e===(l?"end":"start")?"right":"left":"start"===e?"bottom":"top",a.reference[r]>a.floating[r]&&(i=w(i)),[i,w(i)]);Y.push(q[s[0]],q[s[1]])}if(K=[...K,{placement:T,overflows:Y}],!Y.every(e=>e<=0)){let e=((null==(i=I.flip)?void 0:i.index)||0)+1,t=J[e];if(t&&("alignment"!==O||$===m(t)||K.every(e=>m(e.placement)!==$||e.overflows[0]>0)))return{data:{index:e,overflows:K},reset:{placement:t}};let r=null==(s=K.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:s.placement;if(!r)switch(j){case"bestFit":{let e=null==(n=K.filter(e=>{if(V){let t=m(e.placement);return t===$||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:n[0];e&&(r=e);break}case"initialPlacement":r=R}if(T!==r)return{reset:{placement:r}}}return{}}},options:[x,void 0]},{...{name:"size",options:k=T={...ep,apply:({elements:e,rects:t,availableWidth:r,availableHeight:i})=>{let{width:s,height:n}=t.reference,o=e.floating.style;o.setProperty("--radix-popper-available-width",`${r}px`),o.setProperty("--radix-popper-available-height",`${i}px`),o.setProperty("--radix-popper-anchor-width",`${s}px`),o.setProperty("--radix-popper-anchor-height",`${n}px`)}},async fn(e){var t,r;let n,o,{placement:a,rects:l,platform:c,elements:p}=e,{apply:f=()=>{},...g}=u(k,e),b=await A(e,g),y=h(a),_=d(a),S="y"===m(a),{width:v,height:w}=l.floating;"top"===y||"bottom"===y?(n=y,o=_===(await (null==c.isRTL?void 0:c.isRTL(p.floating))?"start":"end")?"left":"right"):(o=y,n="end"===_?"top":"bottom");let x=w-b.top-b.bottom,E=v-b.left-b.right,T=i(w-b[n],x),I=i(v-b[o],E),C=!e.middlewareData.shift,R=T,M=I;if(null!=(t=e.middlewareData.shift)&&t.enabled.x&&(M=E),null!=(r=e.middlewareData.shift)&&r.enabled.y&&(R=x),C&&!_){let e=s(b.left,0),t=s(b.right,0),r=s(b.top,0),i=s(b.bottom,0);S?M=v-2*(0!==e||0!==t?e+t:s(b.left,b.right)):R=w-2*(0!==r||0!==i?r+i:s(b.top,b.bottom))}await f({...e,availableWidth:M,availableHeight:R});let P=await c.getDimensions(p.floating);return v!==P.width||w!==P.height?{reset:{rects:!0}}:{}}},options:[T,void 0]},ei&&{...{name:"arrow",options:B=O={element:ei,padding:H},fn(e){let{element:t,padding:r}="function"==typeof B?B(e):B;return t&&({}).hasOwnProperty.call(t,"current")?null!=t.current?e_({element:t.current,padding:r}).fn(e):{}:t?e_({element:t,padding:r}).fn(e):{}}},options:[O,void 0]},eX({arrowWidth:ea,arrowHeight:ec}),K&&{...{name:"hide",options:N=L={strategy:"referenceHidden",...ep},async fn(e){let{rects:t}=e,{strategy:r="referenceHidden",...i}=u(N,e);switch(r){case"referenceHidden":{let r=C(await A(e,{...i,elementContext:"reference"}),t.reference);return{data:{referenceHiddenOffsets:r,referenceHidden:R(r)}}}case"escaped":{let r=C(await A(e,{...i,altBoundary:!0}),t.floating);return{data:{escapedOffsets:r,escaped:R(r)}}}default:return{}}}},options:[L,void 0]}]}),[eB,ej]=eG(em),eL=(0,eP.useCallbackRef)(X);(0,ek.useLayoutEffect)(()=>{eC&&eL?.()},[eC,eL]);let eN=eM.arrow?.x,eF=eM.arrow?.y,e$=eM.arrow?.centerOffset!==0,[eU,eV]=t.useState();return(0,ek.useLayoutEffect)(()=>{Z&&eV(window.getComputedStyle(Z).zIndex)},[Z]),(0,eA.jsx)("div",{ref:ef.setFloating,"data-radix-popper-content-wrapper":"",style:{...eg,transform:eC?eg.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:eU,"--radix-popper-transform-origin":[eM.transformOrigin?.x,eM.transformOrigin?.y].join(" "),...eM.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:(0,eA.jsx)(eH,{scope:D,placedSide:eB,onArrowChange:en,arrowX:eN,arrowY:eF,shouldHideArrow:e$,children:(0,eA.jsx)(eI.Primitive.div,{"data-side":eB,"data-align":ej,...G,ref:er,style:{...G.style,animation:eC?void 0:"none"}})})})});eJ.displayName=ez;var eq="PopperArrow",eY={top:"bottom",right:"left",bottom:"top",left:"right"},eK=t.forwardRef(function(e,t){let{__scopePopper:r,...i}=e,s=eV(eq,r),n=eY[s.placedSide];return(0,eA.jsx)("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[n]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:(0,eA.jsx)(eC,{...i,ref:t,style:{...i.style,display:"block"}})})});function eW(e){return null!==e}eK.displayName=eq;var eX=e=>({name:"transformOrigin",options:e,fn(t){let{placement:r,rects:i,middlewareData:s}=t,n=s.arrow?.centerOffset!==0,o=n?0:e.arrowWidth,a=n?0:e.arrowHeight,[l,c]=eG(r),u={start:"0%",center:"50%",end:"100%"}[c],h=(s.arrow?.x??0)+o/2,d=(s.arrow?.y??0)+a/2,p="",f="";return"bottom"===l?(p=n?u:`${h}px`,f=`${-a}px`):"top"===l?(p=n?u:`${h}px`,f=`${i.floating.height+a}px`):"right"===l?(p=`${-a}px`,f=n?u:`${d}px`):"left"===l&&(p=`${i.floating.width+a}px`,f=n?u:`${d}px`),{data:{x:p,y:f}}}});function eG(e){let[t,r="center"]=e.split("-");return[t,r]}e.s(["Anchor",()=>eU,"Arrow",()=>eK,"Content",()=>eJ,"Root",()=>eF,"createPopperScope",()=>eL],32312)},65875,e=>{"use strict";var t=e.i(20299),r=e.i(41295),i=e.i(64150),s=e.i(47588),n=e.i(61535),o=e.i(48701),a=e.i(75288),l=e.i(32312),c=e.i(30748),u=e.i(41296),h=e.i(47039),d=e.i(42357),p=e.i(34340),f=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),g=r.forwardRef((e,r)=>(0,t.jsx)(h.Primitive.span,{...e,ref:r,style:{...f,...e.style}}));g.displayName="VisuallyHidden";var[m,b]=(0,n.createContextScope)("Tooltip",[l.createPopperScope]),y=(0,l.createPopperScope)(),_="TooltipProvider",S="tooltip.open",[v,w]=m(_),x=e=>{let{__scopeTooltip:i,delayDuration:s=700,skipDelayDuration:n=300,disableHoverableContent:o=!1,children:a}=e,l=r.useRef(!0),c=r.useRef(!1),u=r.useRef(0);return r.useEffect(()=>{let e=u.current;return()=>window.clearTimeout(e)},[]),(0,t.jsx)(v,{scope:i,isOpenDelayedRef:l,delayDuration:s,onOpen:r.useCallback(()=>{window.clearTimeout(u.current),l.current=!1},[]),onClose:r.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l.current=!0,n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:r.useCallback(e=>{c.current=e},[]),disableHoverableContent:o,children:a})};x.displayName=_;var E="Tooltip",[T,I]=m(E),A=e=>{let{__scopeTooltip:i,children:s,open:n,defaultOpen:o,onOpenChange:c,disableHoverableContent:u,delayDuration:h}=e,d=w(E,e.__scopeTooltip),f=y(i),[g,m]=r.useState(null),b=(0,a.useId)(),_=r.useRef(0),v=u??d.disableHoverableContent,x=h??d.delayDuration,I=r.useRef(!1),[A,C]=(0,p.useControllableState)({prop:n,defaultProp:o??!1,onChange:e=>{e?(d.onOpen(),document.dispatchEvent(new CustomEvent(S))):d.onClose(),c?.(e)},caller:E}),R=r.useMemo(()=>A?I.current?"delayed-open":"instant-open":"closed",[A]),M=r.useCallback(()=>{window.clearTimeout(_.current),_.current=0,I.current=!1,C(!0)},[C]),P=r.useCallback(()=>{window.clearTimeout(_.current),_.current=0,C(!1)},[C]),k=r.useCallback(()=>{window.clearTimeout(_.current),_.current=window.setTimeout(()=>{I.current=!0,C(!0),_.current=0},x)},[x,C]);return r.useEffect(()=>()=>{_.current&&(window.clearTimeout(_.current),_.current=0)},[]),(0,t.jsx)(l.Root,{...f,children:(0,t.jsx)(T,{scope:i,contentId:b,open:A,stateAttribute:R,trigger:g,onTriggerChange:m,onTriggerEnter:r.useCallback(()=>{d.isOpenDelayedRef.current?k():M()},[d.isOpenDelayedRef,k,M]),onTriggerLeave:r.useCallback(()=>{v?P():(window.clearTimeout(_.current),_.current=0)},[P,v]),onOpen:M,onClose:P,disableHoverableContent:v,children:s})})};A.displayName=E;var C="TooltipTrigger",R=r.forwardRef((e,n)=>{let{__scopeTooltip:o,...a}=e,c=I(C,o),u=w(C,o),d=y(o),p=r.useRef(null),f=(0,s.useComposedRefs)(n,p,c.onTriggerChange),g=r.useRef(!1),m=r.useRef(!1),b=r.useCallback(()=>g.current=!1,[]);return r.useEffect(()=>()=>document.removeEventListener("pointerup",b),[b]),(0,t.jsx)(l.Anchor,{asChild:!0,...d,children:(0,t.jsx)(h.Primitive.button,{"aria-describedby":c.open?c.contentId:void 0,"data-state":c.stateAttribute,...a,ref:f,onPointerMove:(0,i.composeEventHandlers)(e.onPointerMove,e=>{"touch"!==e.pointerType&&(m.current||u.isPointerInTransitRef.current||(c.onTriggerEnter(),m.current=!0))}),onPointerLeave:(0,i.composeEventHandlers)(e.onPointerLeave,()=>{c.onTriggerLeave(),m.current=!1}),onPointerDown:(0,i.composeEventHandlers)(e.onPointerDown,()=>{c.open&&c.onClose(),g.current=!0,document.addEventListener("pointerup",b,{once:!0})}),onFocus:(0,i.composeEventHandlers)(e.onFocus,()=>{g.current||c.onOpen()}),onBlur:(0,i.composeEventHandlers)(e.onBlur,c.onClose),onClick:(0,i.composeEventHandlers)(e.onClick,c.onClose)})})});R.displayName=C;var M="TooltipPortal",[P,k]=m(M,{forceMount:void 0}),O=e=>{let{__scopeTooltip:r,forceMount:i,children:s,container:n}=e,o=I(M,r);return(0,t.jsx)(P,{scope:r,forceMount:i,children:(0,t.jsx)(u.Presence,{present:i||o.open,children:(0,t.jsx)(c.Portal,{asChild:!0,container:n,children:s})})})};O.displayName=M;var B="TooltipContent",j=r.forwardRef((e,r)=>{let i=k(B,e.__scopeTooltip),{forceMount:s=i.forceMount,side:n="top",...o}=e,a=I(B,e.__scopeTooltip);return(0,t.jsx)(u.Presence,{present:s||a.open,children:a.disableHoverableContent?(0,t.jsx)($,{side:n,...o,ref:r}):(0,t.jsx)(L,{side:n,...o,ref:r})})}),L=r.forwardRef((e,i)=>{let n=I(B,e.__scopeTooltip),o=w(B,e.__scopeTooltip),a=r.useRef(null),l=(0,s.useComposedRefs)(i,a),[c,u]=r.useState(null),{trigger:h,onClose:d}=n,p=a.current,{onPointerInTransitChange:f}=o,g=r.useCallback(()=>{u(null),f(!1)},[f]),m=r.useCallback((e,t)=>{let r,i=e.currentTarget,s={x:e.clientX,y:e.clientY},n=function(e,t){let r=Math.abs(t.top-e.y),i=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),n=Math.abs(t.left-e.x);switch(Math.min(r,i,s,n)){case n:return"left";case s:return"right";case r:return"top";case i:return"bottom";default:throw Error("unreachable")}}(s,i.getBoundingClientRect());u(((r=[...function(e,t,r=5){let i=[];switch(t){case"top":i.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":i.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":i.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":i.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r})}return i}(s,n),...function(e){let{top:t,right:r,bottom:i,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:i},{x:s,y:i}]}(t.getBoundingClientRect())].slice()).sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:1*!!(e.y>t.y)),function(e){if(e.length<=1)return e.slice();let t=[];for(let r=0;r<e.length;r++){let i=e[r];for(;t.length>=2;){let e=t[t.length-1],r=t[t.length-2];if((e.x-r.x)*(i.y-r.y)>=(e.y-r.y)*(i.x-r.x))t.pop();else break}t.push(i)}t.pop();let r=[];for(let t=e.length-1;t>=0;t--){let i=e[t];for(;r.length>=2;){let e=r[r.length-1],t=r[r.length-2];if((e.x-t.x)*(i.y-t.y)>=(e.y-t.y)*(i.x-t.x))r.pop();else break}r.push(i)}return(r.pop(),1===t.length&&1===r.length&&t[0].x===r[0].x&&t[0].y===r[0].y)?t:t.concat(r)}(r))),f(!0)},[f]);return r.useEffect(()=>()=>g(),[g]),r.useEffect(()=>{if(h&&p){let e=e=>m(e,p),t=e=>m(e,h);return h.addEventListener("pointerleave",e),p.addEventListener("pointerleave",t),()=>{h.removeEventListener("pointerleave",e),p.removeEventListener("pointerleave",t)}}},[h,p,m,g]),r.useEffect(()=>{if(c){let e=e=>{let t=e.target,r={x:e.clientX,y:e.clientY},i=h?.contains(t)||p?.contains(t),s=!function(e,t){let{x:r,y:i}=e,s=!1;for(let e=0,n=t.length-1;e<t.length;n=e++){let o=t[e],a=t[n],l=o.x,c=o.y,u=a.x,h=a.y;c>i!=h>i&&r<(u-l)*(i-c)/(h-c)+l&&(s=!s)}return s}(r,c);i?g():s&&(g(),d())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[h,p,c,d,g]),(0,t.jsx)($,{...e,ref:l})}),[N,D]=m(E,{isInside:!1}),F=(0,d.createSlottable)("TooltipContent"),$=r.forwardRef((e,i)=>{let{__scopeTooltip:s,children:n,"aria-label":a,onEscapeKeyDown:c,onPointerDownOutside:u,...h}=e,d=I(B,s),p=y(s),{onClose:f}=d;return r.useEffect(()=>(document.addEventListener(S,f),()=>document.removeEventListener(S,f)),[f]),r.useEffect(()=>{if(d.trigger){let e=e=>{let t=e.target;t?.contains(d.trigger)&&f()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[d.trigger,f]),(0,t.jsx)(o.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:e=>e.preventDefault(),onDismiss:f,children:(0,t.jsxs)(l.Content,{"data-state":d.stateAttribute,...p,...h,ref:i,style:{...h.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,t.jsx)(F,{children:n}),(0,t.jsx)(N,{scope:s,isInside:!0,children:(0,t.jsx)(g,{id:d.contentId,role:"tooltip",children:a||n})})]})})});j.displayName=B;var U="TooltipArrow",z=r.forwardRef((e,r)=>{let{__scopeTooltip:i,...s}=e,n=y(i);return D(U,i).isInside?null:(0,t.jsx)(l.Arrow,{...n,...s,ref:r})});z.displayName=U;var H=e.i(7071);function V({delayDuration:e=0,...r}){return(0,t.jsx)(x,{"data-slot":"tooltip-provider",delayDuration:e,...r})}function J({...e}){return(0,t.jsx)(V,{children:(0,t.jsx)(A,{"data-slot":"tooltip",...e})})}function q({...e}){return(0,t.jsx)(R,{"data-slot":"tooltip-trigger",...e})}function Y({className:e,sideOffset:r=0,children:i,...s}){return(0,t.jsx)(O,{children:(0,t.jsxs)(j,{"data-slot":"tooltip-content",sideOffset:r,className:(0,H.cn)("z-50 w-fit origin-(--radix-tooltip-content-transform-origin) animate-in rounded-md bg-foreground px-3 py-1.5 text-xs text-balance text-background fade-in-0 zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95",e),...s,children:[i,(0,t.jsx)(z,{className:"z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px] bg-foreground fill-foreground"})]})})}e.s(["Tooltip",()=>J,"TooltipContent",()=>Y,"TooltipProvider",()=>V,"TooltipTrigger",()=>q],65875)},55429,e=>{"use strict";var t=e.i(20299),r=e.i(94331),i=e.i(41295),s=e.i(25111),n=e.i(65875),o=e.i(7071);let a=(0,i.forwardRef)(({children:e,tooltip:i,side:a="bottom",className:l,...c},u)=>(0,t.jsxs)(n.Tooltip,{children:[(0,t.jsx)(n.TooltipTrigger,{asChild:!0,children:(0,t.jsxs)(s.Button,{variant:"ghost",size:"icon",...c,className:(0,o.cn)("aui-button-icon size-6 p-1",l),ref:u,children:[(0,t.jsx)(r.Slottable,{children:e}),(0,t.jsx)("span",{className:"aui-sr-only sr-only",children:i})]})}),(0,t.jsx)(n.TooltipContent,{side:a,children:i})]}));a.displayName="TooltipIconButton",e.s(["TooltipIconButton",0,a])},42424,e=>{"use strict";let t=(0,e.i(71775).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["ChevronRightIcon",()=>t],42424)}]);