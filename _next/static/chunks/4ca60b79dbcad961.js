(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,68271,e=>{"use strict";let t=(0,e.i(85739).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);e.s(["Download",()=>t],68271)},87464,e=>{"use strict";let t=(0,e.i(85739).default)("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);e.s(["Key",()=>t],87464)},86705,e=>{"use strict";var t=e.i(54011),r=e.i(19243),s=e.i(64150),i=e.i(31436),n=e.i(14381),a=e.i(74882),l=e.i(98919),o=new WeakMap;function d(e,t){var r,s;let i,n,a;if("at"in Array.prototype)return Array.prototype.at.call(e,t);let l=(r=e,s=t,i=r.length,(a=(n=c(s))>=0?n:i+n)<0||a>=i?-1:a);return -1===l?void 0:e[l]}function c(e){return e!=e||0===e?0:Math.trunc(e)}(class e extends Map{#e;constructor(e){super(e),this.#e=[...super.keys()],o.set(this,!0)}set(e,t){return o.get(this)&&(this.has(e)?this.#e[this.#e.indexOf(e)]=e:this.#e.push(e)),super.set(e,t),this}insert(e,t,r){let s,i=this.has(t),n=this.#e.length,a=c(e),l=a>=0?a:n+a,o=l<0||l>=n?-1:l;if(o===this.size||i&&o===this.size-1||-1===o)return this.set(t,r),this;let d=this.size+ +!i;a<0&&l++;let u=[...this.#e],p=!1;for(let e=l;e<d;e++)if(l===e){let n=u[e];u[e]===t&&(n=u[e+1]),i&&this.delete(t),s=this.get(n),this.set(t,r)}else{p||u[e-1]!==t||(p=!0);let r=u[p?e:e-1],i=s;s=this.get(r),this.delete(r),this.set(r,i)}return this}with(t,r,s){let i=new e(this);return i.insert(t,r,s),i}before(e){let t=this.#e.indexOf(e)-1;if(!(t<0))return this.entryAt(t)}setBefore(e,t,r){let s=this.#e.indexOf(e);return -1===s?this:this.insert(s,t,r)}after(e){let t=this.#e.indexOf(e);if(-1!==(t=-1===t||t===this.size-1?-1:t+1))return this.entryAt(t)}setAfter(e,t,r){let s=this.#e.indexOf(e);return -1===s?this:this.insert(s+1,t,r)}first(){return this.entryAt(0)}last(){return this.entryAt(-1)}clear(){return this.#e=[],super.clear()}delete(e){let t=super.delete(e);return t&&this.#e.splice(this.#e.indexOf(e),1),t}deleteAt(e){let t=this.keyAt(e);return void 0!==t&&this.delete(t)}at(e){let t=d(this.#e,e);if(void 0!==t)return this.get(t)}entryAt(e){let t=d(this.#e,e);if(void 0!==t)return[t,this.get(t)]}indexOf(e){return this.#e.indexOf(e)}keyAt(e){return d(this.#e,e)}from(e,t){let r=this.indexOf(e);if(-1===r)return;let s=r+t;return s<0&&(s=0),s>=this.size&&(s=this.size-1),this.at(s)}keyFrom(e,t){let r=this.indexOf(e);if(-1===r)return;let s=r+t;return s<0&&(s=0),s>=this.size&&(s=this.size-1),this.keyAt(s)}find(e,t){let r=0;for(let s of this){if(Reflect.apply(e,t,[s,r,this]))return s;r++}}findIndex(e,t){let r=0;for(let s of this){if(Reflect.apply(e,t,[s,r,this]))return r;r++}return -1}filter(t,r){let s=[],i=0;for(let e of this)Reflect.apply(t,r,[e,i,this])&&s.push(e),i++;return new e(s)}map(t,r){let s=[],i=0;for(let e of this)s.push([e[0],Reflect.apply(t,r,[e,i,this])]),i++;return new e(s)}reduce(...e){let[t,r]=e,s=0,i=r??this.at(0);for(let r of this)i=0===s&&1===e.length?r:Reflect.apply(t,this,[i,r,s,this]),s++;return i}reduceRight(...e){let[t,r]=e,s=r??this.at(-1);for(let r=this.size-1;r>=0;r--){let i=this.at(r);s=r===this.size-1&&1===e.length?i:Reflect.apply(t,this,[s,i,r,this])}return s}toSorted(t){return new e([...this.entries()].sort(t))}toReversed(){let t=new e;for(let e=this.size-1;e>=0;e--){let r=this.keyAt(e),s=this.get(r);t.set(r,s)}return t}toSpliced(...t){let r=[...this.entries()];return r.splice(...t),new e(r)}slice(t,r){let s=new e,i=this.size-1;if(void 0===t)return s;t<0&&(t+=this.size),void 0!==r&&r>0&&(i=r-1);for(let e=t;e<=i;e++){let t=this.keyAt(e),r=this.get(t);s.set(t,r)}return s}every(e,t){let r=0;for(let s of this){if(!Reflect.apply(e,t,[s,r,this]))return!1;r++}return!0}some(e,t){let r=0;for(let s of this){if(Reflect.apply(e,t,[s,r,this]))return!0;r++}return!1}});var u=e.i(77682),p=e.i(15755),f=e.i(11575),h=r.createContext(void 0);function m(e){let t=r.useContext(h);return e||t||"ltr"}var y="rovingFocusGroup.onEntryFocus",v={bubbles:!1,cancelable:!0},x="RovingFocusGroup",[g,b,k]=function(e){let s=e+"CollectionProvider",[a,o]=(0,n.createContextScope)(s),[d,c]=a(s,{collectionRef:{current:null},itemMap:new Map}),u=e=>{let{scope:s,children:i}=e,n=r.default.useRef(null),a=r.default.useRef(new Map).current;return(0,t.jsx)(d,{scope:s,itemMap:a,collectionRef:n,children:i})};u.displayName=s;let p=e+"CollectionSlot",f=(0,l.createSlot)(p),h=r.default.forwardRef((e,r)=>{let{scope:s,children:n}=e,a=c(p,s),l=(0,i.useComposedRefs)(r,a.collectionRef);return(0,t.jsx)(f,{ref:l,children:n})});h.displayName=p;let m=e+"CollectionItemSlot",y="data-radix-collection-item",v=(0,l.createSlot)(m),x=r.default.forwardRef((e,s)=>{let{scope:n,children:a,...l}=e,o=r.default.useRef(null),d=(0,i.useComposedRefs)(s,o),u=c(m,n);return r.default.useEffect(()=>(u.itemMap.set(o,{ref:o,...l}),()=>void u.itemMap.delete(o))),(0,t.jsx)(v,{...{[y]:""},ref:d,children:a})});return x.displayName=m,[{Provider:u,Slot:h,ItemSlot:x},function(t){let s=c(e+"CollectionConsumer",t);return r.default.useCallback(()=>{let e=s.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll(`[${y}]`));return Array.from(s.itemMap.values()).sort((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current))},[s.collectionRef,s.itemMap])},o]}(x),[j,w]=(0,n.createContextScope)(x,[k]),[N,R]=j(x),C=r.forwardRef((e,r)=>(0,t.jsx)(g.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,t.jsx)(g.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,t.jsx)(A,{...e,ref:r})})}));C.displayName=x;var A=r.forwardRef((e,n)=>{let{__scopeRovingFocusGroup:l,orientation:o,loop:d=!1,dir:c,currentTabStopId:u,defaultCurrentTabStopId:h,onCurrentTabStopIdChange:g,onEntryFocus:k,preventScrollOnEntryFocus:j=!1,...w}=e,R=r.useRef(null),C=(0,i.useComposedRefs)(n,R),A=m(c),[S,E]=(0,f.useControllableState)({prop:u,defaultProp:h??null,onChange:g,caller:x}),[I,D]=r.useState(!1),M=(0,p.useCallbackRef)(k),z=b(l),L=r.useRef(!1),[F,T]=r.useState(0);return r.useEffect(()=>{let e=R.current;if(e)return e.addEventListener(y,M),()=>e.removeEventListener(y,M)},[M]),(0,t.jsx)(N,{scope:l,orientation:o,dir:A,loop:d,currentTabStopId:S,onItemFocus:r.useCallback(e=>E(e),[E]),onItemShiftTab:r.useCallback(()=>D(!0),[]),onFocusableItemAdd:r.useCallback(()=>T(e=>e+1),[]),onFocusableItemRemove:r.useCallback(()=>T(e=>e-1),[]),children:(0,t.jsx)(a.Primitive.div,{tabIndex:I||0===F?-1:0,"data-orientation":o,...w,ref:C,style:{outline:"none",...e.style},onMouseDown:(0,s.composeEventHandlers)(e.onMouseDown,()=>{L.current=!0}),onFocus:(0,s.composeEventHandlers)(e.onFocus,e=>{let t=!L.current;if(e.target===e.currentTarget&&t&&!I){let t=new CustomEvent(y,v);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=z().filter(e=>e.focusable);P([e.find(e=>e.active),e.find(e=>e.id===S),...e].filter(Boolean).map(e=>e.ref.current),j)}}L.current=!1}),onBlur:(0,s.composeEventHandlers)(e.onBlur,()=>D(!1))})})}),S="RovingFocusGroupItem",E=r.forwardRef((e,i)=>{let{__scopeRovingFocusGroup:n,focusable:l=!0,active:o=!1,tabStopId:d,children:c,...p}=e,f=(0,u.useId)(),h=d||f,m=R(S,n),y=m.currentTabStopId===h,v=b(n),{onFocusableItemAdd:x,onFocusableItemRemove:k,currentTabStopId:j}=m;return r.useEffect(()=>{if(l)return x(),()=>k()},[l,x,k]),(0,t.jsx)(g.ItemSlot,{scope:n,id:h,focusable:l,active:o,children:(0,t.jsx)(a.Primitive.span,{tabIndex:y?0:-1,"data-orientation":m.orientation,...p,ref:i,onMouseDown:(0,s.composeEventHandlers)(e.onMouseDown,e=>{l?m.onItemFocus(h):e.preventDefault()}),onFocus:(0,s.composeEventHandlers)(e.onFocus,()=>m.onItemFocus(h)),onKeyDown:(0,s.composeEventHandlers)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void m.onItemShiftTab();if(e.target!==e.currentTarget)return;let t=function(e,t,r){var s;let i=(s=e.key,"rtl"!==r?s:"ArrowLeft"===s?"ArrowRight":"ArrowRight"===s?"ArrowLeft":s);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(i))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(i)))return I[i]}(e,m.orientation,m.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let i=v().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)i.reverse();else if("prev"===t||"next"===t){var r,s;"prev"===t&&i.reverse();let n=i.indexOf(e.currentTarget);i=m.loop?(r=i,s=n+1,r.map((e,t)=>r[(s+t)%r.length])):i.slice(n+1)}setTimeout(()=>P(i))}}),children:"function"==typeof c?c({isCurrentTabStop:y,hasTabStop:null!=j}):c})})});E.displayName=S;var I={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function P(e,t=!1){let r=document.activeElement;for(let s of e)if(s===r||(s.focus({preventScroll:t}),document.activeElement!==r))return}var D=e.i(1770),M=e.i(48206),z=e.i(18823),L="Radio",[F,T]=(0,n.createContextScope)(L),[O,B]=F(L),G=r.forwardRef((e,n)=>{let{__scopeRadio:l,name:o,checked:d=!1,required:c,disabled:u,value:p="on",onCheck:f,form:h,...m}=e,[y,v]=r.useState(null),x=(0,i.useComposedRefs)(n,e=>v(e)),g=r.useRef(!1),b=!y||h||!!y.closest("form");return(0,t.jsxs)(O,{scope:l,checked:d,disabled:u,children:[(0,t.jsx)(a.Primitive.button,{type:"button",role:"radio","aria-checked":d,"data-state":q(d),"data-disabled":u?"":void 0,disabled:u,value:p,...m,ref:x,onClick:(0,s.composeEventHandlers)(e.onClick,e=>{d||f?.(),b&&(g.current=e.isPropagationStopped(),g.current||e.stopPropagation())})}),b&&(0,t.jsx)(U,{control:y,bubbles:!g.current,name:o,value:p,checked:d,required:c,disabled:u,form:h,style:{transform:"translateX(-100%)"}})]})});G.displayName=L;var H="RadioIndicator",K=r.forwardRef((e,r)=>{let{__scopeRadio:s,forceMount:i,...n}=e,l=B(H,s);return(0,t.jsx)(z.Presence,{present:i||l.checked,children:(0,t.jsx)(a.Primitive.span,{"data-state":q(l.checked),"data-disabled":l.disabled?"":void 0,...n,ref:r})})});K.displayName=H;var U=r.forwardRef(({__scopeRadio:e,control:s,checked:n,bubbles:l=!0,...o},d)=>{let c=r.useRef(null),u=(0,i.useComposedRefs)(c,d),p=(0,M.usePrevious)(n),f=(0,D.useSize)(s);return r.useEffect(()=>{let e=c.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(p!==n&&t){let r=new Event("click",{bubbles:l});t.call(e,n),e.dispatchEvent(r)}},[p,n,l]),(0,t.jsx)(a.Primitive.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:u,style:{...o.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function q(e){return e?"checked":"unchecked"}U.displayName="RadioBubbleInput";var Q=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],V="RadioGroup",[W,$]=(0,n.createContextScope)(V,[w,T]),_=w(),X=T(),[Y,J]=W(V),Z=r.forwardRef((e,r)=>{let{__scopeRadioGroup:s,name:i,defaultValue:n,value:l,required:o=!1,disabled:d=!1,orientation:c,dir:u,loop:p=!0,onValueChange:h,...y}=e,v=_(s),x=m(u),[g,b]=(0,f.useControllableState)({prop:l,defaultProp:n??null,onChange:h,caller:V});return(0,t.jsx)(Y,{scope:s,name:i,required:o,disabled:d,value:g,onValueChange:b,children:(0,t.jsx)(C,{asChild:!0,...v,orientation:c,dir:x,loop:p,children:(0,t.jsx)(a.Primitive.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":d?"":void 0,dir:x,...y,ref:r})})})});Z.displayName=V;var ee="RadioGroupItem",et=r.forwardRef((e,n)=>{let{__scopeRadioGroup:a,disabled:l,...o}=e,d=J(ee,a),c=d.disabled||l,u=_(a),p=X(a),f=r.useRef(null),h=(0,i.useComposedRefs)(n,f),m=d.value===o.value,y=r.useRef(!1);return r.useEffect(()=>{let e=e=>{Q.includes(e.key)&&(y.current=!0)},t=()=>y.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[]),(0,t.jsx)(E,{asChild:!0,...u,focusable:!c,active:m,children:(0,t.jsx)(G,{disabled:c,required:d.required,checked:m,...p,...o,name:d.name,ref:h,onCheck:()=>d.onValueChange(o.value),onKeyDown:(0,s.composeEventHandlers)(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:(0,s.composeEventHandlers)(o.onFocus,()=>{y.current&&f.current?.click()})})})});et.displayName=ee;var er=r.forwardRef((e,r)=>{let{__scopeRadioGroup:s,...i}=e,n=X(s);return(0,t.jsx)(K,{...n,...i,ref:r})});er.displayName="RadioGroupIndicator";let es=(0,e.i(85739).default)("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var ei=e.i(7071);function en({className:e,...r}){return(0,t.jsx)(Z,{"data-slot":"radio-group",className:(0,ei.cn)("grid gap-3",e),...r})}function ea({className:e,...r}){return(0,t.jsx)(et,{"data-slot":"radio-group-item",className:(0,ei.cn)("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:(0,t.jsx)(er,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:(0,t.jsx)(es,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}e.s(["RadioGroup",()=>en,"RadioGroupItem",()=>ea],86705)},26818,e=>{"use strict";var t=e.i(54011),r=e.i(19243),s=e.i(64150),i=e.i(31436),n=e.i(14381),a=e.i(11575),l=e.i(48206),o=e.i(1770),d=e.i(74882),c="Switch",[u,p]=(0,n.createContextScope)(c),[f,h]=u(c),m=r.forwardRef((e,n)=>{let{__scopeSwitch:l,name:o,checked:u,defaultChecked:p,required:h,disabled:m,value:y="on",onCheckedChange:v,form:b,...k}=e,[j,w]=r.useState(null),N=(0,i.useComposedRefs)(n,e=>w(e)),R=r.useRef(!1),C=!j||b||!!j.closest("form"),[A,S]=(0,a.useControllableState)({prop:u,defaultProp:p??!1,onChange:v,caller:c});return(0,t.jsxs)(f,{scope:l,checked:A,disabled:m,children:[(0,t.jsx)(d.Primitive.button,{type:"button",role:"switch","aria-checked":A,"aria-required":h,"data-state":g(A),"data-disabled":m?"":void 0,disabled:m,value:y,...k,ref:N,onClick:(0,s.composeEventHandlers)(e.onClick,e=>{S(e=>!e),C&&(R.current=e.isPropagationStopped(),R.current||e.stopPropagation())})}),C&&(0,t.jsx)(x,{control:j,bubbles:!R.current,name:o,value:y,checked:A,required:h,disabled:m,form:b,style:{transform:"translateX(-100%)"}})]})});m.displayName=c;var y="SwitchThumb",v=r.forwardRef((e,r)=>{let{__scopeSwitch:s,...i}=e,n=h(y,s);return(0,t.jsx)(d.Primitive.span,{"data-state":g(n.checked),"data-disabled":n.disabled?"":void 0,...i,ref:r})});v.displayName=y;var x=r.forwardRef(({__scopeSwitch:e,control:s,checked:n,bubbles:a=!0,...d},c)=>{let u=r.useRef(null),p=(0,i.useComposedRefs)(u,c),f=(0,l.usePrevious)(n),h=(0,o.useSize)(s);return r.useEffect(()=>{let e=u.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(f!==n&&t){let r=new Event("click",{bubbles:a});t.call(e,n),e.dispatchEvent(r)}},[f,n,a]),(0,t.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...d,tabIndex:-1,ref:p,style:{...d.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function g(e){return e?"checked":"unchecked"}x.displayName="SwitchBubbleInput";var b=e.i(7071);function k({className:e,...r}){return(0,t.jsx)(m,{"data-slot":"switch",className:(0,b.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:(0,t.jsx)(v,{"data-slot":"switch-thumb",className:(0,b.cn)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}e.s(["Switch",()=>k],26818)},51890,e=>e.a(async(t,r)=>{try{var s=e.i(54011),i=e.i(11639),n=e.i(68271),a=e.i(87464),l=e.i(54943),o=e.i(19243),d=e.i(69798),c=e.i(25111),u=e.i(6945),p=e.i(76586),f=e.i(9333),h=e.i(86705),m=e.i(72063),y=e.i(26818),v=t([i,d]);[i,d]=v.then?(await v)():v;let g=({modelName:e})=>{let{downloadedModels:t,setDownloadedModels:r,selectedModel:a,setSelectedModel:u,isWebGPUSupported:p,isModelLoading:y,modelLoadingProgress:v}=(0,d.useAiloyAgentContext)(),x=(0,o.useMemo)(()=>t.includes(e),[t,e]),[g,b]=(0,o.useState)(!1),[k,j]=(0,o.useState)(0),w=(0,o.useMemo)(()=>a?.modelName===e&&y,[a,y,e]),N=async()=>{j(0),b(!0),await i.LangModel.download(e,{progressCallback:e=>{let t=Math.round(e.current/e.total*100);j(t)}}),b(!1),j(0),r([...t,e]),u({type:"local",modelName:e})},R=async()=>{await i.LangModel.remove(e),r(t.filter(t=>t!==e)),a?.modelName===e&&u(void 0)};return(0,o.useEffect)(()=>{if(w||j(0),w&&void 0!==v){let e=Math.round(v.current/v.total*100);j(e)}},[w,v]),(0,s.jsxs)("div",{className:"overflow-hidden rounded-lg border border-gray-200 hover:bg-gray-50",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(h.RadioGroupItem,{className:"cursor-pointer",value:e,id:e,disabled:!x}),(0,s.jsx)(f.Label,{htmlFor:e,className:`cursor-pointer ${!x?"text-gray-400":""}`,children:e})]}),(0,s.jsx)("div",{className:"flex gap-2",children:x?w?(0,s.jsxs)(c.Button,{size:"sm",variant:"outline",disabled:!0,children:[(0,s.jsx)(m.Spinner,{}),(0,s.jsx)("span",{className:"hiddne sm:inline",children:"Loading"})]}):(0,s.jsxs)(c.Button,{size:"sm",variant:"destructive",disabled:w,onClick:R,className:"cursor-pointer gap-2",children:[(0,s.jsx)(l.Trash2,{size:16}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Clear"})]}):(0,s.jsxs)(c.Button,{size:"sm",onClick:N,disabled:!p||g,className:"cursor-pointer gap-2",children:[g?(0,s.jsx)(m.Spinner,{}):(0,s.jsx)(n.Download,{size:16}),(0,s.jsx)("span",{className:"hidden sm:inline",children:g?"Downloading...":"Download"})]})})]}),(0,s.jsx)("div",{className:"h-1 w-full bg-gray-200",children:(g||w)&&(0,s.jsx)("div",{className:"h-1 bg-blue-500 transition-all duration-300",style:{width:`${k}%`}})})]})},b=({config:e})=>{let{selectedModel:t,setSelectedModel:r,apiKeys:i,setApiKey:n}=(0,d.useAiloyAgentContext)(),[l,m]=(0,o.useState)(!1),[y,v]=(0,o.useState)(""),x=void 0!==i[e.spec];return(0,s.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-gray-200 p-4 hover:bg-gray-50",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(h.RadioGroupItem,{className:"cursor-pointer",value:e.modelName,id:e.modelName,disabled:!x}),(0,s.jsx)(f.Label,{className:`cursor-pointer ${!x?"text-gray-400":""}`,children:e.modelName})]}),(0,s.jsxs)(u.Dialog,{open:l,onOpenChange:m,children:[(0,s.jsx)(u.DialogTrigger,{asChild:!0,children:(0,s.jsxs)(c.Button,{size:"sm",variant:x?"default":"outline",className:"cursor-pointer gap-2",suppressHydrationWarning:!0,children:[(0,s.jsx)(a.Key,{size:16}),(0,s.jsx)("span",{className:"hidden sm:inline",children:x?"Update Key":"API Key"})]})}),(0,s.jsxs)(u.DialogContent,{children:[(0,s.jsxs)(u.DialogHeader,{children:[(0,s.jsxs)(u.DialogTitle,{children:["Set API Key for ",e.spec]}),(0,s.jsx)(u.DialogDescription,{children:"Enter your API key to enable this model"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f.Label,{htmlFor:"apikey-input",children:"API key"}),(0,s.jsx)(p.Input,{id:"apikey-input",type:"password",placeholder:"Enter your API key",value:y,onChange:e=>v(e.target.value)})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)(c.Button,{className:"cursor-pointer",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),(0,s.jsx)(c.Button,{className:"cursor-pointer",onClick:()=>{n(e.spec,""!==y?y:void 0),t?.modelName===e.modelName&&r(void 0),v(""),m(!1)},children:"Save"})]})]})]})]})]})},k=[{type:"local",modelName:"Qwen/Qwen3-0.6B"},{type:"local",modelName:"Qwen/Qwen3-1.7B"},{type:"local",modelName:"Qwen/Qwen3-4B"}],j=[{type:"api",spec:"OpenAI",modelName:"gpt-4o"},{type:"api",spec:"Gemini",modelName:"gemini-2.5-flash"},{type:"api",spec:"Claude",modelName:"claude-sonnet-4-5"},{type:"api",spec:"Grok",modelName:"grok-4-fast"}];function x(){let{selectedModel:e,setSelectedModel:t,agentRunConfig:r,setAgentRunConfig:i,systemPrompt:n,setSystemPrompt:a,isWebGPUSupported:l}=(0,d.useAiloyAgentContext)(),o=e=>{let r=[...k,...j].find(t=>t.modelName===e);t(r)};return(0,s.jsx)("div",{className:"h-full overflow-y-auto bg-gray-50 p-8",children:(0,s.jsxs)("div",{className:"mx-auto max-w-4xl",children:[(0,s.jsx)("h1",{className:"mb-8 text-3xl font-bold text-gray-900",children:"Models"}),(0,s.jsxs)("div",{className:"mb-6 rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h3",{className:"mb-4 text-lg font-bold text-gray-800",children:"Local Models"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(h.RadioGroup,{value:e?.modelName,onValueChange:o,children:k.map(e=>(0,s.jsx)(g,{modelName:e.modelName},e.modelName))}),!l&&(0,s.jsx)("p",{className:"text-red-600",children:"Your environment does not support WebGPU acceleration. Try using API models instead."})]})]}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h3",{className:"mb-4 text-lg font-bold text-gray-800",children:"API Models"}),(0,s.jsx)("div",{className:"space-y-3",children:(0,s.jsx)(h.RadioGroup,{value:e?.modelName,onValueChange:o,children:j.map(e=>(0,s.jsx)(b,{config:e},e.modelName))})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"mb-4 text-lg font-bold text-gray-800",children:"Agent Configuration"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(f.Label,{htmlFor:"reasoning",children:"Reasoning"}),(0,s.jsx)(y.Switch,{id:"reasoning",className:"cursor-pointer",checked:r.inference?.thinkEffort==="enable",onCheckedChange:e=>{i({...r,inference:{...r.inference,thinkEffort:e?"enable":"disable"}})}})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f.Label,{htmlFor:"system-prompt",children:"System Prompt"}),(0,s.jsx)(p.Input,{id:"system-prompt",className:"w-full",placeholder:"Write the system prompt for your agent",value:n,onChange:e=>a(e.target.value)})]})]})]})]})]})})}e.s(["default",()=>x]),r()}catch(e){r(e)}},!1)]);