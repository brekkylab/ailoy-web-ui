(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,74802,(e,t,r)=>{"use strict";function a(e,t,r=!1){return t?Object.keys(e).filter(e=>r?!t.includes(e):t.includes(e)).reduce((t,r)=>(t[r]=e[r],t),{}):{}}function s(e,t,r,a){let s=a&&Object.keys(a).length>0?new URL(Object.values(a)[0],e):new URL(e);return t&&r&&t.forEach(e=>{r[e]&&s.searchParams.set(e,r[e])}),s.toString()}function n(e,t,r,a,n){var i;if(!t)return`<${e}></${e}>`;let o=(null==(i=t.src)?void 0:i.url)?Object.assign(Object.assign({},t),{src:s(t.src.url,t.src.params,a,n)}):t,l=Object.keys(Object.assign(Object.assign({},o),r)).reduce((e,t)=>{let a=null==r?void 0:r[t],s=o[t],n=null!=a?a:s,i=!0===n?t:`${t}="${n}"`;return n?e+` ${i}`:e},"");return`<${e}${l}></${e}>`}Object.defineProperty(r,"__esModule",{value:!0}),r.formatData=r.createHtml=r.formatUrl=void 0,r.formatUrl=s,r.createHtml=n,r.formatData=function(e,t){var r,i,o,l,d;let u=a(t,null==(r=e.scripts)?void 0:r.reduce((e,t)=>[...e,...Array.isArray(t.params)?t.params:[]],[])),c=a(t,null==(o=null==(i=e.html)?void 0:i.attributes.src)?void 0:o.params),p=a(t,[null==(d=null==(l=e.html)?void 0:l.attributes.src)?void 0:d.slugParam]),h=a(t,[...Object.keys(u),...Object.keys(c),...Object.keys(p)],!0);return Object.assign(Object.assign({},e),{html:e.html?n(e.html.element,e.html.attributes,h,c,p):null,scripts:e.scripts?e.scripts.map(e=>Object.assign(Object.assign({},e),{url:s(e.url,e.params,u)})):null})}},65667,(e,t,r)=>{"use strict";var a=e.e&&e.e.__rest||function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)0>t.indexOf(a[s])&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r},s=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.GoogleAnalytics=void 0;let n=s(e.r(39744)),i=e.r(74802);r.GoogleAnalytics=e=>{var t=a(e,[]);return(0,i.formatData)(n.default,t)}},11695,(e,t,r)=>{"use strict";var a=e.e&&e.e.__rest||function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)0>t.indexOf(a[s])&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r},s=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.GoogleMapsEmbed=void 0;let n=s(e.r(16623)),i=e.r(74802);r.GoogleMapsEmbed=e=>{var t=a(e,[]);return(0,i.formatData)(n.default,t)}},75423,(e,t,r)=>{"use strict";var a=e.e&&e.e.__rest||function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)0>t.indexOf(a[s])&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r},s=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.YouTubeEmbed=void 0;let n=s(e.r(91903)),i=e.r(74802);r.YouTubeEmbed=e=>{var t=a(e,[]);return(0,i.formatData)(n.default,t)}},34877,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.YouTubeEmbed=r.GoogleMapsEmbed=r.GoogleAnalytics=void 0;var a=e.r(65667);Object.defineProperty(r,"GoogleAnalytics",{enumerable:!0,get:function(){return a.GoogleAnalytics}});var s=e.r(11695);Object.defineProperty(r,"GoogleMapsEmbed",{enumerable:!0,get:function(){return s.GoogleMapsEmbed}});var n=e.r(75423);Object.defineProperty(r,"YouTubeEmbed",{enumerable:!0,get:function(){return n.YouTubeEmbed}})},97853,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function({html:e,height:t=null,width:r=null,children:n,dataNtpc:i=""}){return(0,s.useEffect)(()=>{i&&performance.mark("mark_feature_usage",{detail:{feature:`next-third-parties-${i}`}})},[i]),(0,a.jsxs)(a.Fragment,{children:[n,e?(0,a.jsx)("div",{style:{height:null!=t?`${t}px`:"auto",width:null!=r?`${r}px`:"auto"},"data-ntpc":i,dangerouslySetInnerHTML:{__html:e}}):null]})};let a=e.r(20299),s=e.r(41295)},12189,(e,t,r)=>{"use strict";var a=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){let{apiKey:t,...r}=e,a={...r,key:t},{html:o}=(0,n.GoogleMapsEmbed)(a);return(0,s.jsx)(i.default,{height:a.height||null,width:a.width||null,html:o,dataNtpc:"GoogleMapsEmbed"})};let s=e.r(20299),n=e.r(34877),i=a(e.r(97853))},95145,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={cancelIdleCallback:function(){return i},requestIdleCallback:function(){return n}};for(var s in a)Object.defineProperty(r,s,{enumerable:!0,get:a[s]});let n="undefined"!=typeof self&&self.requestIdleCallback&&self.requestIdleCallback.bind(window)||function(e){let t=Date.now();return self.setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},i="undefined"!=typeof self&&self.cancelIdleCallback&&self.cancelIdleCallback.bind(window)||function(e){return clearTimeout(e)};("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},34389,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={default:function(){return x},handleClientScriptLoad:function(){return g},initScriptLoader:function(){return b}};for(var s in a)Object.defineProperty(r,s,{enumerable:!0,get:a[s]});let n=e.r(14538),i=e.r(26543),o=e.r(20299),l=n._(e.r(36540)),d=i._(e.r(41295)),u=e.r(38601),c=e.r(76493),p=e.r(95145),h=new Map,m=new Set,f=e=>{let{src:t,id:r,onLoad:a=()=>{},onReady:s=null,dangerouslySetInnerHTML:n,children:i="",strategy:o="afterInteractive",onError:d,stylesheets:u}=e,p=r||t;if(p&&m.has(p))return;if(h.has(t)){m.add(p),h.get(t).then(a,d);return}let f=()=>{s&&s(),m.add(p)},g=document.createElement("script"),b=new Promise((e,t)=>{g.addEventListener("load",function(t){e(),a&&a.call(this,t),f()}),g.addEventListener("error",function(e){t(e)})}).catch(function(e){d&&d(e)});n?(g.innerHTML=n.__html||"",f()):i?(g.textContent="string"==typeof i?i:Array.isArray(i)?i.join(""):"",f()):t&&(g.src=t,h.set(t,b)),(0,c.setAttributesFromProps)(g,e),"worker"===o&&g.setAttribute("type","text/partytown"),g.setAttribute("data-nscript",o),u&&(e=>{if(l.default.preinit)return e.forEach(e=>{l.default.preinit(e,{as:"style"})});if("undefined"!=typeof window){let t=document.head;e.forEach(e=>{let r=document.createElement("link");r.type="text/css",r.rel="stylesheet",r.href=e,t.appendChild(r)})}})(u),document.body.appendChild(g)};function g(e){let{strategy:t="afterInteractive"}=e;"lazyOnload"===t?window.addEventListener("load",()=>{(0,p.requestIdleCallback)(()=>f(e))}):f(e)}function b(e){e.forEach(g),[...document.querySelectorAll('[data-nscript="beforeInteractive"]'),...document.querySelectorAll('[data-nscript="beforePageRender"]')].forEach(e=>{let t=e.id||e.getAttribute("src");m.add(t)})}function v(e){let{id:t,src:r="",onLoad:a=()=>{},onReady:s=null,strategy:n="afterInteractive",onError:i,stylesheets:c,...h}=e,{updateScripts:g,scripts:b,getIsSsr:v,appDir:x,nonce:y}=(0,d.useContext)(u.HeadManagerContext);y=h.nonce||y;let w=(0,d.useRef)(!1);(0,d.useEffect)(()=>{let e=t||r;w.current||(s&&e&&m.has(e)&&s(),w.current=!0)},[s,t,r]);let _=(0,d.useRef)(!1);if((0,d.useEffect)(()=>{if(!_.current){if("afterInteractive"===n)f(e);else"lazyOnload"===n&&("complete"===document.readyState?(0,p.requestIdleCallback)(()=>f(e)):window.addEventListener("load",()=>{(0,p.requestIdleCallback)(()=>f(e))}));_.current=!0}},[e,n]),("beforeInteractive"===n||"worker"===n)&&(g?(b[n]=(b[n]||[]).concat([{id:t,src:r,onLoad:a,onReady:s,onError:i,...h,nonce:y}]),g(b)):v&&v()?m.add(t||r):v&&!v()&&f({...e,nonce:y})),x){if(c&&c.forEach(e=>{l.default.preinit(e,{as:"style"})}),"beforeInteractive"===n)if(!r)return h.dangerouslySetInnerHTML&&(h.children=h.dangerouslySetInnerHTML.__html,delete h.dangerouslySetInnerHTML),(0,o.jsx)("script",{nonce:y,dangerouslySetInnerHTML:{__html:`(self.__next_s=self.__next_s||[]).push(${JSON.stringify([0,{...h,id:t}])})`}});else return l.default.preload(r,h.integrity?{as:"script",integrity:h.integrity,nonce:y,crossOrigin:h.crossOrigin}:{as:"script",nonce:y,crossOrigin:h.crossOrigin}),(0,o.jsx)("script",{nonce:y,dangerouslySetInnerHTML:{__html:`(self.__next_s=self.__next_s||[]).push(${JSON.stringify([r,{...h,id:t}])})`}});"afterInteractive"===n&&r&&l.default.preload(r,h.integrity?{as:"script",integrity:h.integrity,nonce:y,crossOrigin:h.crossOrigin}:{as:"script",nonce:y,crossOrigin:h.crossOrigin})}return null}Object.defineProperty(v,"__nextScript",{value:!0});let x=v;("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},90905,(e,t,r)=>{t.exports=e.r(34389)},3447,(e,t,r)=>{"use strict";var a=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){let{html:t,scripts:r,stylesheets:a}=(0,i.YouTubeEmbed)(e);return(0,s.jsx)(o.default,{height:e.height||null,width:e.width||null,html:t,dataNtpc:"YouTubeEmbed",children:null==r?void 0:r.map(e=>(0,s.jsx)(n.default,{src:e.url,strategy:l[e.strategy],stylesheets:a},e.url))})};let s=e.r(20299),n=a(e.r(90905)),i=e.r(34877),o=a(e.r(97853)),l={server:"beforeInteractive",client:"afterInteractive",idle:"lazyOnload",worker:"worker"}},35112,(e,t,r)=>{"use strict";var a=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.sendGTMEvent=void 0,r.GoogleTagManager=function(e){let{gtmId:t,gtmScriptUrl:r,dataLayerName:a="dataLayer",auth:l,preview:d,dataLayer:u,nonce:c}=e;o=a;let p=new URL(r||"https://www.googletagmanager.com/gtm.js");return t&&p.searchParams.set("id",t),"dataLayer"!==a&&p.searchParams.set("l",a),l&&p.searchParams.set("gtm_auth",l),d&&(p.searchParams.set("gtm_preview",d),p.searchParams.set("gtm_cookies_win","x")),(0,n.useEffect)(()=>{performance.mark("mark_feature_usage",{detail:{feature:"next-third-parties-gtm"}})},[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.default,{id:"_next-gtm-init",dangerouslySetInnerHTML:{__html:`
      (function(w,l){
        w[l]=w[l]||[];
        w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});
        ${u?`w[l].push(${JSON.stringify(u)})`:""}
      })(window,'${a}');`},nonce:c}),(0,s.jsx)(i.default,{id:"_next-gtm","data-ntpc":"GTM",src:p.href,nonce:c})]})};let s=e.r(20299),n=e.r(41295),i=a(e.r(90905)),o="dataLayer";r.sendGTMEvent=(e,t)=>{let r=t||o;window[r]=window[r]||[],window[r].push(e)}},91633,(e,t,r)=>{"use strict";let a;var s=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.GoogleAnalytics=function(e){let{gaId:t,debugMode:r,dataLayerName:s="dataLayer",nonce:l}=e;return void 0===a&&(a=s),(0,i.useEffect)(()=>{performance.mark("mark_feature_usage",{detail:{feature:"next-third-parties-ga"}})},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.default,{id:"_next-ga-init",dangerouslySetInnerHTML:{__html:`
          window['${s}'] = window['${s}'] || [];
          function gtag(){window['${s}'].push(arguments);}
          gtag('js', new Date());

          gtag('config', '${t}' ${r?",{ 'debug_mode': true }":""});`},nonce:l}),(0,n.jsx)(o.default,{id:"_next-ga",src:`https://www.googletagmanager.com/gtag/js?id=${t}`,nonce:l})]})},r.sendGAEvent=function(){void 0===a?console.warn("@next/third-parties: GA has not been initialized"):window[a]?window[a].push(arguments):console.warn(`@next/third-parties: GA dataLayer ${a} does not exist`)};let n=e.r(20299),i=e.r(41295),o=s(e.r(90905))},42208,(e,t,r)=>{"use strict";var a=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.sendGAEvent=r.GoogleAnalytics=r.sendGTMEvent=r.GoogleTagManager=r.YouTubeEmbed=r.GoogleMapsEmbed=void 0;var s=e.r(12189);Object.defineProperty(r,"GoogleMapsEmbed",{enumerable:!0,get:function(){return a(s).default}});var n=e.r(3447);Object.defineProperty(r,"YouTubeEmbed",{enumerable:!0,get:function(){return a(n).default}});var i=e.r(35112);Object.defineProperty(r,"GoogleTagManager",{enumerable:!0,get:function(){return i.GoogleTagManager}}),Object.defineProperty(r,"sendGTMEvent",{enumerable:!0,get:function(){return i.sendGTMEvent}});var o=e.r(91633);Object.defineProperty(r,"GoogleAnalytics",{enumerable:!0,get:function(){return o.GoogleAnalytics}}),Object.defineProperty(r,"sendGAEvent",{enumerable:!0,get:function(){return o.sendGAEvent}})},84859,e=>{e.v({className:"geist_a71539c9-module__T19VSG__className",variable:"geist_a71539c9-module__T19VSG__variable"})},94739,e=>{"use strict";var t=e.i(84859);let r={className:t.default.className,style:{fontFamily:"'Geist', 'Geist Fallback'",fontStyle:"normal"}};null!=t.default.variable&&(r.variable=t.default.variable),e.s(["default",0,r])},21554,e=>{e.v({className:"geist_mono_8d43a2aa-module__8Li5zG__className",variable:"geist_mono_8d43a2aa-module__8Li5zG__variable"})},46092,e=>{"use strict";var t=e.i(21554);let r={className:t.default.className,style:{fontFamily:"'Geist Mono', 'Geist Mono Fallback'",fontStyle:"normal"}};null!=t.default.variable&&(r.variable=t.default.variable),e.s(["default",0,r])},67530,e=>{"use strict";var t=e.i(41295),r=e.i(32704),a=e.i(81089),s=e.i(19189),n=e.i(83220),i=e.i(54096),o=e.i(22833),l=e.i(43254),d=e=>{let[,t]=(0,l.tapState)(e.getState);return(0,s.tapEffect)(()=>(t(e.getState()),e.subscribe(()=>{t(e.getState())})),[e]),e.getState()},u=e.i(28703),c=(0,a.resource)(({runtime:e})=>{let t=d(e),r=(0,u.tapEvents)();return(0,s.tapEffect)(()=>{let t=[];for(let a of["switched-to","switched-away"]){let s=e.unstable_on(a,()=>{r.emit(`thread-list-item.${a}`,{threadId:e.getState().id})});t.push(s)}return()=>{for(let e of t)e()}},[e,r]),(0,i.tapApi)({getState:()=>t,switchTo:e.switchTo,rename:e.rename,archive:e.archive,unarchive:e.unarchive,delete:e.delete,generateTitle:e.generateTitle,initialize:e.initialize,detach:e.detach,__internal_getRuntime:()=>e},{key:t.id})}),p=e.i(17435),h=e=>{let t=(0,p.tapResources)(e);return{state:t.map(e=>e.state),api:e=>{let r="index"in e?t[e.index]?.api:t.find(t=>t.key===e.key)?.api;if(!r)throw Error(`tapLookupResources: Resource not found for lookup: ${JSON.stringify(e)}`);return r}}},m=(0,a.resource)(({runtime:e})=>{let t=d(e);return(0,i.tapApi)({getState:()=>t,remove:e.remove,__internal_getRuntime:()=>e},{key:t.id})}),f=(0,a.resource)(({runtime:e,index:t})=>{let r=(0,o.tapMemo)(()=>e.getAttachmentByIndex(t),[e,t]);return(0,n.tapInlineResource)(m({runtime:r}))}),g=(0,a.resource)(({threadIdRef:e,messageIdRef:t,runtime:r})=>{let a=d(r),n=(0,u.tapEvents)();(0,s.tapEffect)(()=>{let a=[];for(let s of["send","attachment-add"]){let i=r.unstable_on(s,()=>{n.emit(`composer.${s}`,{threadId:e.current,...t&&{messageId:t.current}})});a.push(i)}return()=>{for(let e of a)e()}},[r,n,e,t]);let l=h(a.attachments.map((e,t)=>f({runtime:r,index:t},{key:t}))),c=(0,o.tapMemo)(()=>({text:a.text,role:a.role,attachments:l.state,runConfig:a.runConfig,isEditing:a.isEditing,canCancel:a.canCancel,attachmentAccept:a.attachmentAccept,isEmpty:a.isEmpty,type:a.type??"thread"}),[a,l.state]);return(0,i.tapApi)({getState:()=>c,setText:r.setText,setRole:r.setRole,setRunConfig:r.setRunConfig,addAttachment:r.addAttachment,reset:r.reset,clearAttachments:r.clearAttachments,send:r.send,cancel:r.cancel,beginEdit:r.beginEdit??(()=>{throw Error("beginEdit is not supported in this runtime")}),attachment:e=>"id"in e?l.api({key:e.id}):l.api(e),__internal_getRuntime:()=>r})}),b=(0,a.resource)(({runtime:e})=>{let t=d(e);return(0,i.tapApi)({getState:()=>t,addToolResult:t=>e.addToolResult(t),resumeToolCall:t=>e.resumeToolCall(t),__internal_getRuntime:()=>e},{key:"tool-call"===t.type?"toolCallId-"+t.toolCallId:void 0})}),v=(0,a.resource)(({runtime:e,index:t})=>{let r=(0,o.tapMemo)(()=>e.getAttachmentByIndex(t),[e,t]);return(0,n.tapInlineResource)(m({runtime:r}))}),x=(0,a.resource)(({runtime:e,index:t})=>{let r=(0,o.tapMemo)(()=>e.getMessagePartByIndex(t),[e,t]);return(0,n.tapInlineResource)(b({runtime:r}))}),y=(0,a.resource)(({runtime:e,threadIdRef:t})=>{let r=d(e),[a,s]=(0,l.tapState)(!1),[u,c]=(0,l.tapState)(!1),p=(0,o.tapMemo)(()=>({get current(){return e.getState().id}}),[e]),m=(0,n.tapInlineResource)(g({runtime:e.composer,threadIdRef:t,messageIdRef:p})),f=h(r.content.map((t,r)=>x({runtime:e,index:r},{key:r}))),b=h(r.attachments?.map((t,r)=>v({runtime:e,index:r},{key:r}))??[]),y=(0,o.tapMemo)(()=>({...r,parts:f.state,composer:m.state,isCopied:a,isHovering:u}),[r,f.state,m.state,a,u]);return(0,i.tapApi)({getState:()=>y,composer:m.api,reload:t=>e.reload(t),speak:()=>e.speak(),stopSpeaking:()=>e.stopSpeaking(),submitFeedback:t=>e.submitFeedback(t),switchToBranch:t=>e.switchToBranch(t),getCopyText:()=>e.unstable_getCopyText(),part:e=>"index"in e?f.api({index:e.index}):f.api({key:"toolCallId-"+e.toolCallId}),attachment:e=>"id"in e?b.api({key:e.id}):b.api(e),setIsCopied:s,setIsHovering:c,__internal_getRuntime:()=>e},{key:r.id})}),w=(0,a.resource)(({runtime:e,id:t,threadIdRef:r})=>{let a=(0,o.tapMemo)(()=>e.getMessageById(t),[e,t]);return(0,n.tapInlineResource)(y({runtime:a,threadIdRef:r}))}),_=(0,a.resource)(({runtime:e})=>{let t=d(e),r=(0,u.tapEvents)();(0,s.tapEffect)(()=>{let t=[];for(let a of["run-start","run-end","initialize","model-context-update"]){let s=e.unstable_on(a,()=>{let t=e.getState()?.threadId||"unknown";r.emit(`thread.${a}`,{threadId:t})});t.push(s)}return()=>{for(let e of t)e()}},[e]);let a=(0,o.tapMemo)(()=>({get current(){return e.getState().threadId}}),[e]),l=(0,n.tapInlineResource)(g({runtime:e.composer,threadIdRef:a})),c=h(t.messages.map(t=>w({runtime:e,id:t.id,threadIdRef:a},{key:t.id}))),p=(0,o.tapMemo)(()=>({isDisabled:t.isDisabled,isLoading:t.isLoading,isRunning:t.isRunning,capabilities:t.capabilities,state:t.state,suggestions:t.suggestions,extras:t.extras,speech:t.speech,composer:l.state,messages:c.state}),[t,c,l.state]);return(0,i.tapApi)({getState:()=>p,composer:l.api,append:e.append,startRun:e.startRun,unstable_resumeRun:e.unstable_resumeRun,cancelRun:e.cancelRun,getModelContext:e.getModelContext,export:e.export,import:e.import,reset:e.reset,stopSpeaking:e.stopSpeaking,startVoice:async()=>{throw Error("startVoice is not supported in this runtime")},stopVoice:async()=>{throw Error("stopVoice is not supported in this runtime")},message:e=>"id"in e?c.api({key:e.id}):c.api(e),__internal_getRuntime:()=>e})}),j=(0,a.resource)(({runtime:e,id:t})=>{let r=(0,o.tapMemo)(()=>e.getItemById(t),[e,t]);return(0,n.tapInlineResource)(c({runtime:r}))}),M=(0,a.resource)(({runtime:e,__internal_assistantRuntime:t})=>{let r=d(e),a=(0,n.tapInlineResource)(_({runtime:e.main})),s=h(Object.keys(r.threadItems).map(t=>j({runtime:e,id:t},{key:t}))),l=(0,o.tapMemo)(()=>({mainThreadId:r.mainThreadId,newThreadId:r.newThread??null,isLoading:r.isLoading,threadIds:r.threads,archivedThreadIds:r.archivedThreads,threadItems:s.state,main:a.state}),[r,s.state,a.state]);return(0,i.tapApi)({getState:()=>l,thread:()=>a.api,item:e=>{if("main"===e)return s.api({key:l.mainThreadId});if("id"in e)return s.api({key:e.id});let{index:t,archived:r=!1}=e,a=r?l.archivedThreadIds[t]:l.threadIds[t];return s.api({key:a})},switchToThread:t=>{e.switchToThread(t)},switchToNewThread:()=>{e.switchToNewThread()},__internal_getAssistantRuntime:()=>t})}),T=e.i(5347),S=(0,a.resource)(e=>{let t=(0,T.tapModelContext)();return(0,s.tapEffect)(()=>e.registerModelContextProvider(t),[e,t]),(0,n.tapInlineResource)(M({runtime:e.threads,__internal_assistantRuntime:e}))}),k=e.i(20299),C=(0,t.memo)(({children:e,runtime:t})=>{let a=(0,r.useAssistantApi)({threads:S(t)}),s=t._core?.RenderComponent;return(0,k.jsxs)(r.AssistantProvider,{api:a,children:[s&&(0,k.jsx)(s,{}),e]})});e.s(["AssistantRuntimeProvider",()=>C],67530)},79269,e=>{"use strict";function t(e,t){if("*"===t)return!0;let r=t.split(",").map(e=>e.trim().toLowerCase()),a="."+e.name.split(".").pop().toLowerCase(),s=e.type.toLowerCase();for(let e of r){if(e.startsWith(".")&&e===a||e.includes("/")&&e===s)return!0;if(("image/*"===e||"video/*"===e||"audio/*"===e)&&e.endsWith("/*")){let t=e.split("/")[0];if(s.startsWith(t+"/"))return!0}}return!1}var r=class{_adapters;accept;constructor(e){this._adapters=e;const t=e.findIndex(e=>"*"===e.accept);if(-1!==t){if(t!==e.length-1)throw Error("A wildcard adapter (handling all files) can only be specified as the last adapter.");this.accept="*"}else this.accept=e.map(e=>e.accept).join(",")}add(e){for(let r of this._adapters)if(t(e.file,r.accept))return r.add(e);throw Error("No matching adapter found for file")}async send(e){for(let r of this._adapters.slice())if(t(e.file,r.accept))return r.send(e);throw Error("No matching adapter found for attachment")}async remove(e){for(let r of this._adapters.slice())if(t({name:e.name,type:e.contentType},r.accept))return r.remove(e);throw Error("No matching adapter found for attachment")}};e.s(["CompositeAttachmentAdapter",()=>r])},42571,e=>{"use strict";var t=class{accept="image/*";async add(e){return{id:e.file.name,type:"image",name:e.file.name,contentType:e.file.type,file:e.file,status:{type:"requires-action",reason:"composer-send"}}}async send(e){return{...e,status:{type:"complete"},content:[{type:"image",image:await r(e.file)}]}}async remove(){}},r=e=>new Promise((t,r)=>{let a=new FileReader;a.onload=()=>t(a.result),a.onerror=e=>r(e),a.readAsDataURL(e)});e.s(["SimpleImageAttachmentAdapter",()=>t])},64001,e=>{"use strict";var t=class{accept="text/plain,text/html,text/markdown,text/csv,text/xml,text/json,text/css";async add(e){return{id:e.file.name,type:"document",name:e.file.name,contentType:e.file.type,file:e.file,status:{type:"requires-action",reason:"composer-send"}}}async send(e){return{...e,status:{type:"complete"},content:[{type:"text",text:`<attachment name=${e.name}>
${await r(e.file)}
</attachment>`}]}}async remove(){}},r=e=>new Promise((t,r)=>{let a=new FileReader;a.onload=()=>t(a.result),a.onerror=e=>r(e),a.readAsText(e)});e.s(["SimpleTextAttachmentAdapter",()=>t])},64589,e=>{"use strict";var t=class{cache=new WeakMap;convertMessages(e,t){return e.map((e,r)=>{let a=t(this.cache.get(e),e,r);return this.cache.set(e,a),a})}};e.s(["ThreadMessageConverter",()=>t])},1673,e=>{"use strict";var t=e.i(41295),r=e.i(64589),a=e.i(79166),s=e.i(23789),n=e.i(35498),i=({callback:e,messages:i,isRunning:l,joinStrategy:d,metadata:u})=>{let c=(0,t.useMemo)(()=>({metadata:u??{},callback:e,callbackCache:new WeakMap,chunkCache:new WeakMap,converterCache:new r.ThreadMessageConverter}),[e,u]);return(0,t.useMemo)(()=>{let e=[];for(let t of i){let r=c.callbackCache.get(t);if(!r){let e=c.callback(t,c.metadata);r={input:t,outputs:Array.isArray(e)?e:[e]},c.callbackCache.set(t,r)}e.push(r)}let t=((e,t)=>{let r=[],a=!1,s=!1,n=[],i=[],o=()=>{i.length&&r.push({inputs:n,outputs:i}),n=[],i=[],a=!1,s=!1};for(let r of e)for(let e of r.outputs)(s&&"tool"!==e.role||!a||"user"===e.role||"system"===e.role)&&o(),a="assistant"===e.role||"tool"===e.role,n.at(-1)!==r.input&&n.push(r.input),i.push(e),"assistant"===e.role&&(e.convertConfig?.joinStrategy==="none"||"none"===t)&&(s=!0);return o(),r})(e,d).map(e=>{let t=e.outputs[0];if(!t)return e;let r=c.chunkCache.get(t);return r&&o(r.outputs,e.outputs)?r:(c.chunkCache.set(t,e),e)}),r=c.converterCache.convertMessages(t,(e,r,i)=>{let d=i===t.length-1,u=(e=>{let t={role:"assistant",content:[]};for(let r of e)if("tool"===r.role){let e=t.content.findIndex(e=>"tool-call"===e.type&&e.toolCallId===r.toolCallId);if(-1!==e){let s=t.content[e];if(void 0!==r.toolName&&s.toolName!==r.toolName)throw Error(`Tool call name ${r.toolCallId} ${r.toolName} does not match existing tool call ${s.toolName}`);t.content[e]={...s,...{[a.symbolInnerMessage]:[...s[a.symbolInnerMessage]??[],r]},result:r.result,artifact:r.artifact,isError:r.isError,messages:r.messages}}else throw Error(`Tool call ${r.toolCallId} ${r.toolName} not found in assistant message`)}else{let e=r.role,s=("string"==typeof r.content?[{type:"text",text:r.content}]:r.content).map(e=>({...e,...{[a.symbolInnerMessage]:[r]}}));switch(e){case"system":case"user":return{...r,content:s};case"assistant":0===t.content.length&&(t.id=r.id,t.createdAt??=r.createdAt,t.status??=r.status,r.attachments&&(t.attachments=[...t.attachments??[],...r.attachments]),r.metadata&&(t.metadata??={},r.metadata.unstable_state&&(t.metadata.unstable_state=r.metadata.unstable_state),r.metadata.unstable_annotations&&(t.metadata.unstable_annotations=[...t.metadata.unstable_annotations??[],...r.metadata.unstable_annotations]),r.metadata.unstable_data&&(t.metadata.unstable_data=[...t.metadata.unstable_data??[],...r.metadata.unstable_data]),r.metadata.steps&&(t.metadata.steps=[...t.metadata.steps??[],...r.metadata.steps]),r.metadata.custom&&(t.metadata.custom={...t.metadata.custom??{},...r.metadata.custom}),r.metadata.submittedFeedback&&(t.metadata.submittedFeedback=r.metadata.submittedFeedback))),t.content.push(...s);break;default:throw Error(`Unknown message role: ${e}`)}}return t})(r.outputs),p="object"==typeof u.content&&u.content.some(e=>"tool-call"===e.type&&void 0===e.result),h="object"==typeof u.content&&u.content.some(e=>"tool-call"===e.type&&void 0===e.result),m=(0,n.getAutoStatus)(d,l,p,h,d?c.metadata.error:void 0);if(e&&("assistant"!==e.role||!(0,n.isAutoStatus)(e.status)||e.status===m)&&o((0,a.getExternalStoreMessages)(e),r.inputs))return e;let f=(0,s.fromThreadMessageLike)(u,i.toString(),m);return f[a.symbolInnerMessage]=r.inputs,f});return r[a.symbolInnerMessage]=i,r},[c,i,l,d])},o=(e,t)=>{if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0};e.s(["useExternalMessageConverter",()=>i])},75939,e=>{"use strict";var t=e.i(41295),r=e.i(38201),a=Object.freeze([]),s="DEFAULT_THREAD_ID",n=Object.freeze([s]),i=Object.freeze({id:s,remoteId:void 0,externalId:void 0,status:"regular"}),o=Promise.resolve(),l=Object.freeze({[s]:i}),d=class{constructor(e={},t){this.adapter=e,this.threadFactory=t,this._mainThread=this.threadFactory(),this.__internal_setAdapter(e,!0)}_mainThreadId=s;_threads=n;_archivedThreads=a;_threadData=l;get isLoading(){return this.adapter.isLoading??!1}get newThreadId(){}get threadIds(){return this._threads}get archivedThreadIds(){return this._archivedThreads}get threadData(){return this._threadData}getLoadThreadsPromise(){return o}_mainThread;get mainThreadId(){return this._mainThreadId}getMainThreadRuntimeCore(){return this._mainThread}getThreadRuntimeCore(){throw Error("Method not implemented.")}getItemById(e){for(let t of this.adapter.threads??[])if(t.id===e)return t;for(let t of this.adapter.archivedThreads??[])if(t.id===e)return t;if(e===s)return i}__internal_setAdapter(e,t=!1){let r=this.adapter;this.adapter=e;let n=e.threadId??s,i=e.threads??a,o=e.archivedThreads??a,d=r.threadId??s,u=r.threads??a,c=r.archivedThreads??a;(t||d!==n||u!==i||c!==o)&&(this._threadData={...l,...Object.fromEntries(e.threads?.map(e=>[e.id,{...e,remoteId:e.remoteId,externalId:e.externalId,status:"regular"}])??[]),...Object.fromEntries(e.archivedThreads?.map(e=>[e.id,{...e,remoteId:e.remoteId,externalId:e.externalId,status:"archived"}])??[])},u!==i&&(this._threads=this.adapter.threads?.map(e=>e.id)??a),c!==o&&(this._archivedThreads=this.adapter.archivedThreads?.map(e=>e.id)??a),d!==n&&(this._mainThreadId=n,this._mainThread=this.threadFactory()),this._notifySubscribers())}async switchToThread(e){if(this._mainThreadId===e)return;let t=this.adapter.onSwitchToThread;if(!t)throw Error("External store adapter does not support switching to thread");t(e)}async switchToNewThread(){let e=this.adapter.onSwitchToNewThread;if(!e)throw Error("External store adapter does not support switching to new thread");e()}async rename(e,t){let r=this.adapter.onRename;if(!r)throw Error("External store adapter does not support renaming");r(e,t)}async detach(){}async archive(e){let t=this.adapter.onArchive;if(!t)throw Error("External store adapter does not support archiving");t(e)}async unarchive(e){let t=this.adapter.onUnarchive;if(!t)throw Error("External store adapter does not support unarchiving");t(e)}async delete(e){let t=this.adapter.onDelete;if(!t)throw Error("External store adapter does not support deleting");t(e)}initialize(e){return Promise.resolve({remoteId:e,externalId:void 0})}generateTitle(){throw Error("Method not implemented.")}_subscriptions=new Set;subscribe(e){return this._subscriptions.add(e),()=>this._subscriptions.delete(e)}_notifySubscribers(){for(let e of this._subscriptions)e()}},u=e.i(79166),c=e.i(64589),p=e.i(35498),h=e.i(23789),m=e.i(2631),f=e.i(12164),g=e.i(31609),b=e.i(13931),v=class extends b.BaseComposerRuntimeCore{constructor(e,t,{parentId:r,message:a}){super(),this.runtime=e,this.endEditCallback=t,this._parentId=r,this._sourceId=a.id,this._previousText=(0,m.getThreadMessageText)(a),this.setText(this._previousText),this.setRole(a.role),this.setAttachments(a.attachments??[]),this._nonTextParts=a.content.filter(e=>"text"!==e.type),this.setRunConfig({...e.composer.runConfig})}get canCancel(){return!0}getAttachmentAdapter(){return this.runtime.adapters?.attachments}_nonTextParts;_previousText;_parentId;_sourceId;async handleSend(e){(0,m.getThreadMessageText)(e)!==this._previousText&&this.runtime.append({...e,content:[...e.content,...this._nonTextParts],parentId:this._parentId,sourceId:this._sourceId}),this.handleCancel()}handleCancel(){this.endEditCallback(),this._notifySubscribers()}},x=class{constructor(e){this._contextProvider=e}_subscriptions=new Set;_isInitialized=!1;repository=new f.MessageRepository;get messages(){return this.repository.getMessages()}get state(){let e;for(let t of this.messages)if("assistant"===t.role){e=t;break}return e?.metadata.unstable_state??null}composer=new g.DefaultThreadComposerRuntimeCore(this);getModelContext(){return this._contextProvider.getModelContext()}_editComposers=new Map;getEditComposer(e){return this._editComposers.get(e)}beginEdit(e){if(this._editComposers.has(e))throw Error("Edit already in progress");this._editComposers.set(e,new v(this,()=>this._editComposers.delete(e),this.repository.getMessage(e))),this._notifySubscribers()}getMessageById(e){try{return this.repository.getMessage(e)}catch{return}}getBranches(e){return this.repository.getBranches(e)}switchToBranch(e){this.repository.switchToBranch(e),this._notifySubscribers()}_notifySubscribers(){for(let e of this._subscriptions)e()}_notifyEventSubscribers(e){let t=this._eventSubscribers.get(e);if(t)for(let e of t)e()}subscribe(e){return this._subscriptions.add(e),()=>this._subscriptions.delete(e)}submitFeedback({messageId:e,type:t}){let r=this.adapters?.feedback;if(!r)throw Error("Feedback adapter not configured");let{message:a,parentId:s}=this.repository.getMessage(e);if(r.submit({message:a,type:t}),"assistant"===a.role){let e={...a,metadata:{...a.metadata,submittedFeedback:{type:t}}};this.repository.addOrUpdateMessage(s,e)}this._notifySubscribers()}_stopSpeaking;speech;speak(e){let t=this.adapters?.speech;if(!t)throw Error("Speech adapter not configured");let{message:r}=this.repository.getMessage(e);this._stopSpeaking?.();let a=t.speak((0,m.getThreadMessageText)(r)),s=a.subscribe(()=>{"ended"===a.status.type?(this._stopSpeaking=void 0,this.speech=void 0):this.speech={messageId:e,status:a.status},this._notifySubscribers()});this.speech={messageId:e,status:a.status},this._notifySubscribers(),this._stopSpeaking=()=>{a.cancel(),s(),this.speech=void 0,this._stopSpeaking=void 0}}stopSpeaking(){if(!this._stopSpeaking)throw Error("No message is being spoken");this._stopSpeaking(),this._notifySubscribers()}ensureInitialized(){this._isInitialized||(this._isInitialized=!0,this._notifyEventSubscribers("initialize"))}export(){return this.repository.export()}import(e){this.ensureInitialized(),this.repository.clear(),this.repository.import(e),this._notifySubscribers()}reset(e){this.import(f.ExportedMessageRepository.fromArray(e??[]))}_eventSubscribers=new Map;unstable_on(e,t){if("model-context-update"===e)return this._contextProvider.subscribe?.(t)??(()=>{});let r=this._eventSubscribers.get(e);return r?r.add(t):this._eventSubscribers.set(e,new Set([t])),()=>{this._eventSubscribers.get(e).delete(t)}}},y=Object.freeze([]),w=class extends x{_assistantOptimisticId=null;_capabilities={switchToBranch:!1,switchBranchDuringRun:!1,edit:!1,reload:!1,cancel:!1,unstable_copy:!1,speech:!1,attachments:!1,feedback:!1};get capabilities(){return this._capabilities}_messages;isDisabled;get isLoading(){return this._store.isLoading??!1}get messages(){return this._messages}get state(){return this._store.state??super.state}get adapters(){return this._store.adapters}suggestions=[];extras=void 0;_converter=new c.ThreadMessageConverter;_store;beginEdit(e){if(!this._store.onEdit)throw Error("Runtime does not support editing.");super.beginEdit(e)}constructor(e,t){super(e),this.__internal_setAdapter(t)}__internal_setAdapter(e){let t,r;if(this._store===e)return;let a=e.isRunning??!1;this.isDisabled=e.isDisabled??!1;let s=this._store;if(this._store=e,this.extras=e.extras,this.suggestions=e.suggestions??y,this._capabilities={switchToBranch:void 0!==this._store.setMessages,switchBranchDuringRun:!1,edit:void 0!==this._store.onEdit,reload:void 0!==this._store.onReload,cancel:void 0!==this._store.onCancel,speech:this._store.adapters?.speech!==void 0,unstable_copy:this._store.unstable_capabilities?.copy!==!1,attachments:!!this._store.adapters?.attachments,feedback:!!this._store.adapters?.feedback},e.messageRepository){if(s&&s.isRunning===e.isRunning&&s.messageRepository===e.messageRepository)return void this._notifySubscribers();this.repository.clear(),this._assistantOptimisticId=null,this.repository.import(e.messageRepository),t=this.repository.getMessages()}else if(e.messages){if(s){if(s.convertMessage!==e.convertMessage)this._converter=new c.ThreadMessageConverter;else if(s.isRunning===e.isRunning&&s.messages===e.messages)return void this._notifySubscribers()}t=e.convertMessage?this._converter.convertMessages(e.messages,(t,r,s)=>{if(!e.convertMessage)return r;let n=s===e.messages.length-1,i=(0,p.getAutoStatus)(n,a,!1,!1,void 0);if(t&&("assistant"!==t.role||!(0,p.isAutoStatus)(t.status)||t.status===i))return t;let o=e.convertMessage(r,s),l=(0,h.fromThreadMessageLike)(o,s.toString(),i);return l[u.symbolInnerMessage]=r,l}):e.messages;for(let e=0;e<t.length;e++){let r=t[e],a=t[e-1];this.repository.addOrUpdateMessage(a?.id??null,r)}}else throw Error("ExternalStoreAdapter must provide either 'messages' or 'messageRepository'");t.length>0&&this.ensureInitialized(),(s?.isRunning??!1)!==(e.isRunning??!1)&&(e.isRunning?this._notifyEventSubscribers("run-start"):this._notifyEventSubscribers("run-end")),this._assistantOptimisticId&&(this.repository.deleteMessage(this._assistantOptimisticId),this._assistantOptimisticId=null),r=t,a&&r[r.length-1]?.role!=="assistant"&&(this._assistantOptimisticId=this.repository.appendOptimisticMessage(t.at(-1)?.id??null,{role:"assistant",content:[]})),this.repository.resetHead(this._assistantOptimisticId??t.at(-1)?.id??null),this._messages=this.repository.getMessages(),this._notifySubscribers()}switchToBranch(e){if(!this._store.setMessages)throw Error("Runtime does not support switching branches.");this._store.isRunning||(this.repository.switchToBranch(e),this.updateMessages(this.repository.getMessages()))}async append(e){if(e.parentId!==(this.messages.at(-1)?.id??null)){if(!this._store.onEdit)throw Error("Runtime does not support editing messages.");await this._store.onEdit(e)}else await this._store.onNew(e)}async startRun(e){if(!this._store.onReload)throw Error("Runtime does not support reloading messages.");await this._store.onReload(e.parentId,e)}async resumeRun(e){if(!this._store.onResume)throw Error("Runtime does not support resuming runs.");await this._store.onResume(e)}unstable_loadExternalState(e){if(!this._store.onLoadExternalState)throw Error("Runtime does not support importing states.");this._store.onLoadExternalState(e)}cancelRun(){if(!this._store.onCancel)throw Error("Runtime does not support cancelling runs.");this._store.onCancel(),this._assistantOptimisticId&&(this.repository.deleteMessage(this._assistantOptimisticId),this._assistantOptimisticId=null);let e=this.repository.getMessages(),t=e[e.length-1];t?.role==="user"&&t.id===e.at(-1)?.id?(this.repository.deleteMessage(t.id),this.composer.text.trim()||this.composer.setText((0,m.getThreadMessageText)(t)),e=this.repository.getMessages()):this._notifySubscribers(),setTimeout(()=>{this.updateMessages(e)},0)}addToolResult(e){if(!this._store.onAddToolResult&&!this._store.onAddToolResult)throw Error("Runtime does not support tool results.");this._store.onAddToolResult?.(e)}resumeToolCall(e){if(!this._store.onResumeToolCall)throw Error("Runtime does not support resuming tool calls.");this._store.onResumeToolCall(e)}reset(e){let t=new f.MessageRepository;t.import(f.ExportedMessageRepository.fromArray(e??[])),this.updateMessages(t.getMessages())}import(e){this._assistantOptimisticId=null,super.import(e),this._store.onImport&&this._store.onImport(this.repository.getMessages())}updateMessages=e=>{void 0!==this._store.convertMessage?this._store.setMessages?.(e.flatMap(u.getExternalStoreMessage).filter(e=>null!=e)):this._store.setMessages?.(e)}},_=e=>e.adapters?.threadList??{},j=class extends r.BaseAssistantRuntimeCore{threads;constructor(e){super(),this.threads=new d(_(e),()=>new w(this._contextProvider,e))}setAdapter(e){this.threads.__internal_setAdapter(_(e)),this.threads.getMainThreadRuntimeCore().__internal_setAdapter(e)}},M=e.i(75704);e.i(20299);var T=(0,t.createContext)(null),S=e=>{let[r]=(0,t.useState)(()=>new j(e));(0,t.useEffect)(()=>{r.setAdapter(e)});let{modelContext:a}=(0,t.useContext)(T)??{};return(0,t.useEffect)(()=>{if(a)return r.registerModelContextProvider(a)},[a,r]),(0,t.useMemo)(()=>new M.AssistantRuntimeImpl(r),[r])};e.s(["useExternalStoreRuntime",()=>S],75939)},77536,e=>{"use strict";function t(e){switch(e.type){case"text":return{type:"text",text:e.text};case"value":return{type:"text",text:e.value?.toString()??""};case"image":{let r;if("binary"===e.image.type){var t;let a,s;t=e.image.data,a="",t.forEach(e=>{a+=String.fromCharCode(e)}),s=btoa(a),r=`data:image/png;base64,${s}`}else r=e.image.url;return{type:"image",image:r}}case"function":{let t={type:"tool-call",toolCallId:e.id,toolName:e.function.name};return"string"==typeof e.function.arguments?t.argsText=e.function.arguments:"object"==typeof e.function.arguments&&(t.args=e.function.arguments),t}}}function r(e){switch(e.role){case"system":return{role:"system",content:e.contents.map(e=>t(e))};case"user":return{role:"user",content:e.contents.map(e=>t(e))};case"assistant":{let r=[];return e.thinking&&r.push({type:"reasoning",text:e.thinking}),r=[...r,...e.contents.map(e=>t(e))],e.tool_calls&&e.tool_calls.length>0&&(r=[...r,...e.tool_calls.map(e=>t(e))]),{role:"assistant",content:r}}case"tool":{let t,r=e.contents[0];return t="text"===r.type?r.text:"value"===r.type?JSON.stringify(r.value):"",{role:"tool",toolCallId:e.id,result:t}}}}function a(e){switch(e.type){case"text":return{type:"text",text:e.text};case"value":return{type:"text",text:e.value?.toString()??""};case"function":if("verbatim"===e.function.type)return{type:"text",text:e.function.text};if("with_string_args"===e.function.type);return{type:"text",text:`{"name": "${e.function.name}", "arguments": ${e.function.arguments}}`};case"null":return{type:"text",text:""}}}function s(e){switch(e.role){case"assistant":{let t=[];return e.thinking&&t.push({type:"reasoning",text:e.thinking}),t=[...t,...e.contents.map(e=>a(e))],e.tool_calls.length>0&&(t=[...t,...e.tool_calls.map(e=>a(e))]),{role:"assistant",content:t}}case"tool":{let t=a(e.contents[0]).text;return{role:"tool",toolCallId:e.id,result:t}}default:return{role:"assistant",content:[]}}}function n(e){let t=[];for(let r of e){if("tool"===r.role)continue;let e=[];for(let t of r.content)if("string"==typeof t)e.push({type:"text",text:t});else if("text"===t.type)e.push({type:"text",text:t.text});else if("reasoning"===t.type);else if("tool-call"===t.type);else if("image"===t.type)e.push({type:"image",image:{type:"url",url:t.image}});else throw Error("Unsupported content type");t.push({role:r.role,contents:e})}return t}e.s(["convertMessage",()=>r,"convertMessageDelta",()=>s,"restoreMessages",()=>n])},86444,e=>e.a(async(t,r)=>{try{var a=e.i(20299),s=e.i(41295),n=e.i(69798),i=t([n]);[n]=i.then?(await i)():i;let d=(0,s.createContext)({currentThreadId:"default",setCurrentThreadId:()=>{},threads:new Map,setThreads:()=>{},currentThreadMessages:[],appendThreadMessage:()=>{},renameThread:()=>{},threadListAdapter:{}});function o({children:e}){let[t,r]=(0,s.useState)([{id:"default",status:"regular",title:"New Chat"}]),[i,o]=(0,s.useState)(new Map([["default",[]]])),[l,u]=(0,s.useState)("default"),c=(0,s.useMemo)(()=>i.get(l)??[],[l,i]),{isModelLoading:p,selectedModel:h}=(0,n.useAiloyAgentContext)();return(0,s.useEffect)(()=>{r([{id:"default",status:"regular",title:"New Chat"}]),o(new Map([["default",[]]]))},[h]),(0,a.jsx)(d.Provider,{value:{currentThreadId:l,setCurrentThreadId:u,threads:i,setThreads:o,currentThreadMessages:c,appendThreadMessage:(e,t)=>{o(r=>{let a=new Map(r),s=a.get(e)??[];return a.set(e,[...s,t]),a})},renameThread:(e,t)=>{r(r=>r.map(r=>r.id===e?{...r,title:t}:r))},threadListAdapter:{threadId:l,threads:t,isLoading:p,onSwitchToNewThread:()=>{let e=`thread-${Date.now()}`;r(t=>[...t,{id:e,status:"regular",title:"New Chat"}]),o(t=>new Map(t).set(e,[])),u(e)},onSwitchToThread:e=>{u(e)},onRename:(e,t)=>{r(r=>r.map(r=>r.id===e?{...r,title:t}:r))},onDelete:e=>{r(t=>t.filter(t=>t.id!==e)),o(t=>{let r=new Map(t);return r.delete(e),r}),l===e&&u("default")}}},children:e})}function l(){let e=(0,s.useContext)(d);if(!e)throw Error("useThreadContext must be used within ThreadProvider");return e}e.s(["ThreadProvider",()=>o,"useThreadContext",()=>l]),r()}catch(e){r(e)}},!1),8355,e=>e.a(async(t,r)=>{try{var a=e.i(20299),s=e.i(67530),n=e.i(79269),i=e.i(42571),o=e.i(64001),l=e.i(1673),d=e.i(75939),u=e.i(11639),c=e.i(41295),p=e.i(77536),h=e.i(69798),m=e.i(86444),f=t([u,h,m]);function g({children:e}){let[t,r]=(0,c.useState)(null),[f,g]=(0,c.useState)(!1),{agentInitialized:b,agentRunConfig:v,runAgent:x,systemPrompt:y}=(0,h.useAiloyAgentContext)(),{currentThreadId:w,currentThreadMessages:_,appendThreadMessage:j,renameThread:M,threadListAdapter:T}=(0,m.useThreadContext)();(0,c.useEffect)(()=>(h.agentStreamEventTarget.addEventListener("agent-stream-delta",k),h.agentStreamEventTarget.addEventListener("agent-stream-finished",C),()=>{h.agentStreamEventTarget.removeEventListener("agent-stream-delta",k),h.agentStreamEventTarget.removeEventListener("agent-stream-finished",C)}),[w]);let S=null,k=async e=>{let{delta:t,finish_reason:a}=e.detail;if(S=null===S?t:u.accumulateMessageDelta(S,t),r({...S}),void 0!==a){let e=u.finishMessageDelta(S);j(w,(0,p.convertMessage)(e)),r(null),S=null}},C=()=>{g(!1)},E=(0,c.useCallback)(async e=>{if(!b)throw Error("Agent is not initialized yet");let t=[];if(void 0!==e.attachments){for(let r of e.attachments)if("image"===r.type){let e=await r.file.arrayBuffer(),a=new Uint8Array(e),s=u.imageFromBytes(a);t.push(s)}}if(e.content[0]?.type!=="text")throw Error("Only text messages are supported");t.push({type:"text",text:e.content[0].text});let r={role:"user",contents:t};j(w,(0,p.convertMessage)(r)),0===_.length&&M(w,e.content[0].text.substring(0,30));let a=[...(0,p.restoreMessages)(_),r];""!==y&&(a=[{role:"system",contents:[{type:"text",text:y}]},...a]),x(a,v),g(!0)},[b,w,_,v,y,j,M,x]),I=(0,c.useMemo)(()=>{let e=_;if(null!==t){let r=(0,p.convertMessageDelta)(t);e=[...e,r]}return e},[_,t]),R=(0,d.useExternalStoreRuntime)({isDisabled:!b,isRunning:f,messages:(0,l.useExternalMessageConverter)({messages:I,callback:e=>e,isRunning:f}),onNew:E,adapters:{attachments:new n.CompositeAttachmentAdapter([new i.SimpleImageAttachmentAdapter,new o.SimpleTextAttachmentAdapter]),threadList:T}});return(0,a.jsx)(s.AssistantRuntimeProvider,{runtime:R,children:e})}[u,h,m]=f.then?(await f)():f,e.s(["AiloyRuntimeProvider",()=>g]),r()}catch(e){r(e)}},!1),65993,(e,t,r)=>{t.exports=e.r(47293)},99128,e=>{"use strict";var t=e.i(20299),r=e.i(41295),a=e.i(95980),s="horizontal",n=["horizontal","vertical"],i=r.forwardRef((e,r)=>{var i;let{decorative:o,orientation:l=s,...d}=e,u=(i=l,n.includes(i))?l:s;return(0,t.jsx)(a.Primitive.div,{"data-orientation":u,...o?{role:"none"}:{"aria-orientation":"vertical"===u?u:void 0,role:"separator"},...d,ref:r})});i.displayName="Separator";var o=e.i(7071);function l({className:e,orientation:r="horizontal",decorative:a=!0,...s}){return(0,t.jsx)(i,{"data-slot":"separator",decorative:a,orientation:r,className:(0,o.cn)("shrink-0 bg-border data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...s})}e.s(["Separator",()=>l],99128)},77494,e=>{"use strict";var t=e.i(20299),r=e.i(41295),a=e.i(94331),s=e.i(81471);let n=(0,e.i(71775).default)("panel-left",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);var i=e.i(7071),o=e.i(25111);e.i(76586);var l=e.i(99128),d=e.i(60239),u=e.i(11991);function c({...e}){return(0,t.jsx)(d.Root,{"data-slot":"sheet",...e})}function p({...e}){return(0,t.jsx)(d.Portal,{"data-slot":"sheet-portal",...e})}function h({className:e,...r}){return(0,t.jsx)(d.Overlay,{"data-slot":"sheet-overlay",className:(0,i.cn)("fixed inset-0 z-50 bg-black/50 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:animate-in data-[state=open]:fade-in-0",e),...r})}function m({className:e,children:r,side:a="right",...s}){return(0,t.jsxs)(p,{children:[(0,t.jsx)(h,{}),(0,t.jsxs)(d.Content,{"data-slot":"sheet-content",className:(0,i.cn)("fixed z-50 flex flex-col gap-4 bg-background shadow-lg transition ease-in-out data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:animate-in data-[state=open]:duration-500","right"===a&&"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm","left"===a&&"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm","top"===a&&"inset-x-0 top-0 h-auto border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top","bottom"===a&&"inset-x-0 bottom-0 h-auto border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",e),...s,children:[r,(0,t.jsxs)(d.Close,{className:"absolute top-4 right-4 rounded-xs opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:ring-2 focus:ring-ring focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,t.jsx)(u.XIcon,{className:"size-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function f({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"sheet-header",className:(0,i.cn)("flex flex-col gap-1.5 p-4",e),...r})}function g({className:e,...r}){return(0,t.jsx)(d.Title,{"data-slot":"sheet-title",className:(0,i.cn)("font-semibold text-foreground",e),...r})}function b({className:e,...r}){return(0,t.jsx)(d.Description,{"data-slot":"sheet-description",className:(0,i.cn)("text-sm text-muted-foreground",e),...r})}var v=e.i(65875);let x=r.createContext(null);function y(){let e=r.useContext(x);if(!e)throw Error("useSidebar must be used within a SidebarProvider.");return e}function w({defaultOpen:e=!0,open:a,onOpenChange:s,className:n,style:o,children:l,...d}){let u=function(){let[e,t]=r.useState(void 0);return r.useEffect(()=>{let e=window.matchMedia("(max-width: 767px)"),r=()=>{t(window.innerWidth<768)};return e.addEventListener("change",r),t(window.innerWidth<768),()=>e.removeEventListener("change",r)},[]),!!e}(),[c,p]=r.useState(!1),[h,m]=r.useState(e),f=a??h,g=r.useCallback(e=>{let t="function"==typeof e?e(f):e;s?s(t):m(t),document.cookie=`sidebar_state=${t}; path=/; max-age=604800`},[s,f]),b=r.useCallback(()=>u?p(e=>!e):g(e=>!e),[u,g,p]);r.useEffect(()=>{let e=e=>{"b"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),b())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[b]);let y=f?"expanded":"collapsed",w=r.useMemo(()=>({state:y,open:f,setOpen:g,isMobile:u,openMobile:c,setOpenMobile:p,toggleSidebar:b}),[y,f,g,u,c,p,b]);return(0,t.jsx)(x.Provider,{value:w,children:(0,t.jsx)(v.TooltipProvider,{delayDuration:0,children:(0,t.jsx)("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":"16rem","--sidebar-width-icon":"3rem",...o},className:(0,i.cn)("group/sidebar-wrapper flex min-h-svh w-full has-data-[variant=inset]:bg-sidebar",n),...d,children:l})})})}function _({side:e="left",variant:r="sidebar",collapsible:a="offcanvas",className:s,children:n,...o}){let{isMobile:l,state:d,openMobile:u,setOpenMobile:p}=y();return"none"===a?(0,t.jsx)("div",{"data-slot":"sidebar",className:(0,i.cn)("flex h-full w-(--sidebar-width) flex-col bg-sidebar text-sidebar-foreground",s),...o,children:n}):l?(0,t.jsx)(c,{open:u,onOpenChange:p,...o,children:(0,t.jsxs)(m,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"w-(--sidebar-width) bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":"18rem"},side:e,children:[(0,t.jsxs)(f,{className:"sr-only",children:[(0,t.jsx)(g,{children:"Sidebar"}),(0,t.jsx)(b,{children:"Displays the mobile sidebar."})]}),(0,t.jsx)("div",{className:"flex h-full w-full flex-col",children:n})]})}):(0,t.jsxs)("div",{className:"group peer hidden text-sidebar-foreground md:block","data-state":d,"data-collapsible":"collapsed"===d?a:"","data-variant":r,"data-side":e,"data-slot":"sidebar",children:[(0,t.jsx)("div",{"data-slot":"sidebar-gap",className:(0,i.cn)("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180","floating"===r||"inset"===r?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),(0,t.jsx)("div",{"data-slot":"sidebar-container",className:(0,i.cn)("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex","left"===e?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]","floating"===r||"inset"===r?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",s),...o,children:(0,t.jsx)("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow-sm",children:n})})]})}function j({className:e,onClick:r,...a}){let{toggleSidebar:s}=y();return(0,t.jsxs)(o.Button,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:(0,i.cn)("size-7",e),onClick:e=>{r?.(e),s()},...a,children:[(0,t.jsx)(n,{}),(0,t.jsx)("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function M({className:e,...r}){let{toggleSidebar:a}=y();return(0,t.jsx)("button",{"data-sidebar":"rail","data-slot":"sidebar-rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:a,title:"Toggle Sidebar",className:(0,i.cn)("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border sm:flex","in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full hover:group-data-[collapsible=offcanvas]:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...r})}function T({className:e,...r}){return(0,t.jsx)("main",{"data-slot":"sidebar-inset",className:(0,i.cn)("relative flex w-full flex-1 flex-col bg-background","md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2",e),...r})}function S({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:(0,i.cn)("flex flex-col gap-2 p-2",e),...r})}function k({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:(0,i.cn)("flex flex-col gap-2 p-2",e),...r})}function C({className:e,...r}){return(0,t.jsx)(l.Separator,{"data-slot":"sidebar-separator","data-sidebar":"separator",className:(0,i.cn)("mx-2 w-auto bg-sidebar-border",e),...r})}function E({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:(0,i.cn)("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...r})}function I({className:e,...r}){return(0,t.jsx)("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:(0,i.cn)("flex w-full min-w-0 flex-col gap-1",e),...r})}function R({className:e,...r}){return(0,t.jsx)("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:(0,i.cn)("group/menu-item relative",e),...r})}let A=(0,s.cva)("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function P({asChild:e=!1,isActive:r=!1,variant:s="default",size:n="default",tooltip:o,className:l,...d}){let u=e?a.Slot:"button",{isMobile:c,state:p}=y(),h=(0,t.jsx)(u,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":n,"data-active":r,className:(0,i.cn)(A({variant:s,size:n}),l),...d});return o?("string"==typeof o&&(o={children:o}),(0,t.jsxs)(v.Tooltip,{children:[(0,t.jsx)(v.TooltipTrigger,{asChild:!0,children:h}),(0,t.jsx)(v.TooltipContent,{side:"right",align:"center",hidden:"collapsed"!==p||c,...o})]})):h}e.s(["Sidebar",()=>_,"SidebarContent",()=>E,"SidebarFooter",()=>k,"SidebarHeader",()=>S,"SidebarInset",()=>T,"SidebarMenu",()=>I,"SidebarMenuButton",()=>P,"SidebarMenuItem",()=>R,"SidebarProvider",()=>w,"SidebarRail",()=>M,"SidebarSeparator",()=>C,"SidebarTrigger",()=>j,"useSidebar",()=>y],77494)},46827,e=>{"use strict";var t=e.i(20299),r=e.i(71775);let a=(0,r.default)("book-open-text",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M16 12h2",key:"7q9ll5"}],["path",{d:"M16 8h2",key:"msurwy"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}],["path",{d:"M6 12h2",key:"32wvfc"}],["path",{d:"M6 8h2",key:"30oboj"}]]);var s=e.i(99433),s=s;let n=(0,r.default)("bug",[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]]),i=(0,r.default)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),o=(0,r.default)("wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]]);var l=e.i(49397),d=e.i(94772),u=e.i(65993),c=e.i(95980),p=e.i(41295),h=e.i(32307),m=(0,p.forwardRef)((e,r)=>{let a=(0,h.useAssistantState)(({threads:e,threadListItem:t})=>e.mainThreadId===t.id);return(0,t.jsx)(c.Primitive.div,{...a?{"data-active":"true","aria-current":"true"}:null,...e,ref:r})});m.displayName="ThreadListItemPrimitive.Root";var f=e.i(64270),g=e.i(32704),b=(0,f.createActionButton)("ThreadListItemPrimitive.Archive",()=>{let e=(0,g.useAssistantApi)();return(0,p.useCallback)(()=>{e.threadListItem().archive()},[e])}),v=(0,f.createActionButton)("ThreadListItemPrimitive.Unarchive",()=>{let e=(0,g.useAssistantApi)();return(0,p.useCallback)(()=>{e.threadListItem().unarchive()},[e])}),x=(0,f.createActionButton)("ThreadListItemPrimitive.Delete",()=>{let e=(0,g.useAssistantApi)();return(0,p.useCallback)(()=>{e.threadListItem().delete()},[e])}),y=(0,f.createActionButton)("ThreadListItemPrimitive.Trigger",()=>{let e=(0,g.useAssistantApi)();return(0,p.useCallback)(()=>{e.threadListItem().switchTo()},[e])}),w=({fallback:e})=>{let r=(0,h.useAssistantState)(({threadListItem:e})=>e.title);return(0,t.jsx)(t.Fragment,{children:r||e})};w.displayName="ThreadListItemPrimitive.Title",e.s([],48084),e.i(48084),e.s(["Archive",()=>b,"Delete",()=>x,"Root",()=>m,"Title",()=>w,"Trigger",()=>y,"Unarchive",()=>v],14434);var _=e.i(14434),_=_,j=e.i(64150),M=(0,p.forwardRef)(({onClick:e,disabled:r,...a},s)=>{let n=(0,h.useAssistantState)(({threads:e})=>e.newThreadId===e.mainThreadId),i=(0,g.useAssistantApi)();return(0,t.jsx)(c.Primitive.button,{type:"button",...n?{"data-active":"true","aria-current":"true"}:null,...a,ref:s,disabled:r,onClick:(0,j.composeEventHandlers)(e,()=>{i.threads().switchToNewThread()})})});M.displayName="ThreadListPrimitive.New";var T=e.i(67586),S=e.i(21918),k=({index:e,archived:r,children:a})=>{let s=(0,g.useAssistantApi)(),n=(0,g.useExtendedAssistantApi)({threadListItem:(0,S.DerivedScope)({source:"threads",query:{type:"index",index:e,archived:r},get:()=>s.threads().item({index:e,archived:r})}),on(t,a){let{event:n,scope:i}=(0,T.normalizeEventSelector)(t);return(0,T.checkEventScope)("thread-list-item",i,n)?s.on({scope:"*",event:n},t=>{t.threadId===s.threads().item({index:e,archived:r}).getState().id&&a(t)}):s.on(t,a)}});return(0,t.jsx)(g.AssistantProvider,{api:n,children:a})},C=(0,p.memo)(({index:e,archived:r=!1,components:a})=>{let s=a.ThreadListItem;return(0,t.jsx)(k,{index:e,archived:r,children:(0,t.jsx)(s,{})})},(e,t)=>e.index===t.index&&e.archived===t.archived&&e.components.ThreadListItem===t.components.ThreadListItem);C.displayName="ThreadListPrimitive.ItemByIndex";var E=({archived:e=!1,components:r})=>{let a=(0,h.useAssistantState)(({threads:t})=>e?t.archivedThreadIds.length:t.threadIds.length);return(0,p.useMemo)(()=>Array.from({length:a},(a,s)=>(0,t.jsx)(C,{index:s,archived:e,components:r},s)),[a,e,r])};E.displayName="ThreadListPrimitive.Items";var I=(0,p.forwardRef)((e,r)=>(0,t.jsx)(c.Primitive.div,{...e,ref:r}));I.displayName="ThreadListPrimitive.Root",e.s([],88100),e.i(88100),e.s(["ItemByIndex",()=>C,"Items",()=>E,"New",()=>M,"Root",()=>I],52088);var R=e.i(52088),R=R,A=e.i(43831),P=e.i(51515),P=P,N=e.i(55429),O=e.i(25111);let D=()=>(0,t.jsxs)(R.Root,{className:"aui-root aui-thread-list-root flex flex-col items-stretch gap-1.5",children:[(0,t.jsx)(L,{}),(0,t.jsx)(z,{})]}),L=()=>(0,t.jsx)(R.New,{asChild:!0,children:(0,t.jsxs)(O.Button,{className:"aui-thread-list-new flex cursor-pointer items-center justify-start gap-1 rounded-lg px-2.5 py-2 text-start hover:bg-muted data-active:bg-muted",variant:"ghost",children:[(0,t.jsx)(A.PlusIcon,{}),"New Thread"]})}),z=()=>(0,t.jsx)(R.Items,{components:{ThreadListItem:G}}),G=()=>(0,t.jsxs)(_.Root,{className:"aui-thread-list-item flex items-center gap-2 rounded-lg transition-all hover:bg-muted focus-visible:bg-muted focus-visible:ring-2 focus-visible:ring-ring focus-visible:outline-none data-active:bg-muted",children:[(0,t.jsx)(_.Trigger,{className:"aui-thread-list-item-trigger min-w-0 flex-grow cursor-pointer px-3 py-2 text-start",children:(0,t.jsx)(F,{})}),(0,t.jsx)(H,{})]}),F=()=>(0,t.jsx)("span",{className:"aui-thread-list-item-title block max-w-full truncate text-sm",children:(0,t.jsx)(_.Title,{fallback:"New Chat"})}),H=()=>(0,t.jsx)(_.Delete,{asChild:!0,className:"cursor-pointer",children:(0,t.jsx)(N.TooltipIconButton,{className:"aui-thread-list-item-archive mr-3 ml-auto size-4 p-0 text-foreground hover:text-primary",variant:"ghost",tooltip:"Delete thread",children:(0,t.jsx)(P.default,{})})});var B=e.i(77494);function $({...e}){let r=(0,u.usePathname)(),c=(0,u.useRouter)(),{setOpenMobile:p}=(0,B.useSidebar)(),h=e=>{p(!1),c.push(e)};return(0,t.jsxs)(B.Sidebar,{...e,children:[(0,t.jsx)(B.SidebarHeader,{className:"aui-sidebar-header mb-2 border-b",children:(0,t.jsx)("div",{className:"aui-sidebar-header-content flex items-center justify-between",children:(0,t.jsx)(B.SidebarMenu,{children:(0,t.jsx)(B.SidebarMenuItem,{children:(0,t.jsx)(B.SidebarMenuButton,{size:"lg",asChild:!0,children:(0,t.jsxs)(d.default,{href:"/",children:[(0,t.jsx)(l.default,{src:"https://brekkylab.github.io/ailoy/img/logo.png",width:32,height:32,alt:"logo"}),(0,t.jsx)("div",{className:"aui-sidebar-header-heading mr-6 flex flex-col gap-0.5 leading-none",children:(0,t.jsx)("span",{className:"aui-sidebar-header-title font-semibold",children:"Ailoy Web UI"})})]})})})})})}),(0,t.jsxs)(B.SidebarContent,{className:"aui-sidebar-content px-2",children:[(0,t.jsx)(B.SidebarMenuItem,{children:(0,t.jsxs)(B.SidebarMenuButton,{className:"cursor-pointer",onClick:()=>h("/"),children:[(0,t.jsx)(i,{}),(0,t.jsx)("span",{className:"font-bold",children:"Chat"})]})}),(0,t.jsx)(B.SidebarMenuItem,{children:(0,t.jsxs)(B.SidebarMenuButton,{className:"cursor-pointer",onClick:()=>h("/models"),children:[(0,t.jsx)(s.default,{}),(0,t.jsx)("span",{className:"font-bold",children:"Models"})]})}),(0,t.jsx)(B.SidebarMenuItem,{children:(0,t.jsxs)(B.SidebarMenuButton,{className:"cursor-pointer",onClick:()=>h("/tools"),children:[(0,t.jsx)(o,{}),(0,t.jsx)("span",{className:"font-bold",children:"Tools"})]})}),(0,t.jsx)(B.SidebarSeparator,{className:"mx-0"}),"/"===r&&(0,t.jsx)(D,{})]}),(0,t.jsx)(B.SidebarRail,{}),(0,t.jsx)(B.SidebarFooter,{className:"aui-sidebar-footer border-t",children:(0,t.jsxs)(B.SidebarMenu,{children:[(0,t.jsx)(B.SidebarMenuItem,{children:(0,t.jsx)(B.SidebarMenuButton,{size:"lg",asChild:!0,children:(0,t.jsxs)(d.default,{href:"https://github.com/brekkylab/ailoy/issues",target:"_blank",children:[(0,t.jsx)("div",{className:"aui-sidebar-footer-icon-wrapper flex aspect-square size-8 items-center justify-center rounded-lg border border-sidebar-border text-sidebar-foreground",children:(0,t.jsx)(n,{className:"aui-sidebar-footer-icon size-4"})}),(0,t.jsxs)("div",{className:"aui-sidebar-footer-heading flex flex-col gap-0.5 leading-none text-muted-foreground",children:[(0,t.jsx)("p",{children:"Have any troubles?"}),(0,t.jsxs)("span",{children:["Leave an"," ",(0,t.jsx)("span",{className:"text-accent-foreground font-bold",children:"issue"})," ","here"]})]})]})})}),(0,t.jsx)(B.SidebarMenuItem,{children:(0,t.jsx)(B.SidebarMenuButton,{size:"lg",asChild:!0,children:(0,t.jsxs)(d.default,{href:"https://brekkylab.github.io/ailoy",target:"_blank",children:[(0,t.jsx)("div",{className:"aui-sidebar-footer-icon-wrapper flex aspect-square size-8 items-center justify-center rounded-lg border border-sidebar-border text-sidebar-foreground",children:(0,t.jsx)(a,{className:"aui-sidebar-footer-icon size-4"})}),(0,t.jsxs)("div",{className:"aui-sidebar-footer-heading flex flex-col gap-0.5 leading-none text-muted-foreground",children:[(0,t.jsxs)("p",{children:["Powered by"," ",(0,t.jsx)("span",{className:"aui-sidebar-footer-title font-extrabold text-accent-foreground",children:"Ailoy"})]}),(0,t.jsx)("span",{children:"View Documentation"})]})]})})})]})})]})}e.s(["ThreadListSidebar",()=>$],46827)},21337,e=>{"use strict";var t=e.i(41295),r=(e,t,r,a,s,n,i,o)=>{let l=document.documentElement,d=["light","dark"];function u(t){var r;(Array.isArray(e)?e:[e]).forEach(e=>{let r="class"===e,a=r&&n?s.map(e=>n[e]||e):s;r?(l.classList.remove(...a),l.classList.add(n&&n[t]?n[t]:t)):l.setAttribute(e,t)}),r=t,o&&d.includes(r)&&(l.style.colorScheme=r)}if(a)u(a);else try{let e=localStorage.getItem(t)||r,a=i&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;u(a)}catch(e){}},a=["light","dark"],s="(prefers-color-scheme: dark)",n="undefined"==typeof window,i=t.createContext(void 0),o={setTheme:e=>{},themes:[]},l=()=>{var e;return null!=(e=t.useContext(i))?e:o},d=e=>t.useContext(i)?t.createElement(t.Fragment,null,e.children):t.createElement(c,{...e}),u=["light","dark"],c=({forcedTheme:e,disableTransitionOnChange:r=!1,enableSystem:n=!0,enableColorScheme:o=!0,storageKey:l="theme",themes:d=u,defaultTheme:c=n?"system":"light",attribute:g="data-theme",value:b,children:v,nonce:x,scriptProps:y})=>{let[w,_]=t.useState(()=>h(l,c)),[j,M]=t.useState(()=>"system"===w?f():w),T=b?Object.values(b):d,S=t.useCallback(e=>{let t=e;if(!t)return;"system"===e&&n&&(t=f());let s=b?b[t]:t,i=r?m(x):null,l=document.documentElement,d=e=>{"class"===e?(l.classList.remove(...T),s&&l.classList.add(s)):e.startsWith("data-")&&(s?l.setAttribute(e,s):l.removeAttribute(e))};if(Array.isArray(g)?g.forEach(d):d(g),o){let e=a.includes(c)?c:null,r=a.includes(t)?t:e;l.style.colorScheme=r}null==i||i()},[x]),k=t.useCallback(e=>{let t="function"==typeof e?e(w):e;_(t);try{localStorage.setItem(l,t)}catch(e){}},[w]),C=t.useCallback(t=>{M(f(t)),"system"===w&&n&&!e&&S("system")},[w,e]);t.useEffect(()=>{let e=window.matchMedia(s);return e.addListener(C),C(e),()=>e.removeListener(C)},[C]),t.useEffect(()=>{let e=e=>{e.key===l&&(e.newValue?_(e.newValue):k(c))};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[k]),t.useEffect(()=>{S(null!=e?e:w)},[e,w]);let E=t.useMemo(()=>({theme:w,setTheme:k,forcedTheme:e,resolvedTheme:"system"===w?j:w,themes:n?[...d,"system"]:d,systemTheme:n?j:void 0}),[w,k,e,j,n,d]);return t.createElement(i.Provider,{value:E},t.createElement(p,{forcedTheme:e,storageKey:l,attribute:g,enableSystem:n,enableColorScheme:o,defaultTheme:c,value:b,themes:d,nonce:x,scriptProps:y}),v)},p=t.memo(({forcedTheme:e,storageKey:a,attribute:s,enableSystem:n,enableColorScheme:i,defaultTheme:o,value:l,themes:d,nonce:u,scriptProps:c})=>{let p=JSON.stringify([s,a,o,e,d,l,n,i]).slice(1,-1);return t.createElement("script",{...c,suppressHydrationWarning:!0,nonce:"undefined"==typeof window?u:"",dangerouslySetInnerHTML:{__html:`(${r.toString()})(${p})`}})}),h=(e,t)=>{let r;if(!n){try{r=localStorage.getItem(e)||void 0}catch(e){}return r||t}},m=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},f=e=>(e||(e=window.matchMedia(s)),e.matches?"dark":"light");e.s(["ThemeProvider",()=>d,"useTheme",()=>l])},81215,e=>{"use strict";var t=e.i(20299),r=e.i(21337);function a({children:e,...a}){return(0,t.jsx)(r.ThemeProvider,{...a,children:e})}e.s(["ThemeProvider",()=>a])},19031,e=>{"use strict";let t=(0,e.i(71775).default)("moon",[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]]);e.s(["Moon",()=>t],19031)},70909,e=>{"use strict";let t=(0,e.i(71775).default)("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);e.s(["Sun",()=>t],70909)},16637,e=>{"use strict";var t=e.i(20299);e.s(["Icons",0,{github:e=>(0,t.jsxs)("svg",{viewBox:"0 0 438.549 438.549",...e,children:[(0,t.jsx)("title",{children:"Github"}),(0,t.jsx)("path",{fill:"currentColor",d:"M409.132 114.573c-19.608-33.596-46.205-60.194-79.798-79.8-33.598-19.607-70.277-29.408-110.063-29.408-39.781 0-76.472 9.804-110.063 29.408-33.596 19.605-60.192 46.204-79.8 79.8C9.803 148.168 0 184.854 0 224.63c0 47.78 13.94 90.745 41.827 128.906 27.884 38.164 63.906 64.572 108.063 79.227 5.14.954 8.945.283 11.419-1.996 2.475-2.282 3.711-5.14 3.711-8.562 0-.571-.049-5.708-.144-15.417a2549.81 2549.81 0 01-.144-25.406l-6.567 1.136c-4.187.767-9.469 1.092-15.846 1-6.374-.089-12.991-.757-19.842-1.999-6.854-1.231-13.229-4.086-19.13-8.559-5.898-4.473-10.085-10.328-12.56-17.556l-2.855-6.57c-1.903-4.374-4.899-9.233-8.992-14.559-4.093-5.331-8.232-8.945-12.419-10.848l-1.999-1.431c-1.332-.951-2.568-2.098-3.711-3.429-1.142-1.331-1.997-2.663-2.568-3.997-.572-1.335-.098-2.43 1.427-3.289 1.525-.859 4.281-1.276 8.28-1.276l5.708.853c3.807.763 8.516 3.042 14.133 6.851 5.614 3.806 10.229 8.754 13.846 14.842 4.38 7.806 9.657 13.754 15.846 17.847 6.184 4.093 12.419 6.136 18.699 6.136 6.28 0 11.704-.476 16.274-1.423 4.565-.952 8.848-2.383 12.847-4.285 1.713-12.758 6.377-22.559 13.988-29.41-10.848-1.14-20.601-2.857-29.264-5.14-8.658-2.286-17.605-5.996-26.835-11.14-9.235-5.137-16.896-11.516-22.985-19.126-6.09-7.614-11.088-17.61-14.987-29.979-3.901-12.374-5.852-26.648-5.852-42.826 0-23.035 7.52-42.637 22.557-58.817-7.044-17.318-6.379-36.732 1.997-58.24 5.52-1.715 13.706-.428 24.554 3.853 10.85 4.283 18.794 7.952 23.84 10.994 5.046 3.041 9.089 5.618 12.135 7.708 17.705-4.947 35.976-7.421 54.818-7.421s37.117 2.474 54.823 7.421l10.849-6.849c7.419-4.57 16.18-8.758 26.262-12.565 10.088-3.805 17.802-4.853 23.134-3.138 8.562 21.509 9.325 40.922 2.279 58.24 15.036 16.18 22.559 35.787 22.559 58.817 0 16.178-1.958 30.497-5.853 42.966-3.9 12.471-8.941 22.457-15.125 29.979-6.191 7.521-13.901 13.85-23.131 18.986-9.232 5.14-18.182 8.85-26.84 11.136-8.662 2.286-18.415 4.004-29.263 5.146 9.894 8.562 14.842 22.077 14.842 40.539v60.237c0 3.422 1.19 6.279 3.572 8.562 2.379 2.279 6.136 2.95 11.276 1.995 44.163-14.653 80.185-41.062 108.068-79.226 27.88-38.161 41.825-81.126 41.825-128.906-.01-39.771-9.818-76.454-29.414-110.049z"})]})}])},60147,e=>{"use strict";var t=e.i(20299),r=e.i(41295),a=e.i(64150),s=e.i(47588),n=e.i(61535),i=e.i(34340),o=e.i(47039),l=e.i(74316),d=e.i(83332),u=e.i(48701),c=e.i(80382),p=e.i(24276),h=e.i(75288),m=e.i(32312),f=e.i(30748),g=e.i(41296),b=e.i(21436),v=e.i(42357),x=e.i(71861),y=e.i(66032),w=e.i(91286),_=["Enter"," "],j=["ArrowUp","PageDown","End"],M=["ArrowDown","PageUp","Home",...j],T={ltr:[..._,"ArrowRight"],rtl:[..._,"ArrowLeft"]},S={ltr:["ArrowLeft"],rtl:["ArrowRight"]},k="Menu",[C,E,I]=(0,l.createCollection)(k),[R,A]=(0,n.createContextScope)(k,[I,m.createPopperScope,b.createRovingFocusGroupScope]),P=(0,m.createPopperScope)(),N=(0,b.createRovingFocusGroupScope)(),[O,D]=R(k),[L,z]=R(k),G=e=>{let{__scopeMenu:a,open:s=!1,children:n,dir:i,onOpenChange:o,modal:l=!0}=e,u=P(a),[c,p]=r.useState(null),h=r.useRef(!1),f=(0,x.useCallbackRef)(o),g=(0,d.useDirection)(i);return r.useEffect(()=>{let e=()=>{h.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=()=>h.current=!1;return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}},[]),(0,t.jsx)(m.Root,{...u,children:(0,t.jsx)(O,{scope:a,open:s,onOpenChange:f,content:c,onContentChange:p,children:(0,t.jsx)(L,{scope:a,onClose:r.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:g,modal:l,children:n})})})};G.displayName=k;var F=r.forwardRef((e,r)=>{let{__scopeMenu:a,...s}=e,n=P(a);return(0,t.jsx)(m.Anchor,{...n,...s,ref:r})});F.displayName="MenuAnchor";var H="MenuPortal",[B,$]=R(H,{forceMount:void 0}),U=e=>{let{__scopeMenu:r,forceMount:a,children:s,container:n}=e,i=D(H,r);return(0,t.jsx)(B,{scope:r,forceMount:a,children:(0,t.jsx)(g.Presence,{present:a||i.open,children:(0,t.jsx)(f.Portal,{asChild:!0,container:n,children:s})})})};U.displayName=H;var K="MenuContent",[V,q]=R(K),W=r.forwardRef((e,r)=>{let a=$(K,e.__scopeMenu),{forceMount:s=a.forceMount,...n}=e,i=D(K,e.__scopeMenu),o=z(K,e.__scopeMenu);return(0,t.jsx)(C.Provider,{scope:e.__scopeMenu,children:(0,t.jsx)(g.Presence,{present:s||i.open,children:(0,t.jsx)(C.Slot,{scope:e.__scopeMenu,children:o.modal?(0,t.jsx)(Y,{...n,ref:r}):(0,t.jsx)(J,{...n,ref:r})})})})}),Y=r.forwardRef((e,n)=>{let i=D(K,e.__scopeMenu),o=r.useRef(null),l=(0,s.useComposedRefs)(n,o);return r.useEffect(()=>{let e=o.current;if(e)return(0,y.hideOthers)(e)},[]),(0,t.jsx)(Z,{...e,ref:l,trapFocus:i.open,disableOutsidePointerEvents:i.open,disableOutsideScroll:!0,onFocusOutside:(0,a.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>i.onOpenChange(!1)})}),J=r.forwardRef((e,r)=>{let a=D(K,e.__scopeMenu);return(0,t.jsx)(Z,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>a.onOpenChange(!1)})}),X=(0,v.createSlot)("MenuContent.ScrollLock"),Z=r.forwardRef((e,n)=>{let{__scopeMenu:i,loop:o=!1,trapFocus:l,onOpenAutoFocus:d,onCloseAutoFocus:h,disableOutsidePointerEvents:f,onEntryFocus:g,onEscapeKeyDown:v,onPointerDownOutside:x,onFocusOutside:y,onInteractOutside:_,onDismiss:T,disableOutsideScroll:S,...k}=e,C=D(K,i),I=z(K,i),R=P(i),A=N(i),O=E(i),[L,G]=r.useState(null),F=r.useRef(null),H=(0,s.useComposedRefs)(n,F,C.onContentChange),B=r.useRef(0),$=r.useRef(""),U=r.useRef(0),q=r.useRef(null),W=r.useRef("right"),Y=r.useRef(0),J=S?w.RemoveScroll:r.Fragment;r.useEffect(()=>()=>window.clearTimeout(B.current),[]),(0,c.useFocusGuards)();let Z=r.useCallback(e=>{var t,r;return W.current===q.current?.side&&(t=e,!!(r=q.current?.area)&&function(e,t){let{x:r,y:a}=e,s=!1;for(let e=0,n=t.length-1;e<t.length;n=e++){let i=t[e],o=t[n],l=i.x,d=i.y,u=o.x,c=o.y;d>a!=c>a&&r<(u-l)*(a-d)/(c-d)+l&&(s=!s)}return s}({x:t.clientX,y:t.clientY},r))},[]);return(0,t.jsx)(V,{scope:i,searchRef:$,onItemEnter:r.useCallback(e=>{Z(e)&&e.preventDefault()},[Z]),onItemLeave:r.useCallback(e=>{Z(e)||(F.current?.focus(),G(null))},[Z]),onTriggerLeave:r.useCallback(e=>{Z(e)&&e.preventDefault()},[Z]),pointerGraceTimerRef:U,onPointerGraceIntentChange:r.useCallback(e=>{q.current=e},[]),children:(0,t.jsx)(J,{...S?{as:X,allowPinchZoom:!0}:void 0,children:(0,t.jsx)(p.FocusScope,{asChild:!0,trapped:l,onMountAutoFocus:(0,a.composeEventHandlers)(d,e=>{e.preventDefault(),F.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:h,children:(0,t.jsx)(u.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:f,onEscapeKeyDown:v,onPointerDownOutside:x,onFocusOutside:y,onInteractOutside:_,onDismiss:T,children:(0,t.jsx)(b.Root,{asChild:!0,...A,dir:I.dir,orientation:"vertical",loop:o,currentTabStopId:L,onCurrentTabStopIdChange:G,onEntryFocus:(0,a.composeEventHandlers)(g,e=>{I.isUsingKeyboardRef.current||e.preventDefault()}),preventScrollOnEntryFocus:!0,children:(0,t.jsx)(m.Content,{role:"menu","aria-orientation":"vertical","data-state":eM(C.open),"data-radix-menu-content":"",dir:I.dir,...R,...k,ref:H,style:{outline:"none",...k.style},onKeyDown:(0,a.composeEventHandlers)(k.onKeyDown,e=>{let t=e.target.closest("[data-radix-menu-content]")===e.currentTarget,r=e.ctrlKey||e.altKey||e.metaKey,a=1===e.key.length;if(t){var s;let t,n,i,o,l,d;"Tab"===e.key&&e.preventDefault(),!r&&a&&(s=e.key,t=$.current+s,n=O().filter(e=>!e.disabled),i=document.activeElement,o=n.find(e=>e.ref.current===i)?.textValue,l=function(e,t,r){var a;let s=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,n=r?e.indexOf(r):-1,i=(a=Math.max(n,0),e.map((t,r)=>e[(a+r)%e.length]));1===s.length&&(i=i.filter(e=>e!==r));let o=i.find(e=>e.toLowerCase().startsWith(s.toLowerCase()));return o!==r?o:void 0}(n.map(e=>e.textValue),t,o),d=n.find(e=>e.textValue===l)?.ref.current,function e(t){$.current=t,window.clearTimeout(B.current),""!==t&&(B.current=window.setTimeout(()=>e(""),1e3))}(t),d&&setTimeout(()=>d.focus()))}let n=F.current;if(e.target!==n||!M.includes(e.key))return;e.preventDefault();let i=O().filter(e=>!e.disabled).map(e=>e.ref.current);j.includes(e.key)&&i.reverse(),function(e){let t=document.activeElement;for(let r of e)if(r===t||(r.focus(),document.activeElement!==t))return}(i)}),onBlur:(0,a.composeEventHandlers)(e.onBlur,e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(B.current),$.current="")}),onPointerMove:(0,a.composeEventHandlers)(e.onPointerMove,ek(e=>{let t=e.target,r=Y.current!==e.clientX;e.currentTarget.contains(t)&&r&&(W.current=e.clientX>Y.current?"right":"left",Y.current=e.clientX)}))})})})})})})});W.displayName=K;var Q=r.forwardRef((e,r)=>{let{__scopeMenu:a,...s}=e;return(0,t.jsx)(o.Primitive.div,{role:"group",...s,ref:r})});Q.displayName="MenuGroup";var ee=r.forwardRef((e,r)=>{let{__scopeMenu:a,...s}=e;return(0,t.jsx)(o.Primitive.div,{...s,ref:r})});ee.displayName="MenuLabel";var et="MenuItem",er="menu.itemSelect",ea=r.forwardRef((e,n)=>{let{disabled:i=!1,onSelect:l,...d}=e,u=r.useRef(null),c=z(et,e.__scopeMenu),p=q(et,e.__scopeMenu),h=(0,s.useComposedRefs)(n,u),m=r.useRef(!1);return(0,t.jsx)(es,{...d,ref:h,disabled:i,onClick:(0,a.composeEventHandlers)(e.onClick,()=>{let e=u.current;if(!i&&e){let t=new CustomEvent(er,{bubbles:!0,cancelable:!0});e.addEventListener(er,e=>l?.(e),{once:!0}),(0,o.dispatchDiscreteCustomEvent)(e,t),t.defaultPrevented?m.current=!1:c.onClose()}}),onPointerDown:t=>{e.onPointerDown?.(t),m.current=!0},onPointerUp:(0,a.composeEventHandlers)(e.onPointerUp,e=>{m.current||e.currentTarget?.click()}),onKeyDown:(0,a.composeEventHandlers)(e.onKeyDown,e=>{let t=""!==p.searchRef.current;i||t&&" "===e.key||_.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())})})});ea.displayName=et;var es=r.forwardRef((e,n)=>{let{__scopeMenu:i,disabled:l=!1,textValue:d,...u}=e,c=q(et,i),p=N(i),h=r.useRef(null),m=(0,s.useComposedRefs)(n,h),[f,g]=r.useState(!1),[v,x]=r.useState("");return r.useEffect(()=>{let e=h.current;e&&x((e.textContent??"").trim())},[u.children]),(0,t.jsx)(C.ItemSlot,{scope:i,disabled:l,textValue:d??v,children:(0,t.jsx)(b.Item,{asChild:!0,...p,focusable:!l,children:(0,t.jsx)(o.Primitive.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":l||void 0,"data-disabled":l?"":void 0,...u,ref:m,onPointerMove:(0,a.composeEventHandlers)(e.onPointerMove,ek(e=>{l?c.onItemLeave(e):(c.onItemEnter(e),e.defaultPrevented||e.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:(0,a.composeEventHandlers)(e.onPointerLeave,ek(e=>c.onItemLeave(e))),onFocus:(0,a.composeEventHandlers)(e.onFocus,()=>g(!0)),onBlur:(0,a.composeEventHandlers)(e.onBlur,()=>g(!1))})})})}),en=r.forwardRef((e,r)=>{let{checked:s=!1,onCheckedChange:n,...i}=e;return(0,t.jsx)(eh,{scope:e.__scopeMenu,checked:s,children:(0,t.jsx)(ea,{role:"menuitemcheckbox","aria-checked":eT(s)?"mixed":s,...i,ref:r,"data-state":eS(s),onSelect:(0,a.composeEventHandlers)(i.onSelect,()=>n?.(!!eT(s)||!s),{checkForDefaultPrevented:!1})})})});en.displayName="MenuCheckboxItem";var ei="MenuRadioGroup",[eo,el]=R(ei,{value:void 0,onValueChange:()=>{}}),ed=r.forwardRef((e,r)=>{let{value:a,onValueChange:s,...n}=e,i=(0,x.useCallbackRef)(s);return(0,t.jsx)(eo,{scope:e.__scopeMenu,value:a,onValueChange:i,children:(0,t.jsx)(Q,{...n,ref:r})})});ed.displayName=ei;var eu="MenuRadioItem",ec=r.forwardRef((e,r)=>{let{value:s,...n}=e,i=el(eu,e.__scopeMenu),o=s===i.value;return(0,t.jsx)(eh,{scope:e.__scopeMenu,checked:o,children:(0,t.jsx)(ea,{role:"menuitemradio","aria-checked":o,...n,ref:r,"data-state":eS(o),onSelect:(0,a.composeEventHandlers)(n.onSelect,()=>i.onValueChange?.(s),{checkForDefaultPrevented:!1})})})});ec.displayName=eu;var ep="MenuItemIndicator",[eh,em]=R(ep,{checked:!1}),ef=r.forwardRef((e,r)=>{let{__scopeMenu:a,forceMount:s,...n}=e,i=em(ep,a);return(0,t.jsx)(g.Presence,{present:s||eT(i.checked)||!0===i.checked,children:(0,t.jsx)(o.Primitive.span,{...n,ref:r,"data-state":eS(i.checked)})})});ef.displayName=ep;var eg=r.forwardRef((e,r)=>{let{__scopeMenu:a,...s}=e;return(0,t.jsx)(o.Primitive.div,{role:"separator","aria-orientation":"horizontal",...s,ref:r})});eg.displayName="MenuSeparator";var eb=r.forwardRef((e,r)=>{let{__scopeMenu:a,...s}=e,n=P(a);return(0,t.jsx)(m.Arrow,{...n,...s,ref:r})});eb.displayName="MenuArrow";var[ev,ex]=R("MenuSub"),ey="MenuSubTrigger",ew=r.forwardRef((e,n)=>{let i=D(ey,e.__scopeMenu),o=z(ey,e.__scopeMenu),l=ex(ey,e.__scopeMenu),d=q(ey,e.__scopeMenu),u=r.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:p}=d,h={__scopeMenu:e.__scopeMenu},m=r.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return r.useEffect(()=>m,[m]),r.useEffect(()=>{let e=c.current;return()=>{window.clearTimeout(e),p(null)}},[c,p]),(0,t.jsx)(F,{asChild:!0,...h,children:(0,t.jsx)(es,{id:l.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":l.contentId,"data-state":eM(i.open),...e,ref:(0,s.composeRefs)(n,l.onTriggerChange),onClick:t=>{e.onClick?.(t),e.disabled||t.defaultPrevented||(t.currentTarget.focus(),i.open||i.onOpenChange(!0))},onPointerMove:(0,a.composeEventHandlers)(e.onPointerMove,ek(t=>{d.onItemEnter(t),!t.defaultPrevented&&(e.disabled||i.open||u.current||(d.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{i.onOpenChange(!0),m()},100)))})),onPointerLeave:(0,a.composeEventHandlers)(e.onPointerLeave,ek(e=>{m();let t=i.content?.getBoundingClientRect();if(t){let r=i.content?.dataset.side,a="right"===r,s=t[a?"left":"right"],n=t[a?"right":"left"];d.onPointerGraceIntentChange({area:[{x:e.clientX+(a?-5:5),y:e.clientY},{x:s,y:t.top},{x:n,y:t.top},{x:n,y:t.bottom},{x:s,y:t.bottom}],side:r}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>d.onPointerGraceIntentChange(null),300)}else{if(d.onTriggerLeave(e),e.defaultPrevented)return;d.onPointerGraceIntentChange(null)}})),onKeyDown:(0,a.composeEventHandlers)(e.onKeyDown,t=>{let r=""!==d.searchRef.current;e.disabled||r&&" "===t.key||T[o.dir].includes(t.key)&&(i.onOpenChange(!0),i.content?.focus(),t.preventDefault())})})})});ew.displayName=ey;var e_="MenuSubContent",ej=r.forwardRef((e,n)=>{let i=$(K,e.__scopeMenu),{forceMount:o=i.forceMount,...l}=e,d=D(K,e.__scopeMenu),u=z(K,e.__scopeMenu),c=ex(e_,e.__scopeMenu),p=r.useRef(null),h=(0,s.useComposedRefs)(n,p);return(0,t.jsx)(C.Provider,{scope:e.__scopeMenu,children:(0,t.jsx)(g.Presence,{present:o||d.open,children:(0,t.jsx)(C.Slot,{scope:e.__scopeMenu,children:(0,t.jsx)(Z,{id:c.contentId,"aria-labelledby":c.triggerId,...l,ref:h,align:"start",side:"rtl"===u.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:e=>{u.isUsingKeyboardRef.current&&p.current?.focus(),e.preventDefault()},onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:(0,a.composeEventHandlers)(e.onFocusOutside,e=>{e.target!==c.trigger&&d.onOpenChange(!1)}),onEscapeKeyDown:(0,a.composeEventHandlers)(e.onEscapeKeyDown,e=>{u.onClose(),e.preventDefault()}),onKeyDown:(0,a.composeEventHandlers)(e.onKeyDown,e=>{let t=e.currentTarget.contains(e.target),r=S[u.dir].includes(e.key);t&&r&&(d.onOpenChange(!1),c.trigger?.focus(),e.preventDefault())})})})})})});function eM(e){return e?"open":"closed"}function eT(e){return"indeterminate"===e}function eS(e){return eT(e)?"indeterminate":e?"checked":"unchecked"}function ek(e){return t=>"mouse"===t.pointerType?e(t):void 0}ej.displayName=e_;var eC="DropdownMenu",[eE,eI]=(0,n.createContextScope)(eC,[A]),eR=A(),[eA,eP]=eE(eC),eN=e=>{let{__scopeDropdownMenu:a,children:s,dir:n,open:o,defaultOpen:l,onOpenChange:d,modal:u=!0}=e,c=eR(a),p=r.useRef(null),[m,f]=(0,i.useControllableState)({prop:o,defaultProp:l??!1,onChange:d,caller:eC});return(0,t.jsx)(eA,{scope:a,triggerId:(0,h.useId)(),triggerRef:p,contentId:(0,h.useId)(),open:m,onOpenChange:f,onOpenToggle:r.useCallback(()=>f(e=>!e),[f]),modal:u,children:(0,t.jsx)(G,{...c,open:m,onOpenChange:f,dir:n,modal:u,children:s})})};eN.displayName=eC;var eO="DropdownMenuTrigger",eD=r.forwardRef((e,r)=>{let{__scopeDropdownMenu:n,disabled:i=!1,...l}=e,d=eP(eO,n),u=eR(n);return(0,t.jsx)(F,{asChild:!0,...u,children:(0,t.jsx)(o.Primitive.button,{type:"button",id:d.triggerId,"aria-haspopup":"menu","aria-expanded":d.open,"aria-controls":d.open?d.contentId:void 0,"data-state":d.open?"open":"closed","data-disabled":i?"":void 0,disabled:i,...l,ref:(0,s.composeRefs)(r,d.triggerRef),onPointerDown:(0,a.composeEventHandlers)(e.onPointerDown,e=>{!i&&0===e.button&&!1===e.ctrlKey&&(d.onOpenToggle(),d.open||e.preventDefault())}),onKeyDown:(0,a.composeEventHandlers)(e.onKeyDown,e=>{!i&&(["Enter"," "].includes(e.key)&&d.onOpenToggle(),"ArrowDown"===e.key&&d.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(e.key)&&e.preventDefault())})})})});eD.displayName=eO;var eL=e=>{let{__scopeDropdownMenu:r,...a}=e,s=eR(r);return(0,t.jsx)(U,{...s,...a})};eL.displayName="DropdownMenuPortal";var ez="DropdownMenuContent",eG=r.forwardRef((e,s)=>{let{__scopeDropdownMenu:n,...i}=e,o=eP(ez,n),l=eR(n),d=r.useRef(!1);return(0,t.jsx)(W,{id:o.contentId,"aria-labelledby":o.triggerId,...l,...i,ref:s,onCloseAutoFocus:(0,a.composeEventHandlers)(e.onCloseAutoFocus,e=>{d.current||o.triggerRef.current?.focus(),d.current=!1,e.preventDefault()}),onInteractOutside:(0,a.composeEventHandlers)(e.onInteractOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey,a=2===t.button||r;(!o.modal||a)&&(d.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});eG.displayName=ez;var eF=r.forwardRef((e,r)=>{let{__scopeDropdownMenu:a,...s}=e,n=eR(a);return(0,t.jsx)(Q,{...n,...s,ref:r})});eF.displayName="DropdownMenuGroup",r.forwardRef((e,r)=>{let{__scopeDropdownMenu:a,...s}=e,n=eR(a);return(0,t.jsx)(ee,{...n,...s,ref:r})}).displayName="DropdownMenuLabel";var eH=r.forwardRef((e,r)=>{let{__scopeDropdownMenu:a,...s}=e,n=eR(a);return(0,t.jsx)(ea,{...n,...s,ref:r})});eH.displayName="DropdownMenuItem",r.forwardRef((e,r)=>{let{__scopeDropdownMenu:a,...s}=e,n=eR(a);return(0,t.jsx)(en,{...n,...s,ref:r})}).displayName="DropdownMenuCheckboxItem",r.forwardRef((e,r)=>{let{__scopeDropdownMenu:a,...s}=e,n=eR(a);return(0,t.jsx)(ed,{...n,...s,ref:r})}).displayName="DropdownMenuRadioGroup",r.forwardRef((e,r)=>{let{__scopeDropdownMenu:a,...s}=e,n=eR(a);return(0,t.jsx)(ec,{...n,...s,ref:r})}).displayName="DropdownMenuRadioItem",r.forwardRef((e,r)=>{let{__scopeDropdownMenu:a,...s}=e,n=eR(a);return(0,t.jsx)(ef,{...n,...s,ref:r})}).displayName="DropdownMenuItemIndicator",r.forwardRef((e,r)=>{let{__scopeDropdownMenu:a,...s}=e,n=eR(a);return(0,t.jsx)(eg,{...n,...s,ref:r})}).displayName="DropdownMenuSeparator",r.forwardRef((e,r)=>{let{__scopeDropdownMenu:a,...s}=e,n=eR(a);return(0,t.jsx)(eb,{...n,...s,ref:r})}).displayName="DropdownMenuArrow",r.forwardRef((e,r)=>{let{__scopeDropdownMenu:a,...s}=e,n=eR(a);return(0,t.jsx)(ew,{...n,...s,ref:r})}).displayName="DropdownMenuSubTrigger",r.forwardRef((e,r)=>{let{__scopeDropdownMenu:a,...s}=e,n=eR(a);return(0,t.jsx)(ej,{...n,...s,ref:r,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})}).displayName="DropdownMenuSubContent",e.i(92654),e.i(42424),e.i(50426);var eB=e.i(7071);function e$({...e}){return(0,t.jsx)(eN,{"data-slot":"dropdown-menu",...e})}function eU({...e}){return(0,t.jsx)(eD,{"data-slot":"dropdown-menu-trigger",...e})}function eK({className:e,sideOffset:r=4,...a}){return(0,t.jsx)(eL,{children:(0,t.jsx)(eG,{"data-slot":"dropdown-menu-content",sideOffset:r,className:(0,eB.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...a})})}function eV({...e}){return(0,t.jsx)(eF,{"data-slot":"dropdown-menu-group",...e})}function eq({className:e,inset:r,variant:a="default",...s}){return(0,t.jsx)(eH,{"data-slot":"dropdown-menu-item","data-inset":r,"data-variant":a,className:(0,eB.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...s})}e.s(["DropdownMenu",()=>e$,"DropdownMenuContent",()=>eK,"DropdownMenuGroup",()=>eV,"DropdownMenuItem",()=>eq,"DropdownMenuTrigger",()=>eU],60147)},38242,e=>e.a(async(t,r)=>{try{var a=e.i(20299),s=e.i(42208),n=e.i(94739),i=e.i(46092),o=e.i(69798),l=e.i(8355),d=e.i(46827),u=e.i(81215),c=e.i(86444),p=e.i(99128),h=e.i(77494),m=e.i(19031),f=e.i(70909),g=e.i(94772),b=e.i(21337),v=e.i(41295),x=e.i(16637),y=e.i(25111),w=e.i(60147),_=t([o,l,c]);[o,l,c]=_.then?(await _)():_;let M=()=>{let{setTheme:e}=(0,b.useTheme)(),[t,r]=(0,v.useState)(!1);return((0,v.useEffect)(()=>{r(!0)},[]),t)?(0,a.jsxs)(w.DropdownMenu,{children:[(0,a.jsx)(w.DropdownMenuTrigger,{asChild:!0,children:(0,a.jsxs)(y.Button,{variant:"outline",size:"icon",className:"cursor-pointer",children:[(0,a.jsx)(f.Sun,{className:"h-[1.2rem] w-[1.2rem] scale-100 rotate-0 transition-all dark:scale-0 dark:-rotate-90"}),(0,a.jsx)(m.Moon,{className:"absolute h-[1.2rem] w-[1.2rem] scale-0 rotate-90 transition-all dark:scale-100 dark:rotate-0"}),(0,a.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}),(0,a.jsx)(w.DropdownMenuContent,{children:(0,a.jsxs)(w.DropdownMenuGroup,{children:[(0,a.jsx)(w.DropdownMenuItem,{onClick:()=>e("light"),children:"Light"}),(0,a.jsx)(w.DropdownMenuItem,{onClick:()=>e("dark"),children:"Dark"}),(0,a.jsx)(w.DropdownMenuItem,{onClick:()=>e("system"),children:"System"})]})})]}):null};function j({children:e}){return(0,a.jsxs)("html",{lang:"en",suppressHydrationWarning:!0,children:[(0,a.jsxs)("head",{children:[(0,a.jsx)("meta",{charSet:"UTF-8"}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,a.jsx)("meta",{name:"description",content:"Chat UI web application powered by Ailoy"}),(0,a.jsx)("title",{children:"Ailoy Web UI"})]}),(0,a.jsx)("body",{className:`${n.default.variable} ${i.default.variable} antialiased`,children:(0,a.jsx)(u.ThemeProvider,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!0,children:(0,a.jsx)(o.AiloyAgentProvider,{children:(0,a.jsx)(c.ThreadProvider,{children:(0,a.jsx)(l.AiloyRuntimeProvider,{children:(0,a.jsx)(h.SidebarProvider,{children:(0,a.jsxs)("div",{className:"flex h-dvh w-full pr-0.5",children:[(0,a.jsx)(d.ThreadListSidebar,{}),(0,a.jsxs)(h.SidebarInset,{children:[(0,a.jsxs)("header",{className:"flex h-16 shrink-0 items-center gap-2 border-b px-4",children:[(0,a.jsx)(h.SidebarTrigger,{}),(0,a.jsx)(p.Separator,{orientation:"vertical",className:"mr-2 h-4"}),(0,a.jsxs)("div",{className:"flex w-full justify-end gap-4",children:[(0,a.jsx)(M,{}),(0,a.jsx)(g.default,{href:"https://github.com/brekkylab/ailoy",target:"_blank",children:(0,a.jsx)(y.Button,{variant:"outline",size:"icon",className:"cursor-pointer",children:(0,a.jsx)(x.Icons.github,{className:"h-[1.5rem] w-[1.5rem] scale-100"})})})]})]}),(0,a.jsx)("div",{className:"flex-1 overflow-hidden",children:e})]})]})})})})})})}),(0,a.jsx)(s.GoogleAnalytics,{gaId:"G-YD06F47LN4"})]})}e.s(["default",()=>j]),r()}catch(e){r(e)}},!1)]);